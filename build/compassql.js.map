{"version":3,"file":"compassql.js","sources":["../node_modules/tslib/tslib.es6.js","../node_modules/jsonify/lib/parse.js","../node_modules/jsonify/lib/stringify.js","../node_modules/jsonify/index.js","../node_modules/json-stable-stringify/index.js","../node_modules/vega-util/src/accessor.js","../node_modules/vega-util/src/error.js","../node_modules/vega-util/src/splitAccessPath.js","../node_modules/vega-util/src/isArray.js","../node_modules/vega-util/src/isObject.js","../node_modules/vega-util/src/isString.js","../node_modules/vega-util/src/stringValue.js","../node_modules/vega-util/src/field.js","../node_modules/vega-util/src/accessors.js","../node_modules/vega-util/src/logger.js","../node_modules/vega-util/src/peek.js","../node_modules/vega-util/src/toNumber.js","../node_modules/vega-util/src/transform.js","../node_modules/vega-util/src/array.js","../node_modules/vega-util/src/isFunction.js","../node_modules/vega-util/src/compare.js","../node_modules/vega-util/src/constant.js","../node_modules/vega-util/src/debounce.js","../node_modules/vega-util/src/extend.js","../node_modules/vega-util/src/extentIndex.js","../node_modules/vega-util/src/fastmap.js","../node_modules/vega-util/src/inherits.js","../node_modules/vega-util/src/isBoolean.js","../node_modules/vega-util/src/isDate.js","../node_modules/vega-util/src/isNumber.js","../node_modules/vega-util/src/isRegExp.js","../node_modules/vega-util/src/key.js","../node_modules/vega-util/src/merge.js","../node_modules/vega-util/src/repeat.js","../node_modules/vega-util/src/pad.js","../node_modules/vega-util/src/toBoolean.js","../node_modules/vega-util/src/toDate.js","../node_modules/vega-util/src/toString.js","../node_modules/vega-util/src/toSet.js","../node_modules/vega-util/src/truncate.js","../node_modules/vega-util/src/visitArray.js","../node_modules/vega-lite/build/src/logical.js","../node_modules/vega-lite/build/src/util.js","../node_modules/vega-lite/build/src/channel.js","../node_modules/vega-lite/build/src/axis.js","../node_modules/vega-lite/build/src/log.js","../node_modules/vega-lite/build/src/scale.js","../node_modules/vega-lite/build/src/legend.js","src/property.js","../node_modules/datalib/src/util.js","src/util.js","../node_modules/vega-lite/build/src/mark.js","../node_modules/vega-lite/build/src/datetime.js","../node_modules/vega-lite/build/src/timeunit.js","../node_modules/vega-lite/build/src/type.js","src/wildcard.js","src/config.js","../node_modules/vega-lite/build/src/aggregate.js","../node_modules/vega-lite/build/src/bin.js","../node_modules/vega-lite/build/src/fielddef.js","src/query/expandedtype.js","../node_modules/vega-lite/build/src/compile/scale/type.js","../node_modules/vega-lite/build/src/encoding.js","../node_modules/vega-lite/build/src/stack.js","src/query/spec.js","src/propindex.js","src/query/shorthand.js","src/query/encoding.js","../node_modules/datalib/src/import/type.js","../node_modules/datalib/src/generate.js","../node_modules/datalib/src/stats.js","../node_modules/datalib/node_modules/d3-time/build/d3-time.js","../node_modules/datalib/src/time.js","../node_modules/datalib/src/bins/bins.js","src/schema.js","src/constraint/base.js","src/constraint/field.js","src/constraint/value.js","src/constraint/encoding.js","src/constraint/spec.js","src/constraint/index.js","src/enumerator.js","src/wildcardindex.js","src/query/groupby.js","src/nest.js","src/model.js","src/query/transform.js","src/query/normalize.js","src/query/index.js","src/result.js","src/ranking/effectiveness/type.js","src/ranking/effectiveness/base.js","src/ranking/effectiveness/axis.js","src/ranking/effectiveness/dimension.js","src/ranking/effectiveness/facet.js","src/ranking/effectiveness/sizechannel.js","src/ranking/effectiveness/typechannel.js","src/ranking/effectiveness/mark.js","src/ranking/effectiveness/index.js","src/ranking/aggregation.js","src/ranking/fieldorder.js","src/ranking/ranking.js","src/stylize.js","src/generate.js","src/recommend.js","src/index.js"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","var at, // The index of the current character\n    ch, // The current character\n    escapee = {\n        '\"':  '\"',\n        '\\\\': '\\\\',\n        '/':  '/',\n        b:    '\\b',\n        f:    '\\f',\n        n:    '\\n',\n        r:    '\\r',\n        t:    '\\t'\n    },\n    text,\n\n    error = function (m) {\n        // Call error when something is wrong.\n        throw {\n            name:    'SyntaxError',\n            message: m,\n            at:      at,\n            text:    text\n        };\n    },\n    \n    next = function (c) {\n        // If a c parameter is provided, verify that it matches the current character.\n        if (c && c !== ch) {\n            error(\"Expected '\" + c + \"' instead of '\" + ch + \"'\");\n        }\n        \n        // Get the next character. When there are no more characters,\n        // return the empty string.\n        \n        ch = text.charAt(at);\n        at += 1;\n        return ch;\n    },\n    \n    number = function () {\n        // Parse a number value.\n        var number,\n            string = '';\n        \n        if (ch === '-') {\n            string = '-';\n            next('-');\n        }\n        while (ch >= '0' && ch <= '9') {\n            string += ch;\n            next();\n        }\n        if (ch === '.') {\n            string += '.';\n            while (next() && ch >= '0' && ch <= '9') {\n                string += ch;\n            }\n        }\n        if (ch === 'e' || ch === 'E') {\n            string += ch;\n            next();\n            if (ch === '-' || ch === '+') {\n                string += ch;\n                next();\n            }\n            while (ch >= '0' && ch <= '9') {\n                string += ch;\n                next();\n            }\n        }\n        number = +string;\n        if (!isFinite(number)) {\n            error(\"Bad number\");\n        } else {\n            return number;\n        }\n    },\n    \n    string = function () {\n        // Parse a string value.\n        var hex,\n            i,\n            string = '',\n            uffff;\n        \n        // When parsing for string values, we must look for \" and \\ characters.\n        if (ch === '\"') {\n            while (next()) {\n                if (ch === '\"') {\n                    next();\n                    return string;\n                } else if (ch === '\\\\') {\n                    next();\n                    if (ch === 'u') {\n                        uffff = 0;\n                        for (i = 0; i < 4; i += 1) {\n                            hex = parseInt(next(), 16);\n                            if (!isFinite(hex)) {\n                                break;\n                            }\n                            uffff = uffff * 16 + hex;\n                        }\n                        string += String.fromCharCode(uffff);\n                    } else if (typeof escapee[ch] === 'string') {\n                        string += escapee[ch];\n                    } else {\n                        break;\n                    }\n                } else {\n                    string += ch;\n                }\n            }\n        }\n        error(\"Bad string\");\n    },\n\n    white = function () {\n\n// Skip whitespace.\n\n        while (ch && ch <= ' ') {\n            next();\n        }\n    },\n\n    word = function () {\n\n// true, false, or null.\n\n        switch (ch) {\n        case 't':\n            next('t');\n            next('r');\n            next('u');\n            next('e');\n            return true;\n        case 'f':\n            next('f');\n            next('a');\n            next('l');\n            next('s');\n            next('e');\n            return false;\n        case 'n':\n            next('n');\n            next('u');\n            next('l');\n            next('l');\n            return null;\n        }\n        error(\"Unexpected '\" + ch + \"'\");\n    },\n\n    value,  // Place holder for the value function.\n\n    array = function () {\n\n// Parse an array value.\n\n        var array = [];\n\n        if (ch === '[') {\n            next('[');\n            white();\n            if (ch === ']') {\n                next(']');\n                return array;   // empty array\n            }\n            while (ch) {\n                array.push(value());\n                white();\n                if (ch === ']') {\n                    next(']');\n                    return array;\n                }\n                next(',');\n                white();\n            }\n        }\n        error(\"Bad array\");\n    },\n\n    object = function () {\n\n// Parse an object value.\n\n        var key,\n            object = {};\n\n        if (ch === '{') {\n            next('{');\n            white();\n            if (ch === '}') {\n                next('}');\n                return object;   // empty object\n            }\n            while (ch) {\n                key = string();\n                white();\n                next(':');\n                if (Object.hasOwnProperty.call(object, key)) {\n                    error('Duplicate key \"' + key + '\"');\n                }\n                object[key] = value();\n                white();\n                if (ch === '}') {\n                    next('}');\n                    return object;\n                }\n                next(',');\n                white();\n            }\n        }\n        error(\"Bad object\");\n    };\n\nvalue = function () {\n\n// Parse a JSON value. It could be an object, an array, a string, a number,\n// or a word.\n\n    white();\n    switch (ch) {\n    case '{':\n        return object();\n    case '[':\n        return array();\n    case '\"':\n        return string();\n    case '-':\n        return number();\n    default:\n        return ch >= '0' && ch <= '9' ? number() : word();\n    }\n};\n\n// Return the json_parse function. It will have access to all of the above\n// functions and variables.\n\nmodule.exports = function (source, reviver) {\n    var result;\n    \n    text = source;\n    at = 0;\n    ch = ' ';\n    result = value();\n    white();\n    if (ch) {\n        error(\"Syntax error\");\n    }\n\n    // If there is a reviver function, we recursively walk the new structure,\n    // passing each name/value pair to the reviver function for possible\n    // transformation, starting with a temporary root object that holds the result\n    // in an empty key. If there is not a reviver function, we simply return the\n    // result.\n\n    return typeof reviver === 'function' ? (function walk(holder, key) {\n        var k, v, value = holder[key];\n        if (value && typeof value === 'object') {\n            for (k in value) {\n                if (Object.prototype.hasOwnProperty.call(value, k)) {\n                    v = walk(value, k);\n                    if (v !== undefined) {\n                        value[k] = v;\n                    } else {\n                        delete value[k];\n                    }\n                }\n            }\n        }\n        return reviver.call(holder, key, value);\n    }({'': result}, '')) : result;\n};\n","var cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n    escapable = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n    gap,\n    indent,\n    meta = {    // table of character substitutions\n        '\\b': '\\\\b',\n        '\\t': '\\\\t',\n        '\\n': '\\\\n',\n        '\\f': '\\\\f',\n        '\\r': '\\\\r',\n        '\"' : '\\\\\"',\n        '\\\\': '\\\\\\\\'\n    },\n    rep;\n\nfunction quote(string) {\n    // If the string contains no control characters, no quote characters, and no\n    // backslash characters, then we can safely slap some quotes around it.\n    // Otherwise we must also replace the offending characters with safe escape\n    // sequences.\n    \n    escapable.lastIndex = 0;\n    return escapable.test(string) ? '\"' + string.replace(escapable, function (a) {\n        var c = meta[a];\n        return typeof c === 'string' ? c :\n            '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n    }) + '\"' : '\"' + string + '\"';\n}\n\nfunction str(key, holder) {\n    // Produce a string from holder[key].\n    var i,          // The loop counter.\n        k,          // The member key.\n        v,          // The member value.\n        length,\n        mind = gap,\n        partial,\n        value = holder[key];\n    \n    // If the value has a toJSON method, call it to obtain a replacement value.\n    if (value && typeof value === 'object' &&\n            typeof value.toJSON === 'function') {\n        value = value.toJSON(key);\n    }\n    \n    // If we were called with a replacer function, then call the replacer to\n    // obtain a replacement value.\n    if (typeof rep === 'function') {\n        value = rep.call(holder, key, value);\n    }\n    \n    // What happens next depends on the value's type.\n    switch (typeof value) {\n        case 'string':\n            return quote(value);\n        \n        case 'number':\n            // JSON numbers must be finite. Encode non-finite numbers as null.\n            return isFinite(value) ? String(value) : 'null';\n        \n        case 'boolean':\n        case 'null':\n            // If the value is a boolean or null, convert it to a string. Note:\n            // typeof null does not produce 'null'. The case is included here in\n            // the remote chance that this gets fixed someday.\n            return String(value);\n            \n        case 'object':\n            if (!value) return 'null';\n            gap += indent;\n            partial = [];\n            \n            // Array.isArray\n            if (Object.prototype.toString.apply(value) === '[object Array]') {\n                length = value.length;\n                for (i = 0; i < length; i += 1) {\n                    partial[i] = str(i, value) || 'null';\n                }\n                \n                // Join all of the elements together, separated with commas, and\n                // wrap them in brackets.\n                v = partial.length === 0 ? '[]' : gap ?\n                    '[\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + ']' :\n                    '[' + partial.join(',') + ']';\n                gap = mind;\n                return v;\n            }\n            \n            // If the replacer is an array, use it to select the members to be\n            // stringified.\n            if (rep && typeof rep === 'object') {\n                length = rep.length;\n                for (i = 0; i < length; i += 1) {\n                    k = rep[i];\n                    if (typeof k === 'string') {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            }\n            else {\n                // Otherwise, iterate through all of the keys in the object.\n                for (k in value) {\n                    if (Object.prototype.hasOwnProperty.call(value, k)) {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            }\n            \n        // Join all of the member texts together, separated with commas,\n        // and wrap them in braces.\n\n        v = partial.length === 0 ? '{}' : gap ?\n            '{\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + '}' :\n            '{' + partial.join(',') + '}';\n        gap = mind;\n        return v;\n    }\n}\n\nmodule.exports = function (value, replacer, space) {\n    var i;\n    gap = '';\n    indent = '';\n    \n    // If the space parameter is a number, make an indent string containing that\n    // many spaces.\n    if (typeof space === 'number') {\n        for (i = 0; i < space; i += 1) {\n            indent += ' ';\n        }\n    }\n    // If the space parameter is a string, it will be used as the indent string.\n    else if (typeof space === 'string') {\n        indent = space;\n    }\n\n    // If there is a replacer, it must be a function or an array.\n    // Otherwise, throw an error.\n    rep = replacer;\n    if (replacer && typeof replacer !== 'function'\n    && (typeof replacer !== 'object' || typeof replacer.length !== 'number')) {\n        throw new Error('JSON.stringify');\n    }\n    \n    // Make a fake root object containing our value under the key of ''.\n    // Return the result of stringifying the value.\n    return str('', {'': value});\n};\n","exports.parse = require('./lib/parse');\nexports.stringify = require('./lib/stringify');\n","var json = typeof JSON !== 'undefined' ? JSON : require('jsonify');\n\nmodule.exports = function (obj, opts) {\n    if (!opts) opts = {};\n    if (typeof opts === 'function') opts = { cmp: opts };\n    var space = opts.space || '';\n    if (typeof space === 'number') space = Array(space+1).join(' ');\n    var cycles = (typeof opts.cycles === 'boolean') ? opts.cycles : false;\n    var replacer = opts.replacer || function(key, value) { return value; };\n\n    var cmp = opts.cmp && (function (f) {\n        return function (node) {\n            return function (a, b) {\n                var aobj = { key: a, value: node[a] };\n                var bobj = { key: b, value: node[b] };\n                return f(aobj, bobj);\n            };\n        };\n    })(opts.cmp);\n\n    var seen = [];\n    return (function stringify (parent, key, node, level) {\n        var indent = space ? ('\\n' + new Array(level + 1).join(space)) : '';\n        var colonSeparator = space ? ': ' : ':';\n\n        if (node && node.toJSON && typeof node.toJSON === 'function') {\n            node = node.toJSON();\n        }\n\n        node = replacer.call(parent, key, node);\n\n        if (node === undefined) {\n            return;\n        }\n        if (typeof node !== 'object' || node === null) {\n            return json.stringify(node);\n        }\n        if (isArray(node)) {\n            var out = [];\n            for (var i = 0; i < node.length; i++) {\n                var item = stringify(node, i, node[i], level+1) || json.stringify(null);\n                out.push(indent + space + item);\n            }\n            return '[' + out.join(',') + indent + ']';\n        }\n        else {\n            if (seen.indexOf(node) !== -1) {\n                if (cycles) return json.stringify('__cycle__');\n                throw new TypeError('Converting circular structure to JSON');\n            }\n            else seen.push(node);\n\n            var keys = objectKeys(node).sort(cmp && cmp(node));\n            var out = [];\n            for (var i = 0; i < keys.length; i++) {\n                var key = keys[i];\n                var value = stringify(node, key, node[key], level+1);\n\n                if(!value) continue;\n\n                var keyValue = json.stringify(key)\n                    + colonSeparator\n                    + value;\n                ;\n                out.push(indent + space + keyValue);\n            }\n            seen.splice(seen.indexOf(node), 1);\n            return '{' + out.join(',') + indent + '}';\n        }\n    })({ '': obj }, '', obj, 0);\n};\n\nvar isArray = Array.isArray || function (x) {\n    return {}.toString.call(x) === '[object Array]';\n};\n\nvar objectKeys = Object.keys || function (obj) {\n    var has = Object.prototype.hasOwnProperty || function () { return true };\n    var keys = [];\n    for (var key in obj) {\n        if (has.call(obj, key)) keys.push(key);\n    }\n    return keys;\n};\n","export default function(fn, fields, name) {\n  fn.fields = fields || [];\n  fn.fname = name;\n  return fn;\n}\n\nexport function accessorName(fn) {\n  return fn == null ? null : fn.fname;\n}\n\nexport function accessorFields(fn) {\n  return fn == null ? null : fn.fields;\n}\n","export default function(message) {\n  throw Error(message);\n}\n","import error from './error';\n\nexport default function(p) {\n  var path = [],\n      q = null,\n      b = 0,\n      n = p.length,\n      s = '',\n      i, j, c;\n\n  p = p + '';\n\n  function push() {\n    path.push(s + p.substring(i, j));\n    s = '';\n    i = j + 1;\n  }\n\n  for (i=j=0; j<n; ++j) {\n    c = p[j];\n    if (c === '\\\\') {\n      s += p.substring(i, j);\n      i = ++j;\n    } else if (c === q) {\n      push();\n      q = null;\n      b = -1;\n    } else if (q) {\n      continue;\n    } else if (i === b && c === '\"') {\n      i = j + 1;\n      q = c;\n    } else if (i === b && c === \"'\") {\n      i = j + 1;\n      q = c;\n    } else if (c === '.' && !b) {\n      if (j > i) {\n        push();\n      } else {\n        i = j + 1;\n      }\n    } else if (c === '[') {\n      if (j > i) push();\n      b = i = j + 1;\n    } else if (c === ']') {\n      if (!b) error('Access path missing open bracket: ' + p);\n      if (b > 0) push();\n      b = 0;\n      i = j + 1;\n    }\n  }\n\n  if (b) error('Access path missing closing bracket: ' + p);\n  if (q) error('Access path missing closing quote: ' + p);\n\n  if (j > i) {\n    j++;\n    push();\n  }\n\n  return path;\n}\n","export default Array.isArray;\n","export default function(_) {\n  return _ === Object(_);\n}\n","export default function(_) {\n  return typeof _ === 'string';\n}\n","import isArray from './isArray';\nimport isObject from './isObject';\nimport isString from './isString';\n\nexport default function $(x) {\n  return isArray(x) ? '[' + x.map($) + ']'\n    : isObject(x) || isString(x) ?\n      // Output valid JSON and JS source strings.\n      // See http://timelessrepo.com/json-isnt-a-javascript-subset\n      JSON.stringify(x).replace('\\u2028','\\\\u2028').replace('\\u2029', '\\\\u2029')\n    : x;\n}\n","import accessor from './accessor';\nimport splitAccessPath from './splitAccessPath';\nimport stringValue from './stringValue';\n\nexport default function(field, name) {\n  var path = splitAccessPath(field),\n      code = 'return _[' + path.map(stringValue).join('][') + '];';\n\n  return accessor(\n    Function('_', code),\n    [(field = path.length===1 ? path[0] : field)],\n    name || field\n  );\n}\n","import accessor from './accessor';\nimport field from './field';\n\nvar empty = [];\n\nexport var id = field('id');\n\nexport var identity = accessor(function(_) { return _; }, empty, 'identity');\n\nexport var zero = accessor(function() { return 0; }, empty, 'zero');\n\nexport var one = accessor(function() { return 1; }, empty, 'one');\n\nexport var truthy = accessor(function() { return true; }, empty, 'true');\n\nexport var falsy = accessor(function() { return false; }, empty, 'false');\n","function log(method, level, input) {\n  var args = [level].concat([].slice.call(input));\n  console[method].apply(console, args); // eslint-disable-line no-console\n}\n\nexport var None  = 0;\nexport var Error = 1;\nexport var Warn  = 2;\nexport var Info  = 3;\nexport var Debug = 4;\n\nexport default function(_) {\n  var level = _ || None;\n  return {\n    level: function(_) {\n      if (arguments.length) {\n        level = +_;\n        return this;\n      } else {\n        return level;\n      }\n    },\n    error: function() {\n      if (level >= Error) log('error', 'ERROR', arguments);\n      return this;\n    },\n    warn: function() {\n      if (level >= Warn) log('warn', 'WARN', arguments);\n      return this;\n    },\n    info: function() {\n      if (level >= Info) log('log', 'INFO', arguments);\n      return this;\n    },\n    debug: function() {\n      if (level >= Debug) log('log', 'DEBUG', arguments);\n      return this;\n    }\n  }\n}\n","export default function(array) {\n  return array[array.length - 1];\n}\n","export default function(_) {\n  return _ == null || _ === '' ? null : +_;\n}\n","import {identity} from './accessors';\nimport peek from './peek';\nimport toNumber from './toNumber';\n\nfunction exp(sign) {\n  return function(x) { return sign * Math.exp(x); };\n}\n\nfunction log(sign) {\n  return function(x) { return Math.log(sign * x); };\n}\n\nfunction pow(exponent) {\n  return function(x) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  };\n}\n\nfunction pan(domain, delta, lift, ground) {\n  var d0 = lift(domain[0]),\n      d1 = lift(peek(domain)),\n      dd = (d1 - d0) * delta;\n\n  return [\n    ground(d0 - dd),\n    ground(d1 - dd)\n  ];\n}\n\nexport function panLinear(domain, delta) {\n  return pan(domain, delta, toNumber, identity);\n}\n\nexport function panLog(domain, delta) {\n  var sign = Math.sign(domain[0]);\n  return pan(domain, delta, log(sign), exp(sign));\n}\n\nexport function panPow(domain, delta, exponent) {\n  return pan(domain, delta, pow(exponent), pow(1/exponent));\n}\n\nfunction zoom(domain, anchor, scale, lift, ground) {\n  var d0 = lift(domain[0]),\n      d1 = lift(peek(domain)),\n      da = anchor != null ? lift(anchor) : (d0 + d1) / 2;\n\n  return [\n    ground(da + (d0 - da) * scale),\n    ground(da + (d1 - da) * scale)\n  ];\n}\n\nexport function zoomLinear(domain, anchor, scale) {\n  return zoom(domain, anchor, scale, toNumber, identity);\n}\n\nexport function zoomLog(domain, anchor, scale) {\n  var sign = Math.sign(domain[0]);\n  return zoom(domain, anchor, scale, log(sign), exp(sign));\n}\n\nexport function zoomPow(domain, anchor, scale, exponent) {\n  return zoom(domain, anchor, scale, pow(exponent), pow(1/exponent));\n}\n","import isArray from './isArray';\n\nexport default function(_) {\n  return _ != null ? (isArray(_) ? _ : [_]) : [];\n}\n","export default function(_) {\n  return typeof _ === 'function';\n}\n","import {default as accessor, accessorFields} from './accessor';\nimport array from './array';\nimport isFunction from './isFunction';\nimport splitAccessPath from './splitAccessPath';\nimport stringValue from './stringValue';\n\nexport default function(fields, orders) {\n  var idx = [],\n      cmp = (fields = array(fields)).map(function(f, i) {\n        if (f == null) {\n          return null;\n        } else {\n          idx.push(i);\n          return isFunction(f) ? f\n            : splitAccessPath(f).map(stringValue).join('][');\n        }\n      }),\n      n = idx.length - 1,\n      ord = array(orders),\n      code = 'var u,v;return ',\n      i, j, f, u, v, d, t, lt, gt;\n\n  if (n < 0) return null;\n\n  for (j=0; j<=n; ++j) {\n    i = idx[j];\n    f = cmp[i];\n\n    if (isFunction(f)) {\n      d = 'f' + i;\n      u = '(u=this.' + d + '(a))';\n      v = '(v=this.' + d + '(b))';\n      (t = t || {})[d] = f;\n    } else {\n      u = '(u=a['+f+'])';\n      v = '(v=b['+f+'])';\n    }\n\n    d = '((v=v instanceof Date?+v:v),(u=u instanceof Date?+u:u))';\n\n    if (ord[i] !== 'descending') {\n      gt = 1;\n      lt = -1;\n    } else {\n      gt = -1;\n      lt = 1;\n    }\n\n    code += '(' + u+'<'+v+'||u==null)&&v!=null?' + lt\n      + ':(u>v||v==null)&&u!=null?' + gt\n      + ':'+d+'!==u&&v===v?' + lt\n      + ':v!==v&&u===u?' + gt\n      + (i < n ? ':' : ':0');\n  }\n\n  f = Function('a', 'b', code + ';');\n  if (t) f = f.bind(t);\n\n  fields = fields.reduce(function(map, field) {\n    if (isFunction(field)) {\n      (accessorFields(field) || []).forEach(function(_) { map[_] = 1; });\n    } else if (field != null) {\n      map[field + ''] = 1;\n    }\n    return map;\n  }, {});\n\n  return accessor(f, Object.keys(fields));\n}\n","import isFunction from './isFunction';\n\nexport default function(_) {\n  return isFunction(_) ? _ : function() { return _; };\n}\n","export default function(delay, handler) {\n  var tid, evt;\n\n  function callback() {\n    handler(evt);\n    tid = evt = null;\n  }\n\n  return function(e) {\n    evt = e;\n    if (tid) clearTimeout(tid);\n    tid = setTimeout(callback, delay);\n  };\n}\n","export default function(_) {\n  for (var x, k, i=1, len=arguments.length; i<len; ++i) {\n    x = arguments[i];\n    for (k in x) { _[k] = x[k]; }\n  }\n  return _;\n}\n","export default function(array, f) {\n  var i = -1,\n      n = array.length,\n      a, b, c, u, v;\n\n  if (f == null) {\n    while (++i < n) {\n      b = array[i];\n      if (b != null && b >= b) {\n        a = c = b;\n        break;\n      }\n    }\n    u = v = i;\n    while (++i < n) {\n      b = array[i];\n      if (b != null) {\n        if (a > b) {\n          a = b;\n          u = i;\n        }\n        if (c < b) {\n          c = b;\n          v = i;\n        }\n      }\n    }\n  } else {\n    while (++i < n) {\n      b = f(array[i], i, array);\n      if (b != null && b >= b) {\n        a = c = b;\n        break;\n      }\n    }\n    u = v = i;\n    while (++i < n) {\n      b = f(array[i], i, array);\n      if (b != null) {\n        if (a > b) {\n          a = b;\n          u = i;\n        }\n        if (c < b) {\n          c = b;\n          v = i;\n        }\n      }\n    }\n  }\n\n  return [u, v];\n}\n","var NULL = {};\n\nexport default function(input) {\n  var obj = {},\n      map,\n      test;\n\n  function has(key) {\n    return obj.hasOwnProperty(key) && obj[key] !== NULL;\n  }\n\n  map = {\n    size: 0,\n    empty: 0,\n    object: obj,\n    has: has,\n    get: function(key) {\n      return has(key) ? obj[key] : undefined;\n    },\n    set: function(key, value) {\n      if (!has(key)) {\n        ++map.size;\n        if (obj[key] === NULL) --map.empty;\n      }\n      obj[key] = value;\n      return this;\n    },\n    delete: function(key) {\n      if (has(key)) {\n        --map.size;\n        ++map.empty;\n        obj[key] = NULL;\n      }\n      return this;\n    },\n    clear: function() {\n      map.size = map.empty = 0;\n      map.object = obj = {};\n    },\n    test: function(_) {\n      if (arguments.length) {\n        test = _;\n        return map;\n      } else {\n        return test;\n      }\n    },\n    clean: function() {\n      var next = {},\n          size = 0,\n          key, value;\n      for (key in obj) {\n        value = obj[key];\n        if (value !== NULL && (!test || !test(value))) {\n          next[key] = value;\n          ++size;\n        }\n      }\n      map.size = size;\n      map.empty = 0;\n      map.object = (obj = next);\n    }\n  };\n\n  if (input) Object.keys(input).forEach(function(key) {\n    map.set(key, input[key]);\n  });\n\n  return map;\n}\n","export default function(child, parent) {\n  var proto = (child.prototype = Object.create(parent.prototype));\n  proto.constructor = child;\n  return proto;\n}\n","export default function(_) {\n  return typeof _ === 'boolean';\n}\n","export default function(_) {\n  return Object.prototype.toString.call(_) === '[object Date]';\n}\n","export default function(_) {\n  return typeof _ === 'number';\n}\n","export default function(_) {\n  return Object.prototype.toString.call(_) === '[object RegExp]';\n}\n","import accessor from './accessor';\nimport array from './array';\nimport splitAccessPath from './splitAccessPath';\nimport stringValue from './stringValue';\n\nexport default function(fields, flat) {\n  if (fields) {\n    fields = flat\n      ? array(fields).map(function(f) { return f.replace(/\\\\(.)/g, '$1'); })\n      : array(fields);\n  }\n\n  var fn = !(fields && fields.length)\n    ? function() { return ''; }\n    : Function('_', 'return \\'\\'+' +\n        fields.map(function(f) {\n          return '_[' + (flat\n              ? stringValue(f)\n              : splitAccessPath(f).map(stringValue).join('][')\n            ) + ']';\n        }).join('+\\'|\\'+') + ';');\n\n  return accessor(fn, fields, 'key');\n}\n","export default function(compare, array0, array1, output) {\n  var n0 = array0.length,\n      n1 = array1.length;\n\n  if (!n1) return array0;\n  if (!n0) return array1;\n\n  var merged = output || new array0.constructor(n0 + n1),\n      i0 = 0, i1 = 0, i = 0;\n\n  for (; i0<n0 && i1<n1; ++i) {\n    merged[i] = compare(array0[i0], array1[i1]) > 0\n       ? array1[i1++]\n       : array0[i0++];\n  }\n\n  for (; i0<n0; ++i0, ++i) {\n    merged[i] = array0[i0];\n  }\n\n  for (; i1<n1; ++i1, ++i) {\n    merged[i] = array1[i1];\n  }\n\n  return merged;\n}\n","export default function(str, reps) {\n  var s = '';\n  while (--reps >= 0) s += str;\n  return s;\n}\n","import repeat from './repeat';\n\nexport default function(str, length, padchar, align) {\n  var c = padchar || ' ',\n      s = str + '',\n      n = length - s.length;\n\n  return n <= 0 ? s\n    : align === 'left' ? repeat(c, n) + s\n    : align === 'center' ? repeat(c, ~~(n/2)) + s + repeat(c, Math.ceil(n/2))\n    : s + repeat(c, n);\n}\n","export default function(_) {\n  return _ == null || _ === '' ? null : !_ || _ === 'false' || _ === '0' ? false : !!_;\n}\n","import isDate from './isDate';\nimport isNumber from './isNumber';\n\nfunction defaultParser(_) {\n  return isNumber(_) ? _ : isDate(_) ? _ : Date.parse(_);\n}\n\nexport default function(_, parser) {\n  parser = parser || defaultParser;\n  return _ == null || _ === '' ? null : parser(_);\n}\n","export default function(_) {\n  return _ == null || _ === '' ? null : _ + '';\n}\n","export default function(_) {\n  for (var s={}, i=0, n=_.length; i<n; ++i) s[_[i]] = true;\n  return s;\n}\n","export default function(str, length, align, ellipsis) {\n  var e = ellipsis != null ? ellipsis : '\\u2026',\n      s = str + '',\n      n = s.length,\n      l = Math.max(0, length - e.length);\n\n  return n <= length ? s\n    : align === 'left' ? e + s.slice(n - l)\n    : align === 'center' ? s.slice(0, Math.ceil(l/2)) + e + s.slice(n - ~~(l/2))\n    : s.slice(0, l) + e;\n}\n","export default function(array, filter, visitor) {\n  if (array) {\n    var i = 0, n = array.length, t;\n    if (filter) {\n      for (; i<n; ++i) {\n        if (t = filter(array[i])) visitor(t, i, array);\n      }\n    } else {\n      array.forEach(visitor);\n    }\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isLogicalOr(op) {\n    return !!op.or;\n}\nexports.isLogicalOr = isLogicalOr;\nfunction isLogicalAnd(op) {\n    return !!op.and;\n}\nexports.isLogicalAnd = isLogicalAnd;\nfunction isLogicalNot(op) {\n    return !!op.not;\n}\nexports.isLogicalNot = isLogicalNot;\nfunction forEachLeave(op, fn) {\n    if (isLogicalNot(op)) {\n        forEachLeave(op.not, fn);\n    }\n    else if (isLogicalAnd(op)) {\n        for (var _i = 0, _a = op.and; _i < _a.length; _i++) {\n            var subop = _a[_i];\n            forEachLeave(subop, fn);\n        }\n    }\n    else if (isLogicalOr(op)) {\n        for (var _b = 0, _c = op.or; _b < _c.length; _b++) {\n            var subop = _c[_b];\n            forEachLeave(subop, fn);\n        }\n    }\n    else {\n        fn(op);\n    }\n}\nexports.forEachLeave = forEachLeave;\nfunction normalizeLogicalOperand(op, normalizer) {\n    if (isLogicalNot(op)) {\n        return { not: normalizeLogicalOperand(op.not, normalizer) };\n    }\n    else if (isLogicalAnd(op)) {\n        return { and: op.and.map(function (o) { return normalizeLogicalOperand(o, normalizer); }) };\n    }\n    else if (isLogicalOr(op)) {\n        return { or: op.or.map(function (o) { return normalizeLogicalOperand(o, normalizer); }) };\n    }\n    else {\n        return normalizer(op);\n    }\n}\nexports.normalizeLogicalOperand = normalizeLogicalOperand;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9naWNhbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9sb2dpY2FsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBY0EscUJBQTRCLEVBQXVCO0lBQ2pELE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUM7QUFDakIsQ0FBQztBQUZELGtDQUVDO0FBRUQsc0JBQTZCLEVBQXVCO0lBQ2xELE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUM7QUFDbEIsQ0FBQztBQUZELG9DQUVDO0FBRUQsc0JBQTZCLEVBQXVCO0lBQ2xELE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUM7QUFDbEIsQ0FBQztBQUZELG9DQUVDO0FBRUQsc0JBQWdDLEVBQXFCLEVBQUUsRUFBbUI7SUFDeEUsSUFBSSxZQUFZLENBQUMsRUFBRSxDQUFDLEVBQUU7UUFDcEIsWUFBWSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLENBQUM7S0FDMUI7U0FBTSxJQUFJLFlBQVksQ0FBQyxFQUFFLENBQUMsRUFBRTtRQUMzQixLQUFvQixVQUFNLEVBQU4sS0FBQSxFQUFFLENBQUMsR0FBRyxFQUFOLGNBQU0sRUFBTixJQUFNO1lBQXJCLElBQU0sS0FBSyxTQUFBO1lBQ2QsWUFBWSxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQztTQUN6QjtLQUNGO1NBQU0sSUFBSSxXQUFXLENBQUMsRUFBRSxDQUFDLEVBQUU7UUFDMUIsS0FBb0IsVUFBSyxFQUFMLEtBQUEsRUFBRSxDQUFDLEVBQUUsRUFBTCxjQUFLLEVBQUwsSUFBSztZQUFwQixJQUFNLEtBQUssU0FBQTtZQUNkLFlBQVksQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7U0FDekI7S0FDRjtTQUFNO1FBQ0wsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0tBQ1I7QUFDSCxDQUFDO0FBZEQsb0NBY0M7QUFFRCxpQ0FBMkMsRUFBcUIsRUFBRSxVQUF1QjtJQUN2RixJQUFJLFlBQVksQ0FBQyxFQUFFLENBQUMsRUFBRTtRQUNwQixPQUFPLEVBQUMsR0FBRyxFQUFFLHVCQUF1QixDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsVUFBVSxDQUFDLEVBQUMsQ0FBQztLQUMzRDtTQUFNLElBQUksWUFBWSxDQUFDLEVBQUUsQ0FBQyxFQUFFO1FBQzNCLE9BQU8sRUFBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSx1QkFBdUIsQ0FBQyxDQUFDLEVBQUUsVUFBVSxDQUFDLEVBQXRDLENBQXNDLENBQUMsRUFBQyxDQUFDO0tBQ3ZFO1NBQU0sSUFBSSxXQUFXLENBQUMsRUFBRSxDQUFDLEVBQUU7UUFDMUIsT0FBTyxFQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxVQUFBLENBQUMsSUFBSSxPQUFBLHVCQUF1QixDQUFDLENBQUMsRUFBRSxVQUFVLENBQUMsRUFBdEMsQ0FBc0MsQ0FBQyxFQUFDLENBQUM7S0FDckU7U0FBTTtRQUNMLE9BQU8sVUFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0tBQ3ZCO0FBQ0gsQ0FBQztBQVZELDBEQVVDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHR5cGUgTG9naWNhbE9wZXJhbmQ8VD4gPSBMb2dpY2FsTm90PFQ+IHwgTG9naWNhbEFuZDxUPiB8IExvZ2ljYWxPcjxUPiB8IFQ7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9naWNhbE9yPFQ+IHtcbiAgb3I6IExvZ2ljYWxPcGVyYW5kPFQ+W107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9naWNhbEFuZDxUPiB7XG4gIGFuZDogTG9naWNhbE9wZXJhbmQ8VD5bXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMb2dpY2FsTm90PFQ+IHtcbiAgbm90OiBMb2dpY2FsT3BlcmFuZDxUPjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTG9naWNhbE9yKG9wOiBMb2dpY2FsT3BlcmFuZDxhbnk+KTogb3AgaXMgTG9naWNhbE9yPGFueT4ge1xuICByZXR1cm4gISFvcC5vcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTG9naWNhbEFuZChvcDogTG9naWNhbE9wZXJhbmQ8YW55Pik6IG9wIGlzIExvZ2ljYWxBbmQ8YW55PiB7XG4gIHJldHVybiAhIW9wLmFuZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTG9naWNhbE5vdChvcDogTG9naWNhbE9wZXJhbmQ8YW55Pik6IG9wIGlzIExvZ2ljYWxOb3Q8YW55PiB7XG4gIHJldHVybiAhIW9wLm5vdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvckVhY2hMZWF2ZTxUPihvcDogTG9naWNhbE9wZXJhbmQ8VD4sIGZuOiAob3A6IFQpID0+IHZvaWQpIHtcbiAgaWYgKGlzTG9naWNhbE5vdChvcCkpIHtcbiAgICBmb3JFYWNoTGVhdmUob3Aubm90LCBmbik7XG4gIH0gZWxzZSBpZiAoaXNMb2dpY2FsQW5kKG9wKSkge1xuICAgIGZvciAoY29uc3Qgc3Vib3Agb2Ygb3AuYW5kKSB7XG4gICAgICBmb3JFYWNoTGVhdmUoc3Vib3AsIGZuKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNMb2dpY2FsT3Iob3ApKSB7XG4gICAgZm9yIChjb25zdCBzdWJvcCBvZiBvcC5vcikge1xuICAgICAgZm9yRWFjaExlYXZlKHN1Ym9wLCBmbik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZuKG9wKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplTG9naWNhbE9wZXJhbmQ8VD4ob3A6IExvZ2ljYWxPcGVyYW5kPFQ+LCBub3JtYWxpemVyOiAobzogVCkgPT4gVCk6IExvZ2ljYWxPcGVyYW5kPFQ+IHtcbiAgaWYgKGlzTG9naWNhbE5vdChvcCkpIHtcbiAgICByZXR1cm4ge25vdDogbm9ybWFsaXplTG9naWNhbE9wZXJhbmQob3Aubm90LCBub3JtYWxpemVyKX07XG4gIH0gZWxzZSBpZiAoaXNMb2dpY2FsQW5kKG9wKSkge1xuICAgIHJldHVybiB7YW5kOiBvcC5hbmQubWFwKG8gPT4gbm9ybWFsaXplTG9naWNhbE9wZXJhbmQobywgbm9ybWFsaXplcikpfTtcbiAgfSBlbHNlIGlmIChpc0xvZ2ljYWxPcihvcCkpIHtcbiAgICByZXR1cm4ge29yOiBvcC5vci5tYXAobyA9PiBub3JtYWxpemVMb2dpY2FsT3BlcmFuZChvLCBub3JtYWxpemVyKSl9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBub3JtYWxpemVyKG9wKTtcbiAgfVxufVxuIl19","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar stableStringify_ = require(\"json-stable-stringify\");\nvar vega_util_1 = require(\"vega-util\");\nvar logical_1 = require(\"./logical\");\nvar stableStringify = stableStringify_['default'] || stableStringify_;\n/**\n * Creates an object composed of the picked object properties.\n *\n * Example:  (from lodash)\n *\n * var object = {'a': 1, 'b': '2', 'c': 3};\n * pick(object, ['a', 'c']);\n * // → {'a': 1, 'c': 3}\n *\n */\nfunction pick(obj, props) {\n    var copy = {};\n    for (var _i = 0, props_1 = props; _i < props_1.length; _i++) {\n        var prop = props_1[_i];\n        if (obj.hasOwnProperty(prop)) {\n            copy[prop] = obj[prop];\n        }\n    }\n    return copy;\n}\nexports.pick = pick;\n/**\n * The opposite of _.pick; this method creates an object composed of the own\n * and inherited enumerable string keyed properties of object that are not omitted.\n */\nfunction omit(obj, props) {\n    var copy = duplicate(obj);\n    for (var _i = 0, props_2 = props; _i < props_2.length; _i++) {\n        var prop = props_2[_i];\n        delete copy[prop];\n    }\n    return copy;\n}\nexports.omit = omit;\n/**\n * Converts any object into a string representation that can be consumed by humans.\n */\nexports.stringify = stableStringify;\n/**\n * Converts any object into a string of limited size, or a number.\n */\nfunction hash(a) {\n    if (vega_util_1.isNumber(a)) {\n        return a;\n    }\n    var str = vega_util_1.isString(a) ? a : stableStringify(a);\n    // short strings can be used as hash directly, longer strings are hashed to reduce memory usage\n    if (str.length < 100) {\n        return str;\n    }\n    // from http://werxltd.com/wp/2010/05/13/javascript-implementation-of-javas-string-hashcode-method/\n    var h = 0;\n    for (var i = 0; i < str.length; i++) {\n        var char = str.charCodeAt(i);\n        h = ((h << 5) - h) + char;\n        h = h & h; // Convert to 32bit integer\n    }\n    return h;\n}\nexports.hash = hash;\nfunction contains(array, item) {\n    return array.indexOf(item) > -1;\n}\nexports.contains = contains;\n/** Returns the array without the elements in item */\nfunction without(array, excludedItems) {\n    return array.filter(function (item) { return !contains(excludedItems, item); });\n}\nexports.without = without;\nfunction union(array, other) {\n    return array.concat(without(other, array));\n}\nexports.union = union;\n/**\n * Returns true if any item returns true.\n */\nfunction some(arr, f) {\n    var i = 0;\n    for (var k = 0; k < arr.length; k++) {\n        if (f(arr[k], k, i++)) {\n            return true;\n        }\n    }\n    return false;\n}\nexports.some = some;\n/**\n * Returns true if all items return true.\n */\nfunction every(arr, f) {\n    var i = 0;\n    for (var k = 0; k < arr.length; k++) {\n        if (!f(arr[k], k, i++)) {\n            return false;\n        }\n    }\n    return true;\n}\nexports.every = every;\nfunction flatten(arrays) {\n    return [].concat.apply([], arrays);\n}\nexports.flatten = flatten;\n/**\n * recursively merges src into dest\n */\nfunction mergeDeep(dest) {\n    var src = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        src[_i - 1] = arguments[_i];\n    }\n    for (var _a = 0, src_1 = src; _a < src_1.length; _a++) {\n        var s = src_1[_a];\n        dest = deepMerge_(dest, s);\n    }\n    return dest;\n}\nexports.mergeDeep = mergeDeep;\n// recursively merges src into dest\nfunction deepMerge_(dest, src) {\n    if (typeof src !== 'object' || src === null) {\n        return dest;\n    }\n    for (var p in src) {\n        if (!src.hasOwnProperty(p)) {\n            continue;\n        }\n        if (src[p] === undefined) {\n            continue;\n        }\n        if (typeof src[p] !== 'object' || vega_util_1.isArray(src[p]) || src[p] === null) {\n            dest[p] = src[p];\n        }\n        else if (typeof dest[p] !== 'object' || dest[p] === null) {\n            dest[p] = mergeDeep(vega_util_1.isArray(src[p].constructor) ? [] : {}, src[p]);\n        }\n        else {\n            mergeDeep(dest[p], src[p]);\n        }\n    }\n    return dest;\n}\nfunction unique(values, f) {\n    var results = [];\n    var u = {};\n    var v;\n    for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {\n        var val = values_1[_i];\n        v = f(val);\n        if (v in u) {\n            continue;\n        }\n        u[v] = 1;\n        results.push(val);\n    }\n    return results;\n}\nexports.unique = unique;\n/**\n * Returns true if the two dictionaries disagree. Applies only to defined values.\n */\nfunction differ(dict, other) {\n    for (var key in dict) {\n        if (dict.hasOwnProperty(key)) {\n            if (other[key] && dict[key] && other[key] !== dict[key]) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\nexports.differ = differ;\nfunction hasIntersection(a, b) {\n    for (var key in a) {\n        if (key in b) {\n            return true;\n        }\n    }\n    return false;\n}\nexports.hasIntersection = hasIntersection;\nfunction isNumeric(num) {\n    return !isNaN(num);\n}\nexports.isNumeric = isNumeric;\nfunction differArray(array, other) {\n    if (array.length !== other.length) {\n        return true;\n    }\n    array.sort();\n    other.sort();\n    for (var i = 0; i < array.length; i++) {\n        if (other[i] !== array[i]) {\n            return true;\n        }\n    }\n    return false;\n}\nexports.differArray = differArray;\n// This is a stricter version of Object.keys but with better types. See https://github.com/Microsoft/TypeScript/pull/12253#issuecomment-263132208\nexports.keys = Object.keys;\nfunction vals(x) {\n    var _vals = [];\n    for (var k in x) {\n        if (x.hasOwnProperty(k)) {\n            _vals.push(x[k]);\n        }\n    }\n    return _vals;\n}\nexports.vals = vals;\nfunction flagKeys(f) {\n    return exports.keys(f);\n}\nexports.flagKeys = flagKeys;\nfunction duplicate(obj) {\n    return JSON.parse(JSON.stringify(obj));\n}\nexports.duplicate = duplicate;\nfunction isBoolean(b) {\n    return b === true || b === false;\n}\nexports.isBoolean = isBoolean;\n/**\n * Convert a string into a valid variable name\n */\nfunction varName(s) {\n    // Replace non-alphanumeric characters (anything besides a-zA-Z0-9_) with _\n    var alphanumericS = s.replace(/\\W/g, '_');\n    // Add _ if the string has leading numbers.\n    return (s.match(/^\\d+/) ? '_' : '') + alphanumericS;\n}\nexports.varName = varName;\nfunction logicalExpr(op, cb) {\n    if (logical_1.isLogicalNot(op)) {\n        return '!(' + logicalExpr(op.not, cb) + ')';\n    }\n    else if (logical_1.isLogicalAnd(op)) {\n        return '(' + op.and.map(function (and) { return logicalExpr(and, cb); }).join(') && (') + ')';\n    }\n    else if (logical_1.isLogicalOr(op)) {\n        return '(' + op.or.map(function (or) { return logicalExpr(or, cb); }).join(') || (') + ')';\n    }\n    else {\n        return cb(op);\n    }\n}\nexports.logicalExpr = logicalExpr;\n/**\n * Delete nested property of an object, and delete the ancestors of the property if they become empty.\n */\nfunction deleteNestedProperty(obj, orderedProps) {\n    if (orderedProps.length === 0) {\n        return true;\n    }\n    var prop = orderedProps.shift();\n    if (deleteNestedProperty(obj[prop], orderedProps)) {\n        delete obj[prop];\n    }\n    return Object.keys(obj).length === 0;\n}\nexports.deleteNestedProperty = deleteNestedProperty;\nfunction titlecase(s) {\n    return s.charAt(0).toUpperCase() + s.substr(1);\n}\nexports.titlecase = titlecase;\n/**\n * Converts a path to an access path.\n */\nfunction accessPath(path) {\n    return \"[\" + vega_util_1.splitAccessPath(path).map(vega_util_1.stringValue).join('][') + \"]\";\n}\nexports.accessPath = accessPath;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsd0RBQTBEO0FBQzFELHVDQUFvRjtBQUNwRixxQ0FBa0Y7QUFFbEYsSUFBTSxlQUFlLEdBQUcsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLElBQUksZ0JBQWdCLENBQUM7QUFFeEU7Ozs7Ozs7OztHQVNHO0FBQ0gsY0FBcUIsR0FBVyxFQUFFLEtBQWU7SUFDL0MsSUFBTSxJQUFJLEdBQUcsRUFBRSxDQUFDO0lBQ2hCLEtBQW1CLFVBQUssRUFBTCxlQUFLLEVBQUwsbUJBQUssRUFBTCxJQUFLO1FBQW5CLElBQU0sSUFBSSxjQUFBO1FBQ2IsSUFBSSxHQUFHLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQzVCLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDeEI7S0FDRjtJQUNELE9BQU8sSUFBSSxDQUFDO0FBQ2QsQ0FBQztBQVJELG9CQVFDO0FBRUQ7OztHQUdHO0FBQ0gsY0FBcUIsR0FBVyxFQUFFLEtBQWU7SUFDL0MsSUFBTSxJQUFJLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzVCLEtBQW1CLFVBQUssRUFBTCxlQUFLLEVBQUwsbUJBQUssRUFBTCxJQUFLO1FBQW5CLElBQU0sSUFBSSxjQUFBO1FBQ2IsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDbkI7SUFDRCxPQUFPLElBQUksQ0FBQztBQUNkLENBQUM7QUFORCxvQkFNQztBQUVEOztHQUVHO0FBQ1UsUUFBQSxTQUFTLEdBQUcsZUFBZSxDQUFDO0FBRXpDOztHQUVHO0FBQ0gsY0FBcUIsQ0FBTTtJQUN6QixJQUFJLG9CQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUU7UUFDZixPQUFPLENBQUMsQ0FBQztLQUNWO0lBRUQsSUFBTSxHQUFHLEdBQUcsb0JBQVEsQ0FBQyxDQUFD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T0FBTyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7S0FDZjtBQUNILENBQUM7QUFWRCxrQ0FVQztBQU1EOztHQUVHO0FBQ0gsOEJBQXFDLEdBQVEsRUFBRSxZQUFzQjtJQUNuRSxJQUFJLFlBQVksQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1FBQzdCLE9BQU8sSUFBSSxDQUFDO0tBQ2I7SUFDRCxJQUFNLElBQUksR0FBRyxZQUFZLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDbEMsSUFBSSxvQkFBb0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsWUFBWSxDQUFDLEVBQUU7UUFDakQsT0FBTyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDbEI7SUFDRCxPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQztBQUN2QyxDQUFDO0FBVEQsb0RBU0M7QUFFRCxtQkFBMEIsQ0FBUztJQUNqQyxPQUFPLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxFQUFFLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNqRCxDQUFDO0FBRkQsOEJBRUM7QUFFRDs7R0FFRztBQUNILG9CQUEyQixJQUFZO0lBQ3JDLE9BQU8sTUFBSSwyQkFBZSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyx1QkFBVyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFHLENBQUM7QUFDbEUsQ0FBQztBQUZELGdDQUVDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgc3RhYmxlU3RyaW5naWZ5XyBmcm9tICdqc29uLXN0YWJsZS1zdHJpbmdpZnknO1xuaW1wb3J0IHtpc0FycmF5LCBpc051bWJlciwgaXNTdHJpbmcsIHNwbGl0QWNjZXNzUGF0aCwgc3RyaW5nVmFsdWV9IGZyb20gJ3ZlZ2EtdXRpbCc7XG5pbXBvcnQge2lzTG9naWNhbEFuZCwgaXNMb2dpY2FsTm90LCBpc0xvZ2ljYWxPciwgTG9naWNhbE9wZXJhbmR9IGZyb20gJy4vbG9naWNhbCc7XG5cbmNvbnN0IHN0YWJsZVN0cmluZ2lmeSA9IHN0YWJsZVN0cmluZ2lmeV9bJ2RlZmF1bHQnXSB8fCBzdGFibGVTdHJpbmdpZnlfO1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBwaWNrZWQgb2JqZWN0IHByb3BlcnRpZXMuXG4gKlxuICogRXhhbXBsZTogIChmcm9tIGxvZGFzaClcbiAqXG4gKiB2YXIgb2JqZWN0ID0geydhJzogMSwgJ2InOiAnMicsICdjJzogM307XG4gKiBwaWNrKG9iamVjdCwgWydhJywgJ2MnXSk7XG4gKiAvLyDihpIgeydhJzogMSwgJ2MnOiAzfVxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBpY2sob2JqOiBvYmplY3QsIHByb3BzOiBzdHJpbmdbXSkge1xuICBjb25zdCBjb3B5ID0ge307XG4gIGZvciAoY29uc3QgcHJvcCBvZiBwcm9wcykge1xuICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgIGNvcHlbcHJvcF0gPSBvYmpbcHJvcF07XG4gICAgfVxuICB9XG4gIHJldHVybiBjb3B5O1xufVxuXG4vKipcbiAqIFRoZSBvcHBvc2l0ZSBvZiBfLnBpY2s7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBvd25cbiAqIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBvYmplY3QgdGhhdCBhcmUgbm90IG9taXR0ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvbWl0KG9iajogb2JqZWN0LCBwcm9wczogc3RyaW5nW10pIHtcbiAgY29uc3QgY29weSA9IGR1cGxpY2F0ZShvYmopO1xuICBmb3IgKGNvbnN0IHByb3Agb2YgcHJvcHMpIHtcbiAgICBkZWxldGUgY29weVtwcm9wXTtcbiAgfVxuICByZXR1cm4gY29weTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhbnkgb2JqZWN0IGludG8gYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gdGhhdCBjYW4gYmUgY29uc3VtZWQgYnkgaHVtYW5zLlxuICovXG5leHBvcnQgY29uc3Qgc3RyaW5naWZ5ID0gc3RhYmxlU3RyaW5naWZ5O1xuXG4vKipcbiAqIENvbnZlcnRzIGFueSBvYmplY3QgaW50byBhIHN0cmluZyBvZiBsaW1pdGVkIHNpemUsIG9yIGEgbnVtYmVyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzaChhOiBhbnkpIHtcbiAgaWYgKGlzTnVtYmVyKGEpKSB7XG4gICAgcmV0dXJuIGE7XG4gIH1cblxuICBjb25zdCBzdHIgPSBpc1N0cmluZyhhKSA/IGEgOiBzdGFibGVTdHJpbmdpZnkoYSk7XG5cbiAgLy8gc2hvcnQgc3RyaW5ncyBjYW4gYmUgdXNlZCBhcyBoYXNoIGRpcmVjdGx5LCBsb25nZXIgc3RyaW5ncyBhcmUgaGFzaGVkIHRvIHJlZHVjZSBtZW1vcnkgdXNhZ2VcbiAgaWYgKHN0ci5sZW5ndGggPCAxMDApIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG5cbiAgLy8gZnJvbSBodHRwOi8vd2VyeGx0ZC5jb20vd3AvMjAxMC8wNS8xMy9qYXZhc2NyaXB0LWltcGxlbWVudGF0aW9uLW9mLWphdmFzLXN0cmluZy1oYXNoY29kZS1tZXRob2QvXG4gIGxldCBoID0gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjaGFyID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgaCA9ICgoaDw8NSktaCkrY2hhcjtcbiAgICBoID0gaCAmIGg7IC8vIENvbnZlcnQgdG8gMzJiaXQgaW50ZWdlclxuICB9XG4gIHJldHVybiBoO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udGFpbnM8VD4oYXJyYXk6IFRbXSwgaXRlbTogVCkge1xuICByZXR1cm4gYXJyYXkuaW5kZXhPZihpdGVtKSA+IC0xO1xufVxuXG4vKiogUmV0dXJucyB0aGUgYXJyYXkgd2l0aG91dCB0aGUgZWxlbWVudHMgaW4gaXRlbSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdpdGhvdXQ8VD4oYXJyYXk6IFRbXSwgZXhjbHVkZWRJdGVtczogVFtdKSB7XG4gIHJldHVybiBhcnJheS5maWx0ZXIoaXRlbSA9PiAhY29udGFpbnMoZXhjbHVkZWRJdGVtcywgaXRlbSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5pb248VD4oYXJyYXk6IFRbXSwgb3RoZXI6IFRbXSkge1xuICByZXR1cm4gYXJyYXkuY29uY2F0KHdpdGhvdXQob3RoZXIsIGFycmF5KSk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGFueSBpdGVtIHJldHVybnMgdHJ1ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNvbWU8VD4oYXJyOiBUW10sIGY6IChkOiBULCBrPzogYW55LCBpPzogYW55KSA9PiBib29sZWFuKSB7XG4gIGxldCBpID0gMDtcbiAgZm9yIChsZXQgayA9IDA7IGs8YXJyLmxlbmd0aDsgaysrKSB7XG4gICAgaWYgKGYoYXJyW2tdLCBrLCBpKyspKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBhbGwgaXRlbXMgcmV0dXJuIHRydWUuXG4gKi9cbiBleHBvcnQgZnVuY3Rpb24gZXZlcnk8VD4oYXJyOiBUW10sIGY6IChkOiBULCBrPzogYW55LCBpPzogYW55KSA9PiBib29sZWFuKSB7XG4gIGxldCBpID0gMDtcbiAgZm9yIChsZXQgayA9IDA7IGs8YXJyLmxlbmd0aDsgaysrKSB7XG4gICAgaWYgKCFmKGFycltrXSwgaywgaSsrKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW4oYXJyYXlzOiBhbnlbXSkge1xuICByZXR1cm4gW10uY29uY2F0LmFwcGx5KFtdLCBhcnJheXMpO1xufVxuXG4vKipcbiAqIHJlY3Vyc2l2ZWx5IG1lcmdlcyBzcmMgaW50byBkZXN0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZURlZXA8VD4oZGVzdDogVCwgLi4uc3JjOiBQYXJ0aWFsPFQ+W10pOiBUIHtcbiAgZm9yIChjb25zdCBzIG9mIHNyYykge1xuICAgIGRlc3QgPSBkZWVwTWVyZ2VfKGRlc3QsIHMpO1xuICB9XG4gIHJldHVybiBkZXN0O1xufVxuXG4vLyByZWN1cnNpdmVseSBtZXJnZXMgc3JjIGludG8gZGVzdFxuZnVuY3Rpb24gZGVlcE1lcmdlXyhkZXN0OiBhbnksIHNyYzogYW55KSB7XG4gIGlmICh0eXBlb2Ygc3JjICE9PSAnb2JqZWN0JyB8fCBzcmMgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZGVzdDtcbiAgfVxuXG4gIGZvciAoY29uc3QgcCBpbiBzcmMpIHtcbiAgICBpZiAoIXNyYy5oYXNPd25Qcm9wZXJ0eShwKSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChzcmNbcF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc3JjW3BdICE9PSAnb2JqZWN0JyB8fCBpc0FycmF5KHNyY1twXSkgfHwgc3JjW3BdID09PSBudWxsKSB7XG4gICAgICBkZXN0W3BdID0gc3JjW3BdO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGRlc3RbcF0gIT09ICdvYmplY3QnIHx8IGRlc3RbcF0gPT09IG51bGwpIHtcbiAgICAgIGRlc3RbcF0gPSBtZXJnZURlZXAoaXNBcnJheShzcmNbcF0uY29uc3RydWN0b3IpID8gW10gOiB7fSwgc3JjW3BdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWVyZ2VEZWVwKGRlc3RbcF0sIHNyY1twXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBkZXN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5pcXVlPFQ+KHZhbHVlczogVFtdLCBmOiAoaXRlbTogVCkgPT4gc3RyaW5nIHwgbnVtYmVyKTogVFtdIHtcbiAgY29uc3QgcmVzdWx0czogYW55W10gPSBbXTtcbiAgY29uc3QgdSA9IHt9O1xuICBsZXQgdjogc3RyaW5nIHwgbnVtYmVyO1xuICBmb3IgKGNvbnN0IHZhbCBvZiB2YWx1ZXMpIHtcbiAgICB2ID0gZih2YWwpO1xuICAgIGlmICh2IGluIHUpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB1W3ZdID0gMTtcbiAgICByZXN1bHRzLnB1c2godmFsKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0cztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEaWN0PFQ+IHtcbiAgW2tleTogc3RyaW5nXTogVDtcbn1cblxuZXhwb3J0IHR5cGUgU3RyaW5nU2V0ID0gRGljdDx0cnVlPjtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIHR3byBkaWN0aW9uYXJpZXMgZGlzYWdyZWUuIEFwcGxpZXMgb25seSB0byBkZWZpbmVkIHZhbHVlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpZmZlcjxUPihkaWN0OiBEaWN0PFQ+LCBvdGhlcjogRGljdDxUPikge1xuICBmb3IgKGNvbnN0IGtleSBpbiBkaWN0KSB7XG4gICAgaWYgKGRpY3QuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgaWYgKG90aGVyW2tleV0gJiYgZGljdFtrZXldICYmIG90aGVyW2tleV0gIT09IGRpY3Rba2V5XSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFzSW50ZXJzZWN0aW9uKGE6IFN0cmluZ1NldCwgYjogU3RyaW5nU2V0KSB7XG4gIGZvciAoY29uc3Qga2V5IGluIGEpIHtcbiAgICBpZiAoa2V5IGluIGIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc051bWVyaWMobnVtOiBzdHJpbmcgfCBudW1iZXIpIHtcbiAgcmV0dXJuICFpc05hTihudW0gYXMgYW55KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRpZmZlckFycmF5PFQ+KGFycmF5OiBUW10sIG90aGVyOiBUW10pIHtcbiAgaWYgKGFycmF5Lmxlbmd0aCAhPT0gb3RoZXIubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBhcnJheS5zb3J0KCk7XG4gIG90aGVyLnNvcnQoKTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKG90aGVyW2ldICE9PSBhcnJheVtpXSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBUaGlzIGlzIGEgc3RyaWN0ZXIgdmVyc2lvbiBvZiBPYmplY3Qua2V5cyBidXQgd2l0aCBiZXR0ZXIgdHlwZXMuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0L1R5cGVTY3JpcHQvcHVsbC8xMjI1MyNpc3N1ZWNvbW1lbnQtMjYzMTMyMjA4XG5leHBvcnQgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzIGFzIDxUPihvOiBUKSA9PiAoa2V5b2YgVClbXTtcblxuZXhwb3J0IGZ1bmN0aW9uIHZhbHM8VD4oeDoge1trZXk6IHN0cmluZ106IFR9KTogVFtdIHtcbiAgY29uc3QgX3ZhbHM6IFRbXSA9IFtdO1xuICBmb3IgKGNvbnN0IGsgaW4geCkge1xuICAgIGlmICh4Lmhhc093blByb3BlcnR5KGspKSB7XG4gICAgICBfdmFscy5wdXNoKHhba10pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gX3ZhbHM7XG59XG5cbi8vIFVzaW5nIG1hcHBlZCB0eXBlIHRvIGRlY2xhcmUgYSBjb2xsZWN0IG9mIGZsYWdzIGZvciBhIHN0cmluZyBsaXRlcmFsIHR5cGUgU1xuLy8gaHR0cHM6Ly93d3cudHlwZXNjcmlwdGxhbmcub3JnL2RvY3MvaGFuZGJvb2svYWR2YW5jZWQtdHlwZXMuaHRtbCNtYXBwZWQtdHlwZXNcbmV4cG9ydCB0eXBlIEZsYWc8UyBleHRlbmRzIHN0cmluZz4gPSB7XG4gIFtLIGluIFNdOiAxXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZmxhZ0tleXM8UyBleHRlbmRzIHN0cmluZz4oZjogRmxhZzxTPik6IFNbXSB7XG4gIHJldHVybiBrZXlzKGYpIGFzIFNbXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGR1cGxpY2F0ZTxUPihvYmo6IFQpOiBUIHtcbiAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Jvb2xlYW4oYjogYW55KTogYiBpcyBib29sZWFuIHtcbiAgcmV0dXJuIGIgPT09IHRydWUgfHwgYiA9PT0gZmFsc2U7XG59XG5cbi8qKlxuICogQ29udmVydCBhIHN0cmluZyBpbnRvIGEgdmFsaWQgdmFyaWFibGUgbmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFyTmFtZShzOiBzdHJpbmcpOiBzdHJpbmcge1xuICAvLyBSZXBsYWNlIG5vbi1hbHBoYW51bWVyaWMgY2hhcmFjdGVycyAoYW55dGhpbmcgYmVzaWRlcyBhLXpBLVowLTlfKSB3aXRoIF9cbiAgY29uc3QgYWxwaGFudW1lcmljUyA9IHMucmVwbGFjZSgvXFxXL2csICdfJyk7XG5cbiAgLy8gQWRkIF8gaWYgdGhlIHN0cmluZyBoYXMgbGVhZGluZyBudW1iZXJzLlxuICByZXR1cm4gKHMubWF0Y2goL15cXGQrLykgPyAnXycgOiAnJykgKyBhbHBoYW51bWVyaWNTO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9naWNhbEV4cHI8VD4ob3A6IExvZ2ljYWxPcGVyYW5kPFQ+LCBjYjogRnVuY3Rpb24pOiBzdHJpbmcge1xuICBpZiAoaXNMb2dpY2FsTm90KG9wKSkge1xuICAgIHJldHVybiAnISgnICsgbG9naWNhbEV4cHIob3Aubm90LCBjYikgKyAnKSc7XG4gIH0gZWxzZSBpZiAoaXNMb2dpY2FsQW5kKG9wKSkge1xuICAgIHJldHVybiAnKCcgKyBvcC5hbmQubWFwKChhbmQ6IExvZ2ljYWxPcGVyYW5kPFQ+KSA9PiBsb2dpY2FsRXhwcihhbmQsIGNiKSkuam9pbignKSAmJiAoJykgKyAnKSc7XG4gIH0gZWxzZSBpZiAoaXNMb2dpY2FsT3Iob3ApKSB7XG4gICAgcmV0dXJuICcoJyArIG9wLm9yLm1hcCgob3I6IExvZ2ljYWxPcGVyYW5kPFQ+KSA9PiBsb2dpY2FsRXhwcihvciwgY2IpKS5qb2luKCcpIHx8ICgnKSArICcpJztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY2Iob3ApO1xuICB9XG59XG5cbi8vIE9taXQgZnJvbSBodHRwOi8vaWRlYXNpbnRvc29mdHdhcmUuY29tL3R5cGVzY3JpcHQtYWR2YW5jZWQtdHJpY2tzL1xuZXhwb3J0IHR5cGUgRGlmZjxUIGV4dGVuZHMgc3RyaW5nLCBVIGV4dGVuZHMgc3RyaW5nPiA9ICh7W1AgaW4gVF06IFAgfSAmIHtbUCBpbiBVXTogbmV2ZXIgfSAmIHsgW3g6IHN0cmluZ106IG5ldmVyIH0pW1RdO1xuZXhwb3J0IHR5cGUgT21pdDxULCBLIGV4dGVuZHMga2V5b2YgVD4gPSB7W1AgaW4gRGlmZjxrZXlvZiBULCBLPl06IFRbUF19O1xuXG4vKipcbiAqIERlbGV0ZSBuZXN0ZWQgcHJvcGVydHkgb2YgYW4gb2JqZWN0LCBhbmQgZGVsZXRlIHRoZSBhbmNlc3RvcnMgb2YgdGhlIHByb3BlcnR5IGlmIHRoZXkgYmVjb21lIGVtcHR5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlTmVzdGVkUHJvcGVydHkob2JqOiBhbnksIG9yZGVyZWRQcm9wczogc3RyaW5nW10pIHtcbiAgaWYgKG9yZGVyZWRQcm9wcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBjb25zdCBwcm9wID0gb3JkZXJlZFByb3BzLnNoaWZ0KCk7XG4gIGlmIChkZWxldGVOZXN0ZWRQcm9wZXJ0eShvYmpbcHJvcF0sIG9yZGVyZWRQcm9wcykpIHtcbiAgICBkZWxldGUgb2JqW3Byb3BdO1xuICB9XG4gIHJldHVybiBPYmplY3Qua2V5cyhvYmopLmxlbmd0aCA9PT0gMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRpdGxlY2FzZShzOiBzdHJpbmcpIHtcbiAgcmV0dXJuIHMuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzLnN1YnN0cigxKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIHBhdGggdG8gYW4gYWNjZXNzIHBhdGguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhY2Nlc3NQYXRoKHBhdGg6IHN0cmluZykge1xuICByZXR1cm4gYFske3NwbGl0QWNjZXNzUGF0aChwYXRoKS5tYXAoc3RyaW5nVmFsdWUpLmpvaW4oJ11bJyl9XWA7XG59XG4iXX0=","\"use strict\";\n/*\n * Constants and utilities for encoding channels (Visual variables)\n * such as 'x', 'y', 'color'.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar util_1 = require(\"./util\");\nvar Channel;\n(function (Channel) {\n    // Facet\n    Channel.ROW = 'row';\n    Channel.COLUMN = 'column';\n    // Position\n    Channel.X = 'x';\n    Channel.Y = 'y';\n    Channel.X2 = 'x2';\n    Channel.Y2 = 'y2';\n    // Geo Position\n    Channel.LATITUDE = 'latitude';\n    Channel.LONGITUDE = 'longitude';\n    Channel.LATITUDE2 = 'latitude2';\n    Channel.LONGITUDE2 = 'longitude2';\n    // Mark property with scale\n    Channel.COLOR = 'color';\n    Channel.FILL = 'fill';\n    Channel.STROKE = 'stroke';\n    Channel.SHAPE = 'shape';\n    Channel.SIZE = 'size';\n    Channel.OPACITY = 'opacity';\n    // Non-scale channel\n    Channel.TEXT = 'text';\n    Channel.ORDER = 'order';\n    Channel.DETAIL = 'detail';\n    Channel.KEY = 'key';\n    Channel.TOOLTIP = 'tooltip';\n    Channel.HREF = 'href';\n})(Channel = exports.Channel || (exports.Channel = {}));\nexports.X = Channel.X;\nexports.Y = Channel.Y;\nexports.X2 = Channel.X2;\nexports.Y2 = Channel.Y2;\nexports.LATITUDE = Channel.LATITUDE;\nexports.LATITUDE2 = Channel.LATITUDE2;\nexports.LONGITUDE = Channel.LONGITUDE;\nexports.LONGITUDE2 = Channel.LONGITUDE2;\nexports.ROW = Channel.ROW;\nexports.COLUMN = Channel.COLUMN;\nexports.SHAPE = Channel.SHAPE;\nexports.SIZE = Channel.SIZE;\nexports.COLOR = Channel.COLOR;\nexports.FILL = Channel.FILL;\nexports.STROKE = Channel.STROKE;\nexports.TEXT = Channel.TEXT;\nexports.DETAIL = Channel.DETAIL;\nexports.KEY = Channel.KEY;\nexports.ORDER = Channel.ORDER;\nexports.OPACITY = Channel.OPACITY;\nexports.TOOLTIP = Channel.TOOLTIP;\nexports.HREF = Channel.HREF;\nexports.GEOPOSITION_CHANNEL_INDEX = {\n    longitude: 1,\n    longitude2: 1,\n    latitude: 1,\n    latitude2: 1,\n};\nexports.GEOPOSITION_CHANNELS = util_1.flagKeys(exports.GEOPOSITION_CHANNEL_INDEX);\nvar UNIT_CHANNEL_INDEX = tslib_1.__assign({ \n    // position\n    x: 1, y: 1, x2: 1, y2: 1 }, exports.GEOPOSITION_CHANNEL_INDEX, { \n    // color\n    color: 1, fill: 1, stroke: 1, \n    // other non-position with scale\n    opacity: 1, size: 1, shape: 1, \n    // channels without scales\n    order: 1, text: 1, detail: 1, key: 1, tooltip: 1, href: 1 });\nfunction isColorChannel(channel) {\n    return channel === 'color' || channel === 'fill' || channel === 'stroke';\n}\nexports.isColorChannel = isColorChannel;\nvar FACET_CHANNEL_INDEX = {\n    row: 1,\n    column: 1\n};\nvar CHANNEL_INDEX = tslib_1.__assign({}, UNIT_CHANNEL_INDEX, FACET_CHANNEL_INDEX);\nexports.CHANNELS = util_1.flagKeys(CHANNEL_INDEX);\nvar _o = CHANNEL_INDEX.order, _d = CHANNEL_INDEX.detail, SINGLE_DEF_CHANNEL_INDEX = tslib_1.__rest(CHANNEL_INDEX, [\"order\", \"detail\"]);\n/**\n * Channels that cannot have an array of channelDef.\n * model.fieldDef, getFieldDef only work for these channels.\n *\n * (The only two channels that can have an array of channelDefs are \"detail\" and \"order\".\n * Since there can be multiple fieldDefs for detail and order, getFieldDef/model.fieldDef\n * are not applicable for them.  Similarly, selection projection won't work with \"detail\" and \"order\".)\n */\nexports.SINGLE_DEF_CHANNELS = util_1.flagKeys(SINGLE_DEF_CHANNEL_INDEX);\nfunction isChannel(str) {\n    return !!CHANNEL_INDEX[str];\n}\nexports.isChannel = isChannel;\n// CHANNELS without COLUMN, ROW\nexports.UNIT_CHANNELS = util_1.flagKeys(UNIT_CHANNEL_INDEX);\n// NONPOSITION_CHANNELS = UNIT_CHANNELS without X, Y, X2, Y2;\nvar _x = UNIT_CHANNEL_INDEX.x, _y = UNIT_CHANNEL_INDEX.y, \n// x2 and y2 share the same scale as x and y\n_x2 = UNIT_CHANNEL_INDEX.x2, _y2 = UNIT_CHANNEL_INDEX.y2, _latitude = UNIT_CHANNEL_INDEX.latitude, _longitude = UNIT_CHANNEL_INDEX.longitude, _latitude2 = UNIT_CHANNEL_INDEX.latitude2, _longitude2 = UNIT_CHANNEL_INDEX.longitude2, \n// The rest of unit channels then have scale\nNONPOSITION_CHANNEL_INDEX = tslib_1.__rest(UNIT_CHANNEL_INDEX, [\"x\", \"y\", \"x2\", \"y2\", \"latitude\", \"longitude\", \"latitude2\", \"longitude2\"]);\nexports.NONPOSITION_CHANNELS = util_1.flagKeys(NONPOSITION_CHANNEL_INDEX);\n// POSITION_SCALE_CHANNELS = X and Y;\nvar POSITION_SCALE_CHANNEL_INDEX = { x: 1, y: 1 };\nexports.POSITION_SCALE_CHANNELS = util_1.flagKeys(POSITION_SCALE_CHANNEL_INDEX);\n// NON_POSITION_SCALE_CHANNEL = SCALE_CHANNELS without X, Y\nvar \n// x2 and y2 share the same scale as x and y\n// text and tooltip have format instead of scale,\n// href has neither format, nor scale\n_t = NONPOSITION_CHANNEL_INDEX.text, _tt = NONPOSITION_CHANNEL_INDEX.tooltip, _hr = NONPOSITION_CHANNEL_INDEX.href, \n// detail and order have no scale\n_dd = NONPOSITION_CHANNEL_INDEX.detail, _k = NONPOSITION_CHANNEL_INDEX.key, _oo = NONPOSITION_CHANNEL_INDEX.order, NONPOSITION_SCALE_CHANNEL_INDEX = tslib_1.__rest(NONPOSITION_CHANNEL_INDEX, [\"text\", \"tooltip\", \"href\", \"detail\", \"key\", \"order\"]);\nexports.NONPOSITION_SCALE_CHANNELS = util_1.flagKeys(NONPOSITION_SCALE_CHANNEL_INDEX);\n// Declare SCALE_CHANNEL_INDEX\nvar SCALE_CHANNEL_INDEX = tslib_1.__assign({}, POSITION_SCALE_CHANNEL_INDEX, NONPOSITION_SCALE_CHANNEL_INDEX);\n/** List of channels with scales */\nexports.SCALE_CHANNELS = util_1.flagKeys(SCALE_CHANNEL_INDEX);\nfunction isScaleChannel(channel) {\n    return !!SCALE_CHANNEL_INDEX[channel];\n}\nexports.isScaleChannel = isScaleChannel;\n/**\n * Return whether a channel supports a particular mark type.\n * @param channel  channel name\n * @param mark the mark type\n * @return whether the mark supports the channel\n */\nfunction supportMark(channel, mark) {\n    return mark in getSupportedMark(channel);\n}\nexports.supportMark = supportMark;\n/**\n * Return a dictionary showing whether a channel supports mark type.\n * @param channel\n * @return A dictionary mapping mark types to boolean values.\n */\nfunction getSupportedMark(channel) {\n    switch (channel) {\n        case exports.COLOR:\n        case exports.FILL:\n        case exports.STROKE:\n        case exports.DETAIL:\n        case exports.KEY:\n        case exports.TOOLTIP:\n        case exports.HREF:\n        case exports.ORDER: // TODO: revise (order might not support rect, which is not stackable?)\n        case exports.OPACITY:\n        case exports.ROW:\n        case exports.COLUMN:\n            return {\n                point: true, tick: true, rule: true, circle: true, square: true,\n                bar: true, rect: true, line: true, trail: true, area: true, text: true, geoshape: true\n            };\n        case exports.X:\n        case exports.Y:\n        case exports.LATITUDE:\n        case exports.LONGITUDE:\n            return {\n                point: true, tick: true, rule: true, circle: true, square: true,\n                bar: true, rect: true, line: true, trail: true, area: true, text: true\n            };\n        case exports.X2:\n        case exports.Y2:\n        case exports.LATITUDE2:\n        case exports.LONGITUDE2:\n            return {\n                rule: true, bar: true, rect: true, area: true\n            };\n        case exports.SIZE:\n            return {\n                point: true, tick: true, rule: true, circle: true, square: true,\n                bar: true, text: true, line: true, trail: true\n            };\n        case exports.SHAPE:\n            return { point: true, geoshape: true };\n        case exports.TEXT:\n            return { text: true };\n    }\n}\nexports.getSupportedMark = getSupportedMark;\nfunction rangeType(channel) {\n    switch (channel) {\n        case exports.X:\n        case exports.Y:\n        case exports.SIZE:\n        case exports.OPACITY:\n        // X2 and Y2 use X and Y scales, so they similarly have continuous range.\n        case exports.X2:\n        case exports.Y2:\n            return 'continuous';\n        case exports.ROW:\n        case exports.COLUMN:\n        case exports.SHAPE:\n        // TEXT, TOOLTIP, and HREF have no scale but have discrete output\n        case exports.TEXT:\n        case exports.TOOLTIP:\n        case exports.HREF:\n            return 'discrete';\n        // Color can be either continuous or discrete, depending on scale type.\n        case exports.COLOR:\n        case exports.FILL:\n        case exports.STROKE:\n            return 'flexible';\n        // No scale, no range type.\n        case exports.LATITUDE:\n        case exports.LONGITUDE:\n        case exports.LATITUDE2:\n        case exports.LONGITUDE2:\n        case exports.DETAIL:\n        case exports.KEY:\n        case exports.ORDER:\n            return undefined;\n    }\n    /* istanbul ignore next: should never reach here. */\n    throw new Error('rangeType not implemented for ' + channel);\n}\nexports.rangeType = rangeType;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hhbm5lbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jaGFubmVsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7O0dBR0c7OztBQU1ILCtCQUFzQztBQUV0QyxJQUFpQixPQUFPLENBb0N2QjtBQXBDRCxXQUFpQixPQUFPO0lBQ3RCLFFBQVE7SUFDSyxXQUFHLEdBQVUsS0FBSyxDQUFDO0lBQ25CLGNBQU0sR0FBYSxRQUFRLENBQUM7SUFFekMsV0FBVztJQUNFLFNBQUMsR0FBUSxHQUFHLENBQUM7SUFDYixTQUFDLEdBQVEsR0FBRyxDQUFDO0lBQ2IsVUFBRSxHQUFTLElBQUksQ0FBQztJQUNoQixVQUFFLEdBQVMsSUFBSSxDQUFDO0lBRTdCLGVBQWU7SUFDRixnQkFBUSxHQUFlLFVBQVUsQ0FBQztJQUNsQyxpQkFBUyxHQUFnQixXQUFXLENBQUM7SUFDckMsaUJBQVMsR0FBZ0IsV0FBVyxDQUFDO0lBQ3JDLGtCQUFVLEdBQWlCLFlBQVksQ0FBQztJQUVyRCwyQkFBMkI7SUFDZCxhQUFLLEdBQVksT0FBTyxDQUFDO0lBRXpCLFlBQUksR0FBVyxNQUFNLENBQUM7SUFFdEIsY0FBTSxHQUFhLFFBQVEsQ0FBQztJQUU1QixhQUFLLEdBQVksT0FBTyxDQUFDO0lBQ3pCLFlBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsZUFBTyxHQUFjLFNBQVMsQ0FBQztJQUU1QyxvQkFBb0I7SUFDUCxZQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ3RCLGFBQUssR0FBWSxPQUFPLENBQUM7SUFDekIsY0FBTSxHQUFhLFFBQVEsQ0FBQztJQUM1QixXQUFHLEdBQVUsS0FBSyxDQUFDO0lBRW5CLGVBQU8sR0FBYyxTQUFTLENBQUM7SUFDL0IsWUFBSSxHQUFXLE1BQU0sQ0FBQztBQUNyQyxDQUFDLEVBcENnQixPQUFPLEdBQVAsZUFBTyxLQUFQLGVBQU8sUUFvQ3ZCO0FBSVksUUFBQSxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQztBQUNk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WixLQUFLLGFBQUssQ0FBQztRQUNYLGlFQUFpRTtRQUNqRSxLQUFLLFlBQUksQ0FBQztRQUNWLEtBQUssZUFBTyxDQUFDO1FBQ2IsS0FBSyxZQUFJO1lBQ1AsT0FBTyxVQUFVLENBQUM7UUFFcEIsdUVBQXVFO1FBQ3ZFLEtBQUssYUFBSyxDQUFDO1FBQ1gsS0FBSyxZQUFJLENBQUM7UUFDVixLQUFLLGNBQU07WUFDVCxPQUFPLFVBQVUsQ0FBQztRQUVwQiwyQkFBMkI7UUFFM0IsS0FBSyxnQkFBUSxDQUFDO1FBQ2QsS0FBSyxpQkFBUyxDQUFDO1FBQ2YsS0FBSyxpQkFBUyxDQUFDO1FBQ2YsS0FBSyxrQkFBVSxDQUFDO1FBQ2hCLEtBQUssY0FBTSxDQUFDO1FBQ1osS0FBSyxXQUFHLENBQUM7UUFDVCxLQUFLLGFBQUs7WUFDUixPQUFPLFNBQVMsQ0FBQztLQUNwQjtJQUNELG9EQUFvRDtJQUNwRCxNQUFNLElBQUksS0FBSyxDQUFDLGdDQUFnQyxHQUFHLE9BQU8sQ0FBQyxDQUFDO0FBQzlELENBQUM7QUF2Q0QsOEJBdUNDIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIENvbnN0YW50cyBhbmQgdXRpbGl0aWVzIGZvciBlbmNvZGluZyBjaGFubmVscyAoVmlzdWFsIHZhcmlhYmxlcylcbiAqIHN1Y2ggYXMgJ3gnLCAneScsICdjb2xvcicuXG4gKi9cblxuaW1wb3J0IHtSYW5nZVR5cGV9IGZyb20gJy4vY29tcGlsZS9zY2FsZS90eXBlJztcbmltcG9ydCB7RW5jb2Rpbmd9IGZyb20gJy4vZW5jb2RpbmcnO1xuaW1wb3J0IHtGYWNldE1hcHBpbmd9IGZyb20gJy4vZmFjZXQnO1xuaW1wb3J0IHtNYXJrfSBmcm9tICcuL21hcmsnO1xuaW1wb3J0IHtGbGFnLCBmbGFnS2V5c30gZnJvbSAnLi91dGlsJztcblxuZXhwb3J0IG5hbWVzcGFjZSBDaGFubmVsIHtcbiAgLy8gRmFjZXRcbiAgZXhwb3J0IGNvbnN0IFJPVzogJ3JvdycgPSAncm93JztcbiAgZXhwb3J0IGNvbnN0IENPTFVNTjogJ2NvbHVtbicgPSAnY29sdW1uJztcblxuICAvLyBQb3NpdGlvblxuICBleHBvcnQgY29uc3QgWDogJ3gnID0gJ3gnO1xuICBleHBvcnQgY29uc3QgWTogJ3knID0gJ3knO1xuICBleHBvcnQgY29uc3QgWDI6ICd4MicgPSAneDInO1xuICBleHBvcnQgY29uc3QgWTI6ICd5MicgPSAneTInO1xuXG4gIC8vIEdlbyBQb3NpdGlvblxuICBleHBvcnQgY29uc3QgTEFUSVRVREU6ICdsYXRpdHVkZScgPSAnbGF0aXR1ZGUnO1xuICBleHBvcnQgY29uc3QgTE9OR0lUVURFOiAnbG9uZ2l0dWRlJyA9ICdsb25naXR1ZGUnO1xuICBleHBvcnQgY29uc3QgTEFUSVRVREUyOiAnbGF0aXR1ZGUyJyA9ICdsYXRpdHVkZTInO1xuICBleHBvcnQgY29uc3QgTE9OR0lUVURFMjogJ2xvbmdpdHVkZTInID0gJ2xvbmdpdHVkZTInO1xuXG4gIC8vIE1hcmsgcHJvcGVydHkgd2l0aCBzY2FsZVxuICBleHBvcnQgY29uc3QgQ09MT1I6ICdjb2xvcicgPSAnY29sb3InO1xuXG4gIGV4cG9ydCBjb25zdCBGSUxMOiAnZmlsbCcgPSAnZmlsbCc7XG5cbiAgZXhwb3J0IGNvbnN0IFNUUk9LRTogJ3N0cm9rZScgPSAnc3Ryb2tlJztcblxuICBleHBvcnQgY29uc3QgU0hBUEU6ICdzaGFwZScgPSAnc2hhcGUnO1xuICBleHBvcnQgY29uc3QgU0laRTogJ3NpemUnID0gJ3NpemUnO1xuICBleHBvcnQgY29uc3QgT1BBQ0lUWTogJ29wYWNpdHknID0gJ29wYWNpdHknO1xuXG4gIC8vIE5vbi1zY2FsZSBjaGFubmVsXG4gIGV4cG9ydCBjb25zdCBURVhUOiAndGV4dCcgPSAndGV4dCc7XG4gIGV4cG9ydCBjb25zdCBPUkRFUjogJ29yZGVyJyA9ICdvcmRlcic7XG4gIGV4cG9ydCBjb25zdCBERVRBSUw6ICdkZXRhaWwnID0gJ2RldGFpbCc7XG4gIGV4cG9ydCBjb25zdCBLRVk6ICdrZXknID0gJ2tleSc7XG5cbiAgZXhwb3J0IGNvbnN0IFRPT0xUSVA6ICd0b29sdGlwJyA9ICd0b29sdGlwJztcbiAgZXhwb3J0IGNvbnN0IEhSRUY6ICdocmVmJyA9ICdocmVmJztcbn1cblxuZXhwb3J0IHR5cGUgQ2hhbm5lbCA9IGtleW9mIEVuY29kaW5nPGFueT4gfCBrZXlvZiBGYWNldE1hcHBpbmc8YW55PjtcblxuZXhwb3J0IGNvbnN0IFggPSBDaGFubmVsLlg7XG5leHBvcnQgY29uc3QgWSA9IENoYW5uZWwuWTtcbmV4cG9ydCBjb25zdCBYMiA9IENoYW5uZWwuWDI7XG5leHBvcnQgY29uc3QgWTIgPSBDaGFubmVsLlkyO1xuXG5leHBvcnQgY29uc3QgTEFUSVRVREUgPSBDaGFubmVsLkxBVElUVURFO1xuZXhwb3J0IGNvbnN0IExBVElUVURFMiA9IENoYW5uZWwuTEFUSVRVREUyO1xuZXhwb3J0IGNvbnN0IExPTkdJVFVERSA9IENoYW5uZWwuTE9OR0lUVURFO1xuZXhwb3J0IGNvbnN0IExPTkdJVFVERTIgPSBDaGFubmVsLkxPTkdJVFVERTI7XG5cbmV4cG9ydCBjb25zdCBST1cgPSBDaGFubmVsLlJPVztcbmV4cG9ydCBjb25zdCBDT0xVTU4gPSBDaGFubmVsLkNPTFVNTjtcbmV4cG9ydCBjb25zdCBTSEFQRSA9IENoYW5uZWwuU0hBUEU7XG5leHBvcnQgY29uc3QgU0laRSA9IENoYW5uZWwuU0laRTtcbmV4cG9ydCBjb25zdCBDT0xPUiA9IENoYW5uZWwuQ09MT1I7XG5cbmV4cG9ydCBjb25zdCBGSUxMID0gQ2hhbm5lbC5GSUxMO1xuZXhwb3J0IGNvbnN0IFNUUk9LRSA9IENoYW5uZWwuU1RST0tFO1xuZXhwb3J0IGNvbnN0IFRFWFQgPSBDaGFubmVsLlRFWFQ7XG5leHBvcnQgY29uc3QgREVUQUlMID0gQ2hhbm5lbC5ERVRBSUw7XG5leHBvcnQgY29uc3QgS0VZID0gQ2hhbm5lbC5LRVk7XG5leHBvcnQgY29uc3QgT1JERVIgPSBDaGFubmVsLk9SREVSO1xuZXhwb3J0IGNvbnN0IE9QQUNJVFkgPSBDaGFubmVsLk9QQUNJVFk7XG5leHBvcnQgY29uc3QgVE9PTFRJUCA9IENoYW5uZWwuVE9PTFRJUDtcbmV4cG9ydCBjb25zdCBIUkVGID0gQ2hhbm5lbC5IUkVGO1xuXG5leHBvcnQgdHlwZSBHZW9Qb3NpdGlvbkNoYW5uZWwgPSAnbG9uZ2l0dWRlJyB8ICdsYXRpdHVkZScgfCAnbG9uZ2l0dWRlMicgfCAnbGF0aXR1ZGUyJztcblxuZXhwb3J0IGNvbnN0IEdFT1BPU0lUSU9OX0NIQU5ORUxfSU5ERVg6IEZsYWc8R2VvUG9zaXRpb25DaGFubmVsPiA9IHtcbiAgbG9uZ2l0dWRlOiAxLFxuICBsb25naXR1ZGUyOiAxLFxuICBsYXRpdHVkZTogMSxcbiAgbGF0aXR1ZGUyOiAxLFxufTtcblxuZXhwb3J0IGNvbnN0IEdFT1BPU0lUSU9OX0NIQU5ORUxTID0gZmxhZ0tleXMoR0VPUE9TSVRJT05fQ0hBTk5FTF9JTkRFWCk7XG5cbmNvbnN0IFVOSVRfQ0hBTk5FTF9JTkRFWDogRmxhZzxrZXlvZiBFbmNvZGluZzxhbnk+PiA9IHtcbiAgLy8gcG9zaXRpb25cbiAgeDogMSxcbiAgeTogMSxcbiAgeDI6IDEsXG4gIHkyOiAxLFxuXG4gIC4uLkdFT1BPU0lUSU9OX0NIQU5ORUxfSU5ERVgsXG5cbiAgLy8gY29sb3JcbiAgY29sb3I6IDEsXG4gIGZpbGw6IDEsXG4gIHN0cm9rZTogMSxcblxuICAvLyBvdGhlciBub24tcG9zaXRpb24gd2l0aCBzY2FsZVxuICBvcGFjaXR5OiAxLFxuICBzaXplOiAxLFxuICBzaGFwZTogMSxcblxuICAvLyBjaGFubmVscyB3aXRob3V0IHNjYWxlc1xuICBvcmRlcjogMSxcbiAgdGV4dDogMSxcbiAgZGV0YWlsOiAxLFxuICBrZXk6IDEsXG4gIHRvb2x0aXA6IDEsXG4gIGhyZWY6IDEsXG59O1xuXG5leHBvcnQgdHlwZSBDb2xvckNoYW5uZWwgPSAnY29sb3InIHwgJ2ZpbGwnIHwgJ3N0cm9rZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbG9yQ2hhbm5lbChjaGFubmVsOiBDaGFubmVsKTogY2hhbm5lbCBpcyBDb2xvckNoYW5uZWwge1xuICByZXR1cm4gY2hhbm5lbCA9PT0gJ2NvbG9yJyB8fCBjaGFubmVsID09PSAnZmlsbCcgfHwgY2hhbm5lbCA9PT0gJ3N0cm9rZSc7XG59XG5cbmNvbnN0IEZBQ0VUX0NIQU5ORUxfSU5ERVg6IEZsYWc8a2V5b2YgRmFjZXRNYXBwaW5nPGFueT4+ID0ge1xuICByb3c6IDEsXG4gIGNvbHVtbjogMVxufTtcblxuY29uc3QgQ0hBTk5FTF9JTkRFWCA9IHtcbiAgLi4uVU5JVF9DSEFOTkVMX0lOREVYLFxuICAuLi5GQUNFVF9DSEFOTkVMX0lOREVYXG59O1xuXG5leHBvcnQgY29uc3QgQ0hBTk5FTFMgPSBmbGFnS2V5cyhDSEFOTkVMX0lOREVYKTtcblxuY29uc3Qge29yZGVyOiBfbywgZGV0YWlsOiBfZCwgLi4uU0lOR0xFX0RFRl9DSEFOTkVMX0lOREVYfSA9IENIQU5ORUxfSU5ERVg7XG4vKipcbiAqIENoYW5uZWxzIHRoYXQgY2Fubm90IGhhdmUgYW4gYXJyYXkgb2YgY2hhbm5lbERlZi5cbiAqIG1vZGVsLmZpZWxkRGVmLCBnZXRGaWVsZERlZiBvbmx5IHdvcmsgZm9yIHRoZXNlIGNoYW5uZWxzLlxuICpcbiAqIChUaGUgb25seSB0d28gY2hhbm5lbHMgdGhhdCBjYW4gaGF2ZSBhbiBhcnJheSBvZiBjaGFubmVsRGVmcyBhcmUgXCJkZXRhaWxcIiBhbmQgXCJvcmRlclwiLlxuICogU2luY2UgdGhlcmUgY2FuIGJlIG11bHRpcGxlIGZpZWxkRGVmcyBmb3IgZGV0YWlsIGFuZCBvcmRlciwgZ2V0RmllbGREZWYvbW9kZWwuZmllbGREZWZcbiAqIGFyZSBub3QgYXBwbGljYWJsZSBmb3IgdGhlbS4gIFNpbWlsYXJseSwgc2VsZWN0aW9uIHByb2plY3Rpb24gd29uJ3Qgd29yayB3aXRoIFwiZGV0YWlsXCIgYW5kIFwib3JkZXJcIi4pXG4gKi9cblxuZXhwb3J0IGNvbnN0IFNJTkdMRV9ERUZfQ0hBTk5FTFM6IFNpbmdsZURlZkNoYW5uZWxbXSA9IGZsYWdLZXlzKFNJTkdMRV9ERUZfQ0hBTk5FTF9JTkRFWCk7XG5cbi8vIFVzaW5nIHRoZSBmb2xsb3dpbmcgbGluZSBsZWFkcyB0byBUeXBlRXJyb3I6IENhbm5vdCByZWFkIHByb3BlcnR5ICdlbGVtZW50VHlwZXMnIG9mIHVuZGVmaW5lZFxuLy8gd2hlbiBydW5uaW5nIHRoZSBzY2hlbWEgZ2VuZXJhdG9yXG4vLyBleHBvcnQgdHlwZSBTaW5nbGVEZWZDaGFubmVsID0gdHlwZW9mIFNJTkdMRV9ERUZfQ0hBTk5FTFNbMF07XG5leHBvcnQgdHlwZSBTaW5nbGVEZWZDaGFubmVsID0gJ3gnIHwgJ3knIHwgJ3gyJyB8ICd5MicgfFxuICAnbG9uZ2l0dWRlJyB8ICdsYXRpdHVkZScgfCAnbG9uZ2l0dWRlMicgfCAnbGF0aXR1ZGUyJyB8XG4gICdyb3cnIHwgJ2NvbHVtbicgfFxuICAnY29sb3InIHwgJ2ZpbGwnIHwgJ3N0cm9rZScgfFxuICAnc2l6ZScgfCAnc2hhcGUnIHwgJ29wYWNpdHknIHxcbiAgJ3RleHQnIHwgJ3Rvb2x0aXAnIHwgJ2hyZWYnIHwgJ2tleSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0NoYW5uZWwoc3RyOiBzdHJpbmcpOiBzdHIgaXMgQ2hhbm5lbCB7XG4gIHJldHVybiAhIUNIQU5ORUxfSU5ERVhbc3RyXTtcbn1cblxuLy8gQ0hBTk5FTFMgd2l0aG91dCBDT0xVTU4sIFJPV1xuZXhwb3J0IGNvbnN0IFVOSVRfQ0hBTk5FTFMgPSBmbGFnS2V5cyhVTklUX0NIQU5ORUxfSU5ERVgpO1xuXG5cbi8vIE5PTlBPU0lUSU9OX0NIQU5ORUxTID0gVU5JVF9DSEFOTkVMUyB3aXRob3V0IFgsIFksIFgyLCBZMjtcbmNvbnN0IHtcbiAgeDogX3gsIHk6IF95LFxuICAvLyB4MiBhbmQgeTIgc2hhcmUgdGhlIHNhbWUgc2NhbGUgYXMgeCBhbmQgeVxuICB4MjogX3gyLCB5MjogX3kyLFxuICBsYXRpdHVkZTogX2xhdGl0dWRlLCBsb25naXR1ZGU6IF9sb25naXR1ZGUsXG4gIGxhdGl0dWRlMjogX2xhdGl0dWRlMiwgbG9uZ2l0dWRlMjogX2xvbmdpdHVkZTIsXG4gIC8vIFRoZSByZXN0IG9mIHVuaXQgY2hhbm5lbHMgdGhlbiBoYXZlIHNjYWxlXG4gIC4uLk5PTlBPU0lUSU9OX0NIQU5ORUxfSU5ERVhcbn0gPSBVTklUX0NIQU5ORUxfSU5ERVg7XG5cbmV4cG9ydCBjb25zdCBOT05QT1NJVElPTl9DSEFOTkVMUyA9IGZsYWdLZXlzKE5PTlBPU0lUSU9OX0NIQU5ORUxfSU5ERVgpO1xuZXhwb3J0IHR5cGUgTm9uUG9zaXRpb25DaGFubmVsID0gdHlwZW9mIE5PTlBPU0lUSU9OX0NIQU5ORUxTWzBdO1xuXG4vLyBQT1NJVElPTl9TQ0FMRV9DSEFOTkVMUyA9IFggYW5kIFk7XG5jb25zdCBQT1NJVElPTl9TQ0FMRV9DSEFOTkVMX0lOREVYOiB7eDoxLCB5OjF9ID0ge3g6MSwgeToxfTtcbmV4cG9ydCBjb25zdCBQT1NJVElPTl9TQ0FMRV9DSEFOTkVMUyA9IGZsYWdLZXlzKFBPU0lUSU9OX1NDQUxFX0NIQU5ORUxfSU5ERVgpO1xuZXhwb3J0IHR5cGUgUG9zaXRpb25TY2FsZUNoYW5uZWwgPSB0eXBlb2YgUE9TSVRJT05fU0NBTEVfQ0hBTk5FTFNbMF07XG5cbi8vIE5PTl9QT1NJVElPTl9TQ0FMRV9DSEFOTkVMID0gU0NBTEVfQ0hBTk5FTFMgd2l0aG91dCBYLCBZXG5jb25zdCB7XG4gIC8vIHgyIGFuZCB5MiBzaGFyZSB0aGUgc2FtZSBzY2FsZSBhcyB4IGFuZCB5XG4gIC8vIHRleHQgYW5kIHRvb2x0aXAgaGF2ZSBmb3JtYXQgaW5zdGVhZCBvZiBzY2FsZSxcbiAgLy8gaHJlZiBoYXMgbmVpdGhlciBmb3JtYXQsIG5vciBzY2FsZVxuICB0ZXh0OiBfdCwgdG9vbHRpcDogX3R0LCBocmVmOiBfaHIsXG4gIC8vIGRldGFpbCBhbmQgb3JkZXIgaGF2ZSBubyBzY2FsZVxuICBkZXRhaWw6IF9kZCwga2V5OiBfaywgb3JkZXI6IF9vbyxcbiAgLi4uTk9OUE9TSVRJT05fU0NBTEVfQ0hBTk5FTF9JTkRFWFxufSA9IE5PTlBPU0lUSU9OX0NIQU5ORUxfSU5ERVg7XG5leHBvcnQgY29uc3QgTk9OUE9TSVRJT05fU0NBTEVfQ0hBTk5FTFMgPSBmbGFnS2V5cyhOT05QT1NJVElPTl9TQ0FMRV9DSEFOTkVMX0lOREVYKTtcbmV4cG9ydCB0eXBlIE5vblBvc2l0aW9uU2NhbGVDaGFubmVsID0gdHlwZW9mIE5PTlBPU0lUSU9OX1NDQUxFX0NIQU5ORUxTWzBdO1xuXG4vLyBEZWNsYXJlIFNDQUxFX0NIQU5ORUxfSU5ERVhcbmNvbnN0IFNDQUxFX0NIQU5ORUxfSU5ERVggPSB7XG4gIC4uLlBPU0lUSU9OX1NDQUxFX0NIQU5ORUxfSU5ERVgsXG4gIC4uLk5PTlBPU0lUSU9OX1NDQUxFX0NIQU5ORUxfSU5ERVhcbn07XG5cbi8qKiBMaXN0IG9mIGNoYW5uZWxzIHdpdGggc2NhbGVzICovXG5leHBvcnQgY29uc3QgU0NBTEVfQ0hBTk5FTFMgPSBmbGFnS2V5cyhTQ0FMRV9DSEFOTkVMX0lOREVYKTtcbmV4cG9ydCB0eXBlIFNjYWxlQ2hhbm5lbCA9IHR5cGVvZiBTQ0FMRV9DSEFOTkVMU1swXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzU2NhbGVDaGFubmVsKGNoYW5uZWw6IENoYW5uZWwpOiBjaGFubmVsIGlzIFNjYWxlQ2hhbm5lbCB7XG4gIHJldHVybiAhIVNDQUxFX0NIQU5ORUxfSU5ERVhbY2hhbm5lbF07XG59XG5cbmV4cG9ydCB0eXBlIFN1cHBvcnRlZE1hcmsgPSB7XG4gIFttYXJrIGluIE1hcmtdPzogYm9vbGVhblxufTtcblxuLyoqXG4gKiBSZXR1cm4gd2hldGhlciBhIGNoYW5uZWwgc3VwcG9ydHMgYSBwYXJ0aWN1bGFyIG1hcmsgdHlwZS5cbiAqIEBwYXJhbSBjaGFubmVsICBjaGFubmVsIG5hbWVcbiAqIEBwYXJhbSBtYXJrIHRoZSBtYXJrIHR5cGVcbiAqIEByZXR1cm4gd2hldGhlciB0aGUgbWFyayBzdXBwb3J0cyB0aGUgY2hhbm5lbFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3VwcG9ydE1hcmsoY2hhbm5lbDogQ2hhbm5lbCwgbWFyazogTWFyaykge1xuICByZXR1cm4gbWFyayBpbiBnZXRTdXBwb3J0ZWRNYXJrKGNoYW5uZWwpO1xufVxuXG4vKipcbiAqIFJldHVybiBhIGRpY3Rpb25hcnkgc2hvd2luZyB3aGV0aGVyIGEgY2hhbm5lbCBzdXBwb3J0cyBtYXJrIHR5cGUuXG4gKiBAcGFyYW0gY2hhbm5lbFxuICogQHJldHVybiBBIGRpY3Rpb25hcnkgbWFwcGluZyBtYXJrIHR5cGVzIHRvIGJvb2xlYW4gdmFsdWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3VwcG9ydGVkTWFyayhjaGFubmVsOiBDaGFubmVsKTogU3VwcG9ydGVkTWFyayB7XG4gIHN3aXRjaCAoY2hhbm5lbCkge1xuICAgIGNhc2UgQ09MT1I6XG4gICAgY2FzZSBGSUxMOlxuICAgIGNhc2UgU1RST0tFOlxuXG4gICAgY2FzZSBERVRBSUw6XG4gICAgY2FzZSBLRVk6XG4gICAgY2FzZSBUT09MVElQOlxuICAgIGNhc2UgSFJFRjpcbiAgICBjYXNlIE9SREVSOiAgICAvLyBUT0RPOiByZXZpc2UgKG9yZGVyIG1pZ2h0IG5vdCBzdXBwb3J0IHJlY3QsIHdoaWNoIGlzIG5vdCBzdGFja2FibGU/KVxuICAgIGNhc2UgT1BBQ0lUWTpcbiAgICBjYXNlIFJPVzpcbiAgICBjYXNlIENPTFVNTjpcbiAgICAgIHJldHVybiB7IC8vIGFsbCBtYXJrc1xuICAgICAgICBwb2ludDogdHJ1ZSwgdGljazogdHJ1ZSwgcnVsZTogdHJ1ZSwgY2lyY2xlOiB0cnVlLCBzcXVhcmU6IHRydWUsXG4gICAgICAgIGJhcjogdHJ1ZSwgcmVjdDogdHJ1ZSwgbGluZTogdHJ1ZSwgdHJhaWw6IHRydWUsIGFyZWE6IHRydWUsIHRleHQ6IHRydWUsIGdlb3NoYXBlOiB0cnVlXG4gICAgICB9O1xuICAgIGNhc2UgWDpcbiAgICBjYXNlIFk6XG4gICAgY2FzZSBMQVRJVFVERTpcbiAgICBjYXNlIExPTkdJVFVERTpcbiAgICAgIHJldHVybiB7IC8vIGFsbCBtYXJrcyBleGNlcHQgZ2Vvc2hhcGUuIGdlb3NoYXBlIGRvZXMgbm90IHVzZSBYLCBZIC0tIGl0IHVzZXMgYSBwcm9qZWN0aW9uXG4gICAgICAgIHBvaW50OiB0cnVlLCB0aWNrOiB0cnVlLCBydWxlOiB0cnVlLCBjaXJjbGU6IHRydWUsIHNxdWFyZTogdHJ1ZSxcbiAgICAgICAgYmFyOiB0cnVlLCByZWN0OiB0cnVlLCBsaW5lOiB0cnVlLCB0cmFpbDogdHJ1ZSwgYXJlYTogdHJ1ZSwgdGV4dDogdHJ1ZVxuICAgICAgfTtcbiAgICBjYXNlIFgyOlxuICAgIGNhc2UgWTI6XG4gICAgY2FzZSBMQVRJVFVERTI6XG4gICAgY2FzZSBMT05HSVRVREUyOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcnVsZTogdHJ1ZSwgYmFyOiB0cnVlLCByZWN0OiB0cnVlLCBhcmVhOiB0cnVlXG4gICAgICB9O1xuICAgIGNhc2UgU0laRTpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBvaW50OiB0cnVlLCB0aWNrOiB0cnVlLCBydWxlOiB0cnVlLCBjaXJjbGU6IHRydWUsIHNxdWFyZTogdHJ1ZSxcbiAgICAgICAgYmFyOiB0cnVlLCB0ZXh0OiB0cnVlLCBsaW5lOiB0cnVlLCB0cmFpbDogdHJ1ZVxuICAgICAgfTtcbiAgICBjYXNlIFNIQVBFOlxuICAgICAgcmV0dXJuIHtwb2ludDogdHJ1ZSwgZ2Vvc2hhcGU6IHRydWV9O1xuICAgIGNhc2UgVEVYVDpcbiAgICAgIHJldHVybiB7dGV4dDogdHJ1ZX07XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmdlVHlwZShjaGFubmVsOiBDaGFubmVsKTogUmFuZ2VUeXBlIHtcbiAgc3dpdGNoIChjaGFubmVsKSB7XG4gICAgY2FzZSBYOlxuICAgIGNhc2UgWTpcbiAgICBjYXNlIFNJWkU6XG4gICAgY2FzZSBPUEFDSVRZOlxuICAgIC8vIFgyIGFuZCBZMiB1c2UgWCBhbmQgWSBzY2FsZXMsIHNvIHRoZXkgc2ltaWxhcmx5IGhhdmUgY29udGludW91cyByYW5nZS5cbiAgICBjYXNlIFgyOlxuICAgIGNhc2UgWTI6XG4gICAgICByZXR1cm4gJ2NvbnRpbnVvdXMnO1xuXG4gICAgY2FzZSBST1c6XG4gICAgY2FzZSBDT0xVTU46XG4gICAgY2FzZSBTSEFQRTpcbiAgICAvLyBURVhULCBUT09MVElQLCBhbmQgSFJFRiBoYXZlIG5vIHNjYWxlIGJ1dCBoYXZlIGRpc2NyZXRlIG91dHB1dFxuICAgIGNhc2UgVEVYVDpcbiAgICBjYXNlIFRPT0xUSVA6XG4gICAgY2FzZSBIUkVGOlxuICAgICAgcmV0dXJuICdkaXNjcmV0ZSc7XG5cbiAgICAvLyBDb2xvciBjYW4gYmUgZWl0aGVyIGNvbnRpbnVvdXMgb3IgZGlzY3JldGUsIGRlcGVuZGluZyBvbiBzY2FsZSB0eXBlLlxuICAgIGNhc2UgQ09MT1I6XG4gICAgY2FzZSBGSUxMOlxuICAgIGNhc2UgU1RST0tFOlxuICAgICAgcmV0dXJuICdmbGV4aWJsZSc7XG5cbiAgICAvLyBObyBzY2FsZSwgbm8gcmFuZ2UgdHlwZS5cblxuICAgIGNhc2UgTEFUSVRVREU6XG4gICAgY2FzZSBMT05HSVRVREU6XG4gICAgY2FzZSBMQVRJVFVERTI6XG4gICAgY2FzZSBMT05HSVRVREUyOlxuICAgIGNhc2UgREVUQUlMOlxuICAgIGNhc2UgS0VZOlxuICAgIGNhc2UgT1JERVI6XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBzaG91bGQgbmV2ZXIgcmVhY2ggaGVyZS4gKi9cbiAgdGhyb3cgbmV3IEVycm9yKCdyYW5nZVR5cGUgbm90IGltcGxlbWVudGVkIGZvciAnICsgY2hhbm5lbCk7XG59XG4iXX0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar util_1 = require(\"./util\");\nexports.AXIS_PARTS = ['domain', 'grid', 'labels', 'ticks', 'title'];\n/**\n * A dictionary listing whether a certain axis property is applicable for only main axes or only grid axes.\n * (Properties not listed are applicable for both)\n */\nexports.AXIS_PROPERTY_TYPE = {\n    grid: 'grid',\n    gridScale: 'grid',\n    domain: 'main',\n    labels: 'main',\n    labelFlush: 'main',\n    labelOverlap: 'main',\n    minExtent: 'main',\n    maxExtent: 'main',\n    offset: 'main',\n    ticks: 'main',\n    title: 'main',\n    values: 'both',\n    scale: 'both',\n    zindex: 'both' // this is actually set afterward, so it doesn't matter\n};\nvar COMMON_AXIS_PROPERTIES_INDEX = {\n    orient: 1,\n    domain: 1,\n    format: 1,\n    grid: 1,\n    labelBound: 1,\n    labelFlush: 1,\n    labelPadding: 1,\n    labels: 1,\n    labelOverlap: 1,\n    maxExtent: 1,\n    minExtent: 1,\n    offset: 1,\n    position: 1,\n    tickCount: 1,\n    ticks: 1,\n    tickSize: 1,\n    title: 1,\n    titlePadding: 1,\n    values: 1,\n    zindex: 1,\n};\nvar AXIS_PROPERTIES_INDEX = tslib_1.__assign({}, COMMON_AXIS_PROPERTIES_INDEX, { encoding: 1, labelAngle: 1, titleMaxLength: 1 });\nvar VG_AXIS_PROPERTIES_INDEX = tslib_1.__assign({ scale: 1 }, COMMON_AXIS_PROPERTIES_INDEX, { gridScale: 1, encode: 1 });\nfunction isAxisProperty(prop) {\n    return !!AXIS_PROPERTIES_INDEX[prop];\n}\nexports.isAxisProperty = isAxisProperty;\nexports.VG_AXIS_PROPERTIES = util_1.flagKeys(VG_AXIS_PROPERTIES_INDEX);\n// Export for dependent projects\nexports.AXIS_PROPERTIES = util_1.flagKeys(AXIS_PROPERTIES_INDEX);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXhpcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9heGlzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUVBLCtCQUFzQztBQTJFekIsUUFBQSxVQUFVLEdBQWUsQ0FBQyxRQUFRLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7QUFJckY7OztHQUdHO0FBQ1UsUUFBQSxrQkFBa0IsR0FHM0I7SUFDRixJQUFJLEVBQUUsTUFBTTtJQUNaLFNBQVMsRUFBRSxNQUFNO0lBRWpCLE1BQU0sRUFBRSxNQUFNO0lBQ2QsTUFBTSxFQUFFLE1BQU07SUFDZCxVQUFVLEVBQUUsTUFBTTtJQUNsQixZQUFZLEVBQUUsTUFBTTtJQUNwQixTQUFTLEVBQUUsTUFBTTtJQUNqQixTQUFTLEVBQUUsTUFBTTtJQUNqQixNQUFNLEVBQUUsTUFBTTtJQUNkLEtBQUssRUFBRSxNQUFNO0lBQ2IsS0FBSyxFQUFFLE1BQU07SUFDYixNQUFNLEVBQUUsTUFBTTtJQUVkLEtBQUssRUFBRSxNQUFNO0lBQ2IsTUFBTSxFQUFFLE1BQU0sQ0FBQyx1REFBdUQ7Q0FDdkUsQ0FBQztBQWtDRixJQUFNLDRCQUE0QixHQUFnQztJQUNoRSxNQUFNLEVBQUUsQ0FBQztJQUVULE1BQU0sRUFBRSxDQUFDO0lBQ1QsTUFBTSxFQUFFLENBQUM7SUFDVCxJQUFJLEVBQUUsQ0FBQztJQUNQLFVBQVUsRUFBRSxDQUFDO0lBQ2IsVUFBVSxFQUFFLENBQUM7SUFDYixZQUFZLEVBQUUsQ0FBQztJQUNmLE1BQU0sRUFBRSxDQUFDO0lBQ1QsWUFBWSxFQUFFLENBQUM7SUFDZixTQUFTLEVBQUUsQ0FBQztJQUNaLFNBQVMsRUFBRSxDQUFDO0lBQ1osTUFBTSxFQUFFLENBQUM7SUFDVCxRQUFRLEVBQUUsQ0FBQztJQUNYLFNBQVMsRUFBRSxDQUFDO0lBQ1osS0FBSyxFQUFFLENBQUM7SUFDUixRQUFRLEVBQUUsQ0FBQztJQUNYLEtBQUssRUFBRSxDQUFDO0lBQ1IsWUFBWSxFQUFFLENBQUM7SUFDZixNQUFNLEVBQUUsQ0FBQztJQUNULE1BQU0sRUFBRSxDQUFDO0NBQ1YsQ0FBQztBQUVGLElBQU0scUJBQXFCLHdCQUN0Qiw0QkFBNEIsSUFDL0IsUUFBUSxFQUFFLENBQUMsRUFDWCxVQUFVLEVBQUUsQ0FBQyxFQUNiLGNBQWMsRUFBRSxDQUFDLEdBQ2xCLENBQUM7QUFFRixJQUFNLHdCQUF3QixzQkFDNUIsS0FBSyxFQUFFLENBQUMsSUFDTCw0QkFBNEIsSUFDL0IsU0FBUyxFQUFFLENBQUMsRUFDWixNQUFNLEVBQUUsQ0FBQyxHQUNWLENBQUM7QUFFRix3QkFBK0IsSUFBWTtJQUN6QyxPQUFPLENBQUMsQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN2QyxDQUFDO0FBRkQsd0NBRUM7QUFFWSxRQUFBLGtCQUFrQixHQUFHLGVBQVEsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO0FBRXJFLGdDQUFnQztBQUNuQixRQUFBLGVBQWUsR0FBRyxlQUFRLENBQUMscUJBQXFCLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7RGF0ZVRpbWV9IGZyb20gJy4vZGF0ZXRpbWUnO1xuaW1wb3J0IHtHdWlkZSwgR3VpZGVFbmNvZGluZ0VudHJ5LCBWbE9ubHlHdWlkZUNvbmZpZ30gZnJvbSAnLi9ndWlkZSc7XG5pbXBvcnQge0ZsYWcsIGZsYWdLZXlzfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IHtBeGlzT3JpZW50LCBWZ0F4aXMsIFZnQXhpc0Jhc2UsIFZnQXhpc0NvbmZpZ30gZnJvbSAnLi92ZWdhLnNjaGVtYSc7XG5cblxuXG5leHBvcnQgaW50ZXJmYWNlIEF4aXNDb25maWcgZXh0ZW5kcyBWZ0F4aXNDb25maWcsIFZsT25seUd1aWRlQ29uZmlnIHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXhpcyBleHRlbmRzIFZnQXhpc0Jhc2UsIEd1aWRlIHtcbiAgLyoqXG4gICAqIFRoZSBvcmllbnRhdGlvbiBvZiB0aGUgYXhpcy4gT25lIG9mIGBcInRvcFwiYCwgYFwiYm90dG9tXCJgLCBgXCJsZWZ0XCJgIG9yIGBcInJpZ2h0XCJgLiBUaGUgb3JpZW50YXRpb24gY2FuIGJlIHVzZWQgdG8gZnVydGhlciBzcGVjaWFsaXplIHRoZSBheGlzIHR5cGUgKGUuZy4sIGEgeSBheGlzIG9yaWVudGVkIGZvciB0aGUgcmlnaHQgZWRnZSBvZiB0aGUgY2hhcnQpLlxuICAgKlxuICAgKiBfX0RlZmF1bHQgdmFsdWU6X18gYFwiYm90dG9tXCJgIGZvciB4LWF4ZXMgYW5kIGBcImxlZnRcImAgZm9yIHktYXhlcy5cbiAgICovXG4gIG9yaWVudD86IEF4aXNPcmllbnQ7XG5cbiAgLyoqXG4gICAqIFRoZSBvZmZzZXQsIGluIHBpeGVscywgYnkgd2hpY2ggdG8gZGlzcGxhY2UgdGhlIGF4aXMgZnJvbSB0aGUgZWRnZSBvZiB0aGUgZW5jbG9zaW5nIGdyb3VwIG9yIGRhdGEgcmVjdGFuZ2xlLlxuICAgKlxuICAgKiBfX0RlZmF1bHQgdmFsdWU6X18gZGVyaXZlZCBmcm9tIHRoZSBbYXhpcyBjb25maWddKGNvbmZpZy5odG1sI2ZhY2V0LXNjYWxlLWNvbmZpZykncyBgb2Zmc2V0YCAoYDBgIGJ5IGRlZmF1bHQpXG4gICAqL1xuICBvZmZzZXQ/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBhbmNob3IgcG9zaXRpb24gb2YgdGhlIGF4aXMgaW4gcGl4ZWxzLiBGb3IgeC1heGlzIHdpdGggdG9wIG9yIGJvdHRvbSBvcmllbnRhdGlvbiwgdGhpcyBzZXRzIHRoZSBheGlzIGdyb3VwIHggY29vcmRpbmF0ZS4gRm9yIHktYXhpcyB3aXRoIGxlZnQgb3IgcmlnaHQgb3JpZW50YXRpb24sIHRoaXMgc2V0cyB0aGUgYXhpcyBncm91cCB5IGNvb3JkaW5hdGUuXG4gICAqXG4gICAqIF9fRGVmYXVsdCB2YWx1ZV9fOiBgMGBcbiAgICovXG4gIHBvc2l0aW9uPzogbnVtYmVyO1xuXG5cbiAgLyoqXG4gICAqIFRoZSByb3RhdGlvbiBhbmdsZSBvZiB0aGUgYXhpcyBsYWJlbHMuXG4gICAqXG4gICAqIF9fRGVmYXVsdCB2YWx1ZTpfXyBgLTkwYCBmb3Igbm9taW5hbCBhbmQgb3JkaW5hbCBmaWVsZHM7IGAwYCBvdGhlcndpc2UuXG4gICAqXG4gICAqIEBtaW5pbXVtIC0zNjBcbiAgICogQG1heGltdW0gMzYwXG4gICAqL1xuICBsYWJlbEFuZ2xlPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBBIGRlc2lyZWQgbnVtYmVyIG9mIHRpY2tzLCBmb3IgYXhlcyB2aXN1YWxpemluZyBxdWFudGl0YXRpdmUgc2NhbGVzLiBUaGUgcmVzdWx0aW5nIG51bWJlciBtYXkgYmUgZGlmZmVyZW50IHNvIHRoYXQgdmFsdWVzIGFyZSBcIm5pY2VcIiAobXVsdGlwbGVzIG9mIDIsIDUsIDEwKSBhbmQgbGllIHdpdGhpbiB0aGUgdW5kZXJseWluZyBzY2FsZSdzIHJhbmdlLlxuICAgKiBAbWluaW11bSAwXG4gICAqXG4gICAqIF9fRGVmYXVsdCB2YWx1ZV9fOiBEZXRlcm1pbmUgdXNpbmcgYSBmb3JtdWxhIGBjZWlsKHdpZHRoLzQwKWAgZm9yIHggYW5kIGBjZWlsKGhlaWdodC80MClgIGZvciB5LlxuICAgKi9cbiAgdGlja0NvdW50PzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBFeHBsaWNpdGx5IHNldCB0aGUgdmlzaWJsZSBheGlzIHRpY2sgdmFsdWVzLlxuICAgKi9cbiAgdmFsdWVzPzogbnVtYmVyW10gfCBEYXRlVGltZVtdO1xuXG4gIC8qKlxuICAgKiBBIG5vbi1wb3NpdGl2ZSBpbnRlZ2VyIGluZGljYXRpbmcgei1pbmRleCBvZiB0aGUgYXhpcy5cbiAgICogSWYgemluZGV4IGlzIDAsIGF4ZXMgc2hvdWxkIGJlIGRyYXduIGJlaGluZCBhbGwgY2hhcnQgZWxlbWVudHMuXG4gICAqIFRvIHB1dCB0aGVtIGluIGZyb250LCB1c2UgYFwiemluZGV4ID0gMVwiYC5cbiAgICpcbiAgICogX19EZWZhdWx0IHZhbHVlOl9fIGAxYCAoaW4gZnJvbnQgb2YgdGhlIG1hcmtzKSBmb3IgYWN0dWFsIGF4aXMgYW5kIGAwYCAoYmVoaW5kIHRoZSBtYXJrcykgZm9yIGdyaWRzLlxuICAgKlxuICAgKiBAVEpTLXR5cGUgaW50ZWdlclxuICAgKiBAbWluaW11bSAwXG4gICAqL1xuICB6aW5kZXg/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIE1hcmsgZGVmaW5pdGlvbnMgZm9yIGN1c3RvbSBheGlzIGVuY29kaW5nLlxuICAgKlxuICAgKiBAaGlkZVxuICAgKi9cbiAgZW5jb2Rpbmc/OiBBeGlzRW5jb2Rpbmc7XG59XG5cblxuZXhwb3J0IHR5cGUgQXhpc1BhcnQgPSBrZXlvZiBBeGlzRW5jb2Rpbmc7XG5leHBvcnQgY29uc3QgQVhJU19QQVJUUzogQXhpc1BhcnRbXSA9IFsnZG9tYWluJywgJ2dyaWQnLCAnbGFiZWxzJywgJ3RpY2tzJywgJ3RpdGxlJ107XG5cblxuXG4vKipcbiAqIEEgZGljdGlvbmFyeSBsaXN0aW5nIHdoZXRoZXIgYSBjZXJ0YWluIGF4aXMgcHJvcGVydHkgaXMgYXBwbGljYWJsZSBmb3Igb25seSBtYWluIGF4ZXMgb3Igb25seSBncmlkIGF4ZXMuXG4gKiAoUHJvcGVydGllcyBub3QgbGlzdGVkIGFyZSBhcHBsaWNhYmxlIGZvciBib3RoKVxuICovXG5leHBvcnQgY29uc3QgQVhJU19QUk9QRVJUWV9UWVBFOiB7XG4gIC8vIFVzaW5nIE1hcHBlZCBUeXBlIHRvIGRlY2xhcmUgdHlwZSAoaHR0cHM6Ly93d3cudHlwZXNjcmlwdGxhbmcub3JnL2RvY3MvaGFuZGJvb2svYWR2YW5jZWQtdHlwZXMuaHRtbCNtYXBwZWQtdHlwZXMpXG4gIFtrIGluIGtleW9mIFZnQXhpc106ICdtYWluJyB8ICdncmlkJyB8ICdib3RoJ1xufSA9IHtcbiAgZ3JpZDogJ2dyaWQnLFxuICBncmlkU2NhbGU6ICdncmlkJyxcblxuICBkb21haW46ICdtYWluJyxcbiAgbGFiZWxzOiAnbWFpbicsXG4gIGxhYmVsRmx1c2g6ICdtYWluJyxcbiAgbGFiZWxPdmVybGFwOiAnbWFpbicsXG4gIG1pbkV4dGVudDogJ21haW4nLFxuICBtYXhFeHRlbnQ6ICdtYWluJyxcbiAgb2Zmc2V0OiAnbWFpbicsXG4gIHRpY2tzOiAnbWFpbicsXG4gIHRpdGxlOiAnbWFpbicsXG4gIHZhbHVlczogJ2JvdGgnLFxuXG4gIHNjYWxlOiAnYm90aCcsXG4gIHppbmRleDogJ2JvdGgnIC8vIHRoaXMgaXMgYWN0dWFsbHkgc2V0IGFmdGVyd2FyZCwgc28gaXQgZG9lc24ndCBtYXR0ZXJcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXhpc0VuY29kaW5nIHtcbiAgLyoqXG4gICAqIEN1c3RvbSBlbmNvZGluZyBmb3IgdGhlIGF4aXMgY29udGFpbmVyLlxuICAgKi9cbiAgYXhpcz86IEd1aWRlRW5jb2RpbmdFbnRyeTtcblxuICAvKipcbiAgICogQ3VzdG9tIGVuY29kaW5nIGZvciB0aGUgYXhpcyBkb21haW4gcnVsZSBtYXJrLlxuICAgKi9cbiAgZG9tYWluPzogR3VpZGVFbmNvZGluZ0VudHJ5O1xuXG4gIC8qKlxuICAgKiBDdXN0b20gZW5jb2RpbmcgZm9yIGF4aXMgZ3JpZGxpbmUgcnVsZSBtYXJrcy5cbiAgICovXG4gIGdyaWQ/OiBHdWlkZUVuY29kaW5nRW50cnk7XG5cbiAgLyoqXG4gICAqIEN1c3RvbSBlbmNvZGluZyBmb3IgYXhpcyBsYWJlbCB0ZXh0IG1hcmtzLlxuICAgKi9cbiAgbGFiZWxzPzogR3VpZGVFbmNvZGluZ0VudHJ5O1xuXG4gIC8qKlxuICAgKiBDdXN0b20gZW5jb2RpbmcgZm9yIGF4aXMgdGljayBydWxlIG1hcmtzLlxuICAgKi9cbiAgdGlja3M/OiBHdWlkZUVuY29kaW5nRW50cnk7XG5cbiAgLyoqXG4gICAqIEN1c3RvbSBlbmNvZGluZyBmb3IgdGhlIGF4aXMgdGl0bGUgdGV4dCBtYXJrLlxuICAgKi9cbiAgdGl0bGU/OiBHdWlkZUVuY29kaW5nRW50cnk7XG59XG5cbmNvbnN0IENPTU1PTl9BWElTX1BST1BFUlRJRVNfSU5ERVg6IEZsYWc8a2V5b2YgKFZnQXhpcyB8IEF4aXMpPiA9IHtcbiAgb3JpZW50OiAxLCAvLyBvdGhlciB0aGluZ3MgY2FuIGRlcGVuZCBvbiBvcmllbnRcblxuICBkb21haW46IDEsXG4gIGZvcm1hdDogMSxcbiAgZ3JpZDogMSxcbiAgbGFiZWxCb3VuZDogMSxcbiAgbGFiZWxGbHVzaDogMSxcbiAgbGFiZWxQYWRkaW5nOiAxLFxuICBsYWJlbHM6IDEsXG4gIGxhYmVsT3ZlcmxhcDogMSxcbiAgbWF4RXh0ZW50OiAxLFxuICBtaW5FeHRlbnQ6IDEsXG4gIG9mZnNldDogMSxcbiAgcG9zaXRpb246IDEsXG4gIHRpY2tDb3VudDogMSxcbiAgdGlja3M6IDEsXG4gIHRpY2tTaXplOiAxLFxuICB0aXRsZTogMSxcbiAgdGl0bGVQYWRkaW5nOiAxLFxuICB2YWx1ZXM6IDEsXG4gIHppbmRleDogMSxcbn07XG5cbmNvbnN0IEFYSVNfUFJPUEVSVElFU19JTkRFWDogRmxhZzxrZXlvZiBBeGlzPiA9IHtcbiAgLi4uQ09NTU9OX0FYSVNfUFJPUEVSVElFU19JTkRFWCxcbiAgZW5jb2Rpbmc6IDEsXG4gIGxhYmVsQW5nbGU6IDEsXG4gIHRpdGxlTWF4TGVuZ3RoOiAxXG59O1xuXG5jb25zdCBWR19BWElTX1BST1BFUlRJRVNfSU5ERVg6IEZsYWc8a2V5b2YgVmdBeGlzPiA9IHtcbiAgc2NhbGU6IDEsXG4gIC4uLkNPTU1PTl9BWElTX1BST1BFUlRJRVNfSU5ERVgsXG4gIGdyaWRTY2FsZTogMSxcbiAgZW5jb2RlOiAxXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gaXNBeGlzUHJvcGVydHkocHJvcDogc3RyaW5nKTogcHJvcCBpcyBrZXlvZiBBeGlzIHtcbiAgcmV0dXJuICEhQVhJU19QUk9QRVJUSUVTX0lOREVYW3Byb3BdO1xufVxuXG5leHBvcnQgY29uc3QgVkdfQVhJU19QUk9QRVJUSUVTID0gZmxhZ0tleXMoVkdfQVhJU19QUk9QRVJUSUVTX0lOREVYKTtcblxuLy8gRXhwb3J0IGZvciBkZXBlbmRlbnQgcHJvamVjdHNcbmV4cG9ydCBjb25zdCBBWElTX1BST1BFUlRJRVMgPSBmbGFnS2V5cyhBWElTX1BST1BFUlRJRVNfSU5ERVgpO1xuXG5leHBvcnQgaW50ZXJmYWNlIEF4aXNDb25maWdNaXhpbnMge1xuICAvKipcbiAgICogQXhpcyBjb25maWd1cmF0aW9uLCB3aGljaCBkZXRlcm1pbmVzIGRlZmF1bHQgcHJvcGVydGllcyBmb3IgYWxsIGB4YCBhbmQgYHlgIFtheGVzXShheGlzLmh0bWwpLiBGb3IgYSBmdWxsIGxpc3Qgb2YgYXhpcyBjb25maWd1cmF0aW9uIG9wdGlvbnMsIHBsZWFzZSBzZWUgdGhlIFtjb3JyZXNwb25kaW5nIHNlY3Rpb24gb2YgdGhlIGF4aXMgZG9jdW1lbnRhdGlvbl0oYXhpcy5odG1sI2NvbmZpZykuXG4gICAqL1xuICBheGlzPzogQXhpc0NvbmZpZztcblxuICAvKipcbiAgICogWC1heGlzIHNwZWNpZmljIGNvbmZpZy5cbiAgICovXG4gIGF4aXNYPzogVmdBeGlzQ29uZmlnO1xuXG4gIC8qKlxuICAgKiBZLWF4aXMgc3BlY2lmaWMgY29uZmlnLlxuICAgKi9cbiAgYXhpc1k/OiBWZ0F4aXNDb25maWc7XG5cbiAgLyoqXG4gICAqIFNwZWNpZmljIGF4aXMgY29uZmlnIGZvciB5LWF4aXMgYWxvbmcgdGhlIGxlZnQgZWRnZSBvZiB0aGUgY2hhcnQuXG4gICAqL1xuICBheGlzTGVmdD86IFZnQXhpc0NvbmZpZztcblxuICAvKipcbiAgICogU3BlY2lmaWMgYXhpcyBjb25maWcgZm9yIHktYXhpcyBhbG9uZyB0aGUgcmlnaHQgZWRnZSBvZiB0aGUgY2hhcnQuXG4gICAqL1xuICBheGlzUmlnaHQ/OiBWZ0F4aXNDb25maWc7XG5cbiAgLyoqXG4gICAqIFNwZWNpZmljIGF4aXMgY29uZmlnIGZvciB4LWF4aXMgYWxvbmcgdGhlIHRvcCBlZGdlIG9mIHRoZSBjaGFydC5cbiAgICovXG4gIGF4aXNUb3A/OiBWZ0F4aXNDb25maWc7XG5cbiAgLyoqXG4gICAqIFNwZWNpZmljIGF4aXMgY29uZmlnIGZvciB4LWF4aXMgYWxvbmcgdGhlIGJvdHRvbSBlZGdlIG9mIHRoZSBjaGFydC5cbiAgICovXG4gIGF4aXNCb3R0b20/OiBWZ0F4aXNDb25maWc7XG5cbiAgLyoqXG4gICAqIFNwZWNpZmljIGF4aXMgY29uZmlnIGZvciBheGVzIHdpdGggXCJiYW5kXCIgc2NhbGVzLlxuICAgKi9cbiAgYXhpc0JhbmQ/OiBWZ0F4aXNDb25maWc7XG59XG4iXX0=","\"use strict\";\n/**\n * Vega-Lite's singleton logger utility.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar vega_util_1 = require(\"vega-util\");\nvar util_1 = require(\"./util\");\n/**\n * Main (default) Vega Logger instance for Vega-Lite\n */\nvar main = vega_util_1.logger(vega_util_1.Warn);\nvar current = main;\n/**\n * Logger tool for checking if the code throws correct warning\n */\nvar LocalLogger = /** @class */ (function () {\n    function LocalLogger() {\n        this.warns = [];\n        this.infos = [];\n        this.debugs = [];\n    }\n    LocalLogger.prototype.level = function () {\n        return this;\n    };\n    LocalLogger.prototype.warn = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        (_a = this.warns).push.apply(_a, args);\n        return this;\n        var _a;\n    };\n    LocalLogger.prototype.info = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        (_a = this.infos).push.apply(_a, args);\n        return this;\n        var _a;\n    };\n    LocalLogger.prototype.debug = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        (_a = this.debugs).push.apply(_a, args);\n        return this;\n        var _a;\n    };\n    return LocalLogger;\n}());\nexports.LocalLogger = LocalLogger;\nfunction wrap(f) {\n    return function () {\n        current = new LocalLogger();\n        f(current);\n        reset();\n    };\n}\nexports.wrap = wrap;\n/**\n * Set the singleton logger to be a custom logger\n */\nfunction set(newLogger) {\n    current = newLogger;\n    return current;\n}\nexports.set = set;\n/**\n * Reset the main logger to use the default Vega Logger\n */\nfunction reset() {\n    current = main;\n    return current;\n}\nexports.reset = reset;\nfunction warn() {\n    var _ = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        _[_i] = arguments[_i];\n    }\n    current.warn.apply(current, arguments);\n}\nexports.warn = warn;\nfunction info() {\n    var _ = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        _[_i] = arguments[_i];\n    }\n    current.info.apply(current, arguments);\n}\nexports.info = info;\nfunction debug() {\n    var _ = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        _[_i] = arguments[_i];\n    }\n    current.debug.apply(current, arguments);\n}\nexports.debug = debug;\n/**\n * Collection of all Vega-Lite Error Messages\n */\nvar message;\n(function (message) {\n    message.INVALID_SPEC = 'Invalid spec';\n    // FIT\n    message.FIT_NON_SINGLE = 'Autosize \"fit\" only works for single views and layered views.';\n    message.CANNOT_FIX_RANGE_STEP_WITH_FIT = 'Cannot use a fixed value of \"rangeStep\" when \"autosize\" is \"fit\".';\n    // SELECTION\n    function cannotProjectOnChannelWithoutField(channel) {\n        return \"Cannot project a selection on encoding channel \\\"\" + channel + \"\\\", which has no field.\";\n    }\n    message.cannotProjectOnChannelWithoutField = cannotProjectOnChannelWithoutField;\n    function nearestNotSupportForContinuous(mark) {\n        return \"The \\\"nearest\\\" transform is not supported for \" + mark + \" marks.\";\n    }\n    message.nearestNotSupportForContinuous = nearestNotSupportForContinuous;\n    function selectionNotFound(name) {\n        return \"Cannot find a selection named \\\"\" + name + \"\\\"\";\n    }\n    message.selectionNotFound = selectionNotFound;\n    message.SCALE_BINDINGS_CONTINUOUS = 'Scale bindings are currently only supported for scales with unbinned, continuous domains.';\n    // REPEAT\n    function noSuchRepeatedValue(field) {\n        return \"Unknown repeated value \\\"\" + field + \"\\\".\";\n    }\n    message.noSuchRepeatedValue = noSuchRepeatedValue;\n    // CONCAT\n    message.CONCAT_CANNOT_SHARE_AXIS = 'Axes cannot be shared in concatenated views.';\n    // REPEAT\n    message.REPEAT_CANNOT_SHARE_AXIS = 'Axes cannot be shared in repeated views.';\n    // TITLE\n    function cannotSetTitleAnchor(type) {\n        return \"Cannot set title \\\"anchor\\\" for a \" + type + \" spec\";\n    }\n    message.cannotSetTitleAnchor = cannotSetTitleAnchor;\n    // DATA\n    function unrecognizedParse(p) {\n        return \"Unrecognized parse \\\"\" + p + \"\\\".\";\n    }\n    message.unrecognizedParse = unrecognizedParse;\n    function differentParse(field, local, ancestor) {\n        return \"An ancestor parsed field \\\"\" + field + \"\\\" as \" + ancestor + \" but a child wants to parse the field as \" + local + \".\";\n    }\n    message.differentParse = differentParse;\n    // TRANSFORMS\n    function invalidTransformIgnored(transform) {\n        return \"Ignoring an invalid transform: \" + util_1.stringify(transform) + \".\";\n    }\n    message.invalidTransformIgnored = invalidTransformIgnored;\n    message.NO_FIELDS_NEEDS_AS = 'If \"from.fields\" is not specified, \"as\" has to be a string that specifies the key to be used for the data from the secondary source.';\n    // ENCODING & FACET\n    function encodingOverridden(channels) {\n        return \"Layer's shared \" + channels.join(',') + \" channel \" + (channels.length === 1 ? 'is' : 'are') + \" overriden\";\n    }\n    message.encodingOverridden = encodingOverridden;\n    function projectionOverridden(opt) {\n        var parentProjection = opt.parentProjection, projection = opt.projection;\n        return \"Layer's shared projection \" + util_1.stringify(parentProjection) + \" is overridden by a child projection \" + util_1.stringify(projection) + \".\";\n    }\n    message.projectionOverridden = projectionOverridden;\n    function primitiveChannelDef(channel, type, value) {\n        return \"Channel \" + channel + \" is a \" + type + \". Converted to {value: \" + util_1.stringify(value) + \"}.\";\n    }\n    message.primitiveChannelDef = primitiveChannelDef;\n    function invalidFieldType(type) {\n        return \"Invalid field type \\\"\" + type + \"\\\"\";\n    }\n    message.invalidFieldType = invalidFieldType;\n    function nonZeroScaleUsedWithLengthMark(mark, channel, opt) {\n        var scaleText = opt.scaleType ? opt.scaleType + \" scale\" :\n            opt.zeroFalse ? 'scale with zero=false' :\n                'scale with custom domain that excludes zero';\n        return \"A \" + scaleText + \" is used with \" + mark + \" mark. This can be misleading as the \" + (channel === 'x' ? 'width' : 'height') + \" of the \" + mark + \" can be arbitrary based on the scale domain. You may want to use point mark instead.\";\n    }\n    message.nonZeroScaleUsedWithLengthMark = nonZeroScaleUsedWithLengthMark;\n    function invalidFieldTypeForCountAggregate(type, aggregate) {\n        return \"Invalid field type \\\"\" + type + \"\\\" for aggregate: \\\"\" + aggregate + \"\\\", using \\\"quantitative\\\" instead.\";\n    }\n    message.invalidFieldTypeForCountAggregate = invalidFieldTypeForCountAggregate;\n    function invalidAggregate(aggregate) {\n        return \"Invalid aggregation operator \\\"\" + aggregate + \"\\\"\";\n    }\n    message.invalidAggregate = invalidAggregate;\n    function emptyOrInvalidFieldType(type, channel, newType) {\n        return \"Invalid field type \\\"\" + type + \"\\\" for channel \\\"\" + channel + \"\\\", using \\\"\" + newType + \"\\\" instead.\";\n    }\n    message.emptyOrInvalidFieldType = emptyOrInvalidFieldType;\n    function droppingColor(type, opt) {\n        var fill = opt.fill, stroke = opt.stroke;\n        return \"Dropping color \" + type + \" as the plot also has \" + (fill && stroke ? 'fill and stroke' : fill ? 'fill' : 'stroke');\n    }\n    message.droppingColor = droppingColor;\n    function emptyFieldDef(fieldDef, channel) {\n        return \"Dropping \" + util_1.stringify(fieldDef) + \" from channel \\\"\" + channel + \"\\\" since it does not contain data field or value.\";\n    }\n    message.emptyFieldDef = emptyFieldDef;\n    function latLongDeprecated(channel, type, newChannel) {\n        return channel + \"-encoding with type \" + type + \" is deprecated. Replacing with \" + newChannel + \"-encoding.\";\n    }\n    message.latLongDeprecated = latLongDeprecated;\n    message.LINE_WITH_VARYING_SIZE = 'Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.';\n    function incompatibleChannel(channel, markOrFacet, when) {\n        return channel + \" dropped as it is incompatible with \\\"\" + markOrFacet + \"\\\"\" + (when ? \" when \" + when : '') + \".\";\n    }\n    message.incompatibleChannel = incompatibleChannel;\n    function invalidEncodingChannel(channel) {\n        return channel + \"-encoding is dropped as \" + channel + \" is not a valid encoding channel.\";\n    }\n    message.invalidEncodingChannel = invalidEncodingChannel;\n    function facetChannelShouldBeDiscrete(channel) {\n        return channel + \" encoding should be discrete (ordinal / nominal / binned).\";\n    }\n    message.facetChannelShouldBeDiscrete = facetChannelShouldBeDiscrete;\n    function discreteChannelCannotEncode(channel, type) {\n        return \"Using discrete channel \\\"\" + channel + \"\\\" to encode \\\"\" + type + \"\\\" field can be misleading as it does not encode \" + (type === 'ordinal' ? 'order' : 'magnitude') + \".\";\n    }\n    message.discreteChannelCannotEncode = discreteChannelCannotEncode;\n    // Mark\n    message.BAR_WITH_POINT_SCALE_AND_RANGESTEP_NULL = 'Bar mark should not be used with point scale when rangeStep is null. Please use band scale instead.';\n    function lineWithRange(hasX2, hasY2) {\n        var channels = hasX2 && hasY2 ? 'x2 and y2' : hasX2 ? 'x2' : 'y2';\n        return \"Line mark is for continuous lines and thus cannot be used with \" + channels + \". We will use the rule mark (line segments) instead.\";\n    }\n    message.lineWithRange = lineWithRange;\n    function unclearOrientContinuous(mark) {\n        return \"Cannot clearly determine orientation for \\\"\" + mark + \"\\\" since both x and y channel encode continuous fields. In this case, we use vertical by default\";\n    }\n    message.unclearOrientContinuous = unclearOrientContinuous;\n    function unclearOrientDiscreteOrEmpty(mark) {\n        return \"Cannot clearly determine orientation for \\\"\" + mark + \"\\\" since both x and y channel encode discrete or empty fields.\";\n    }\n    message.unclearOrientDiscreteOrEmpty = unclearOrientDiscreteOrEmpty;\n    function orientOverridden(original, actual) {\n        return \"Specified orient \\\"\" + original + \"\\\" overridden with \\\"\" + actual + \"\\\"\";\n    }\n    message.orientOverridden = orientOverridden;\n    // SCALE\n    message.CANNOT_UNION_CUSTOM_DOMAIN_WITH_FIELD_DOMAIN = 'custom domain scale cannot be unioned with default field-based domain';\n    function cannotUseScalePropertyWithNonColor(prop) {\n        return \"Cannot use the scale property \\\"\" + prop + \"\\\" with non-color channel.\";\n    }\n    message.cannotUseScalePropertyWithNonColor = cannotUseScalePropertyWithNonColor;\n    function unaggregateDomainHasNoEffectForRawField(fieldDef) {\n        return \"Using unaggregated domain with raw field has no effect (\" + util_1.stringify(fieldDef) + \").\";\n    }\n    message.unaggregateDomainHasNoEffectForRawField = unaggregateDomainHasNoEffectForRawField;\n    function unaggregateDomainWithNonSharedDomainOp(aggregate) {\n        return \"Unaggregated domain not applicable for \\\"\" + aggregate + \"\\\" since it produces values outside the origin domain of the source data.\";\n    }\n    message.unaggregateDomainWithNonSharedDomainOp = unaggregateDomainWithNonSharedDomainOp;\n    function unaggregatedDomainWithLogScale(fieldDef) {\n        return \"Unaggregated domain is currently unsupported for log scale (\" + util_1.stringify(fieldDef) + \").\";\n    }\n    message.unaggregatedDomainWithLogScale = unaggregatedDomainWithLogScale;\n    function cannotUseSizeFieldWithBandSize(positionChannel) {\n        return \"Using size field when \" + positionChannel + \"-channel has a band scale is not supported.\";\n    }\n    message.cannotUseSizeFieldWithBandSize = cannotUseSizeFieldWithBandSize;\n    function cannotApplySizeToNonOrientedMark(mark) {\n        return \"Cannot apply size to non-oriented mark \\\"\" + mark + \"\\\".\";\n    }\n    message.cannotApplySizeToNonOrientedMark = cannotApplySizeToNonOrientedMark;\n    function rangeStepDropped(channel) {\n        return \"rangeStep for \\\"\" + channel + \"\\\" is dropped as top-level \" + (channel === 'x' ? 'width' : 'height') + \" is provided.\";\n    }\n    message.rangeStepDropped = rangeStepDropped;\n    function scaleTypeNotWorkWithChannel(channel, scaleType, defaultScaleType) {\n        return \"Channel \\\"\" + channel + \"\\\" does not work with \\\"\" + scaleType + \"\\\" scale. We are using \\\"\" + defaultScaleType + \"\\\" scale instead.\";\n    }\n    message.scaleTypeNotWorkWithChannel = scaleTypeNotWorkWithChannel;\n    function scaleTypeNotWorkWithFieldDef(scaleType, defaultScaleType) {\n        return \"FieldDef does not work with \\\"\" + scaleType + \"\\\" scale. We are using \\\"\" + defaultScaleType + \"\\\" scale instead.\";\n    }\n    message.scaleTypeNotWorkWithFieldDef = scaleTypeNotWorkWithFieldDef;\n    function scalePropertyNotWorkWithScaleType(scaleType, propName, channel) {\n        return channel + \"-scale's \\\"\" + propName + \"\\\" is dropped as it does not work with \" + scaleType + \" scale.\";\n    }\n    message.scalePropertyNotWorkWithScaleType = scalePropertyNotWorkWithScaleType;\n    function scaleTypeNotWorkWithMark(mark, scaleType) {\n        return \"Scale type \\\"\" + scaleType + \"\\\" does not work with mark \\\"\" + mark + \"\\\".\";\n    }\n    message.scaleTypeNotWorkWithMark = scaleTypeNotWorkWithMark;\n    function mergeConflictingProperty(property, propertyOf, v1, v2) {\n        return \"Conflicting \" + propertyOf + \" property \\\"\" + property + \"\\\" (\" + util_1.stringify(v1) + \" and \" + util_1.stringify(v2) + \").  Using \" + util_1.stringify(v1) + \".\";\n    }\n    message.mergeConflictingProperty = mergeConflictingProperty;\n    function independentScaleMeansIndependentGuide(channel) {\n        return \"Setting the scale to be independent for \\\"\" + channel + \"\\\" means we also have to set the guide (axis or legend) to be independent.\";\n    }\n    message.independentScaleMeansIndependentGuide = independentScaleMeansIndependentGuide;\n    function conflictedDomain(channel) {\n        return \"Cannot set \" + channel + \"-scale's \\\"domain\\\" as it is binned. Please use \\\"bin\\\"'s \\\"extent\\\" instead.\";\n    }\n    message.conflictedDomain = conflictedDomain;\n    function domainSortDropped(sort) {\n        return \"Dropping sort property \" + util_1.stringify(sort) + \" as unioned domains only support boolean or op 'count'.\";\n    }\n    message.domainSortDropped = domainSortDropped;\n    message.UNABLE_TO_MERGE_DOMAINS = 'Unable to merge domains';\n    message.MORE_THAN_ONE_SORT = 'Domains that should be unioned has conflicting sort properties. Sort will be set to true.';\n    // AXIS\n    message.INVALID_CHANNEL_FOR_AXIS = 'Invalid channel for axis.';\n    // STACK\n    function cannotStackRangedMark(channel) {\n        return \"Cannot stack \\\"\" + channel + \"\\\" if there is already \\\"\" + channel + \"2\\\"\";\n    }\n    message.cannotStackRangedMark = cannotStackRangedMark;\n    function cannotStackNonLinearScale(scaleType) {\n        return \"Cannot stack non-linear scale (\" + scaleType + \")\";\n    }\n    message.cannotStackNonLinearScale = cannotStackNonLinearScale;\n    function stackNonSummativeAggregate(aggregate) {\n        return \"Stacking is applied even though the aggregate function is non-summative (\\\"\" + aggregate + \"\\\")\";\n    }\n    message.stackNonSummativeAggregate = stackNonSummativeAggregate;\n    // TIMEUNIT\n    function invalidTimeUnit(unitName, value) {\n        return \"Invalid \" + unitName + \": \" + util_1.stringify(value);\n    }\n    message.invalidTimeUnit = invalidTimeUnit;\n    function dayReplacedWithDate(fullTimeUnit) {\n        return \"Time unit \\\"\" + fullTimeUnit + \"\\\" is not supported. We are replacing it with \" + fullTimeUnit.replace('day', 'date') + \".\";\n    }\n    message.dayReplacedWithDate = dayReplacedWithDate;\n    function droppedDay(d) {\n        return \"Dropping day from datetime \" + util_1.stringify(d) + \" as day cannot be combined with other units.\";\n    }\n    message.droppedDay = droppedDay;\n})(message = exports.message || (exports.message = {}));\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9nLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2xvZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7O0dBRUc7O0FBR0gsdUNBQXdEO0FBU3hELCtCQUFpQztBQU1qQzs7R0FFRztBQUNILElBQU0sSUFBSSxHQUFHLGtCQUFNLENBQUMsZ0JBQUksQ0FBQyxDQUFDO0FBQzFCLElBQUksT0FBTyxHQUFvQixJQUFJLENBQUM7QUFFcEM7O0dBRUc7QUFDSDtJQUFBO1FBQ1MsVUFBSyxHQUFVLEVBQUUsQ0FBQztRQUNsQixVQUFLLEdBQVUsRUFBRSxDQUFDO1FBQ2xCLFdBQU0sR0FBVSxFQUFFLENBQUM7SUFvQjVCLENBQUM7SUFsQlEsMkJBQUssR0FBWjtRQUNFLE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUVNLDBCQUFJLEdBQVg7UUFBWSxjQUFjO2FBQWQsVUFBYyxFQUFkLHFCQUFjLEVBQWQsSUFBYztZQUFkLHlCQUFjOztRQUN4QixDQUFBLEtBQUEsSUFBSSxDQUFDLEtBQUssQ0FBQSxDQUFDLElBQUksV0FBSSxJQUFJLEVBQUU7UUFDekIsT0FBTyxJQUFJLENBQUM7O0lBQ2QsQ0FBQztJQUVNLDBCQUFJLEdBQVg7UUFBWSxjQUFjO2FBQWQsVUFBYyxFQUFkLHFCQUFjLEVBQWQsSUFBYztZQUFkLHlCQUFjOztRQUN4QixDQUFBLEtBQUEsSUFBSSxDQUFDLEtBQUssQ0FBQSxDQUFDLElBQUksV0FBSSxJQUFJLEVBQUU7UUFDekIsT0FBTyxJQUFJLENBQUM7O0lBQ2QsQ0FBQztJQUVNLDJCQUFLLEdBQVo7UUFBYSxjQUFjO2FBQWQsVUFBYyxFQUFkLHFCQUFjLEVBQWQsSUFBYztZQUFkLHlCQUFjOztRQUN6QixDQUFBLEtBQUEsSUFBSSxDQUFDLE1BQU0sQ0FBQSxDQUFDLElBQUksV0FBSSxJQUFJLEVBQUU7UUFDMUIsT0FBTyxJQUFJLENBQUM7O0lBQ2QsQ0FBQztJQUNILGtCQUFDO0FBQUQsQ0FBQyxBQXZCRCxJ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WyIvKipcbiAqIFZlZ2EtTGl0ZSdzIHNpbmdsZXRvbiBsb2dnZXIgdXRpbGl0eS5cbiAqL1xuXG5pbXBvcnQge0FnZ3JlZ2F0ZU9wfSBmcm9tICd2ZWdhJztcbmltcG9ydCB7bG9nZ2VyLCBMb2dnZXJJbnRlcmZhY2UsIFdhcm59IGZyb20gJ3ZlZ2EtdXRpbCc7XG5pbXBvcnQge0NoYW5uZWwsIEdlb1Bvc2l0aW9uQ2hhbm5lbH0gZnJvbSAnLi9jaGFubmVsJztcbmltcG9ydCB7Q29tcG9zaXRlTWFya30gZnJvbSAnLi9jb21wb3NpdGVtYXJrJztcbmltcG9ydCB7RGF0ZVRpbWUsIERhdGVUaW1lRXhwcn0gZnJvbSAnLi9kYXRldGltZSc7XG5pbXBvcnQge0ZpZWxkRGVmfSBmcm9tICcuL2ZpZWxkZGVmJztcbmltcG9ydCB7TWFya30gZnJvbSAnLi9tYXJrJztcbmltcG9ydCB7UHJvamVjdGlvbn0gZnJvbSAnLi9wcm9qZWN0aW9uJztcbmltcG9ydCB7U2NhbGVUeXBlfSBmcm9tICcuL3NjYWxlJztcbmltcG9ydCB7VHlwZX0gZnJvbSAnLi90eXBlJztcbmltcG9ydCB7c3RyaW5naWZ5fSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IHtWZ1NvcnRGaWVsZH0gZnJvbSAnLi92ZWdhLnNjaGVtYSc7XG5cblxuZXhwb3J0IHtMb2dnZXJJbnRlcmZhY2V9IGZyb20gJ3ZlZ2EtdXRpbCc7XG5cbi8qKlxuICogTWFpbiAoZGVmYXVsdCkgVmVnYSBMb2dnZXIgaW5zdGFuY2UgZm9yIFZlZ2EtTGl0ZVxuICovXG5jb25zdCBtYWluID0gbG9nZ2VyKFdhcm4pO1xubGV0IGN1cnJlbnQ6IExvZ2dlckludGVyZmFjZSA9IG1haW47XG5cbi8qKlxuICogTG9nZ2VyIHRvb2wgZm9yIGNoZWNraW5nIGlmIHRoZSBjb2RlIHRocm93cyBjb3JyZWN0IHdhcm5pbmdcbiAqL1xuZXhwb3J0IGNsYXNzIExvY2FsTG9nZ2VyIGltcGxlbWVudHMgTG9nZ2VySW50ZXJmYWNlIHtcbiAgcHVibGljIHdhcm5zOiBhbnlbXSA9IFtdO1xuICBwdWJsaWMgaW5mb3M6IGFueVtdID0gW107XG4gIHB1YmxpYyBkZWJ1Z3M6IGFueVtdID0gW107XG5cbiAgcHVibGljIGxldmVsKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcHVibGljIHdhcm4oLi4uYXJnczogYW55W10pIHtcbiAgICB0aGlzLndhcm5zLnB1c2goLi4uYXJncyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBwdWJsaWMgaW5mbyguLi5hcmdzOiBhbnlbXSkge1xuICAgIHRoaXMuaW5mb3MucHVzaCguLi5hcmdzKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHB1YmxpYyBkZWJ1ZyguLi5hcmdzOiBhbnlbXSkge1xuICAgIHRoaXMuZGVidWdzLnB1c2goLi4uYXJncyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHdyYXAoZjogKGxvZ2dlcjogTG9jYWxMb2dnZXIpID0+IHZvaWQpIHtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBjdXJyZW50ID0gbmV3IExvY2FsTG9nZ2VyKCk7XG4gICAgZihjdXJyZW50IGFzIExvY2FsTG9nZ2VyKTtcbiAgICByZXNldCgpO1xuICB9O1xufVxuXG4vKipcbiAqIFNldCB0aGUgc2luZ2xldG9uIGxvZ2dlciB0byBiZSBhIGN1c3RvbSBsb2dnZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldChuZXdMb2dnZXI6IExvZ2dlckludGVyZmFjZSkge1xuICBjdXJyZW50ID0gbmV3TG9nZ2VyO1xuICByZXR1cm4gY3VycmVudDtcbn1cblxuLyoqXG4gKiBSZXNldCB0aGUgbWFpbiBsb2dnZXIgdG8gdXNlIHRoZSBkZWZhdWx0IFZlZ2EgTG9nZ2VyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNldCgpIHtcbiAgY3VycmVudCA9IG1haW47XG4gIHJldHVybiBjdXJyZW50O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd2FybiguLi5fOiBhbnlbXSkge1xuICBjdXJyZW50Lndhcm4uYXBwbHkoY3VycmVudCwgYXJndW1lbnRzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluZm8oLi4uXzogYW55W10pIHtcbiAgY3VycmVudC5pbmZvLmFwcGx5KGN1cnJlbnQsIGFyZ3VtZW50cyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWJ1ZyguLi5fOiBhbnlbXSkge1xuICBjdXJyZW50LmRlYnVnLmFwcGx5KGN1cnJlbnQsIGFyZ3VtZW50cyk7XG59XG5cbi8qKlxuICogQ29sbGVjdGlvbiBvZiBhbGwgVmVnYS1MaXRlIEVycm9yIE1lc3NhZ2VzXG4gKi9cbmV4cG9ydCBuYW1lc3BhY2UgbWVzc2FnZSB7XG4gIGV4cG9ydCBjb25zdCBJTlZBTElEX1NQRUMgPSAnSW52YWxpZCBzcGVjJztcblxuICAvLyBGSVRcbiAgZXhwb3J0IGNvbnN0IEZJVF9OT05fU0lOR0xFID0gJ0F1dG9zaXplIFwiZml0XCIgb25seSB3b3JrcyBmb3Igc2luZ2xlIHZpZXdzIGFuZCBsYXllcmVkIHZpZXdzLic7XG5cbiAgZXhwb3J0IGNvbnN0IENBTk5PVF9GSVhfUkFOR0VfU1RFUF9XSVRIX0ZJVCA9ICdDYW5ub3QgdXNlIGEgZml4ZWQgdmFsdWUgb2YgXCJyYW5nZVN0ZXBcIiB3aGVuIFwiYXV0b3NpemVcIiBpcyBcImZpdFwiLic7XG5cbiAgLy8gU0VMRUNUSU9OXG4gIGV4cG9ydCBmdW5jdGlvbiBjYW5ub3RQcm9qZWN0T25DaGFubmVsV2l0aG91dEZpZWxkKGNoYW5uZWw6IENoYW5uZWwpIHtcbiAgICByZXR1cm4gYENhbm5vdCBwcm9qZWN0IGEgc2VsZWN0aW9uIG9uIGVuY29kaW5nIGNoYW5uZWwgXCIke2NoYW5uZWx9XCIsIHdoaWNoIGhhcyBubyBmaWVsZC5gO1xuICB9XG5cbiAgZXhwb3J0IGZ1bmN0aW9uIG5lYXJlc3ROb3RTdXBwb3J0Rm9yQ29udGludW91cyhtYXJrOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gYFRoZSBcIm5lYXJlc3RcIiB0cmFuc2Zvcm0gaXMgbm90IHN1cHBvcnRlZCBmb3IgJHttYXJrfSBtYXJrcy5gO1xuICB9XG5cbiAgZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdGlvbk5vdEZvdW5kKG5hbWU6IHN0cmluZykge1xuICAgIHJldHVybiBgQ2Fubm90IGZpbmQgYSBzZWxlY3Rpb24gbmFtZWQgXCIke25hbWV9XCJgO1xuICB9XG5cbiAgZXhwb3J0IGNvbnN0IFNDQUxFX0JJTkRJTkdTX0NPTlRJTlVPVVMgPSAnU2NhbGUgYmluZGluZ3MgYXJlIGN1cnJlbnRseSBvbmx5IHN1cHBvcnRlZCBmb3Igc2NhbGVzIHdpdGggdW5iaW5uZWQsIGNvbnRpbnVvdXMgZG9tYWlucy4nO1xuXG4gIC8vIFJFUEVBVFxuICBleHBvcnQgZnVuY3Rpb24gbm9TdWNoUmVwZWF0ZWRWYWx1ZShmaWVsZDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGBVbmtub3duIHJlcGVhdGVkIHZhbHVlIFwiJHtmaWVsZH1cIi5gO1xuICB9XG5cbiAgLy8gQ09OQ0FUXG4gIGV4cG9ydCBjb25zdCBDT05DQVRfQ0FOTk9UX1NIQVJFX0FYSVMgPSAnQXhlcyBjYW5ub3QgYmUgc2hhcmVkIGluIGNvbmNhdGVuYXRlZCB2aWV3cy4nO1xuXG4gIC8vIFJFUEVBVFxuICBleHBvcnQgY29uc3QgUkVQRUFUX0NBTk5PVF9TSEFSRV9BWElTID0gJ0F4ZXMgY2Fubm90IGJlIHNoYXJlZCBpbiByZXBlYXRlZCB2aWV3cy4nO1xuXG4gIC8vIFRJVExFXG4gIGV4cG9ydCBmdW5jdGlvbiBjYW5ub3RTZXRUaXRsZUFuY2hvcih0eXBlOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gYENhbm5vdCBzZXQgdGl0bGUgXCJhbmNob3JcIiBmb3IgYSAke3R5cGV9IHNwZWNgO1xuICB9XG5cbiAgLy8gREFUQVxuICBleHBvcnQgZnVuY3Rpb24gdW5yZWNvZ25pemVkUGFyc2UocDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGBVbnJlY29nbml6ZWQgcGFyc2UgXCIke3B9XCIuYDtcbiAgfVxuXG4gIGV4cG9ydCBmdW5jdGlvbiBkaWZmZXJlbnRQYXJzZShmaWVsZDogc3RyaW5nLCBsb2NhbDogc3RyaW5nLCBhbmNlc3Rvcjogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGBBbiBhbmNlc3RvciBwYXJzZWQgZmllbGQgXCIke2ZpZWxkfVwiIGFzICR7YW5jZXN0b3J9IGJ1dCBhIGNoaWxkIHdhbnRzIHRvIHBhcnNlIHRoZSBmaWVsZCBhcyAke2xvY2FsfS5gO1xuICB9XG5cbiAgLy8gVFJBTlNGT1JNU1xuICBleHBvcnQgZnVuY3Rpb24gaW52YWxpZFRyYW5zZm9ybUlnbm9yZWQodHJhbnNmb3JtOiBhbnkpIHtcbiAgICByZXR1cm4gYElnbm9yaW5nIGFuIGludmFsaWQgdHJhbnNmb3JtOiAke3N0cmluZ2lmeSh0cmFuc2Zvcm0pfS5gO1xuICB9XG5cbiAgZXhwb3J0IGNvbnN0IE5PX0ZJRUxEU19ORUVEU19BUyA9ICdJZiBcImZyb20uZmllbGRzXCIgaXMgbm90IHNwZWNpZmllZCwgXCJhc1wiIGhhcyB0byBiZSBhIHN0cmluZyB0aGF0IHNwZWNpZmllcyB0aGUga2V5IHRvIGJlIHVzZWQgZm9yIHRoZSBkYXRhIGZyb20gdGhlIHNlY29uZGFyeSBzb3VyY2UuJztcblxuICAvLyBFTkNPRElORyAmIEZBQ0VUXG5cbiAgZXhwb3J0IGZ1bmN0aW9uIGVuY29kaW5nT3ZlcnJpZGRlbihjaGFubmVsczogQ2hhbm5lbFtdKSB7XG4gICAgcmV0dXJuIGBMYXllcidzIHNoYXJlZCAke2NoYW5uZWxzLmpvaW4oJywnKX0gY2hhbm5lbCAke2NoYW5uZWxzLmxlbmd0aCA9PT0gMSA/ICdpcycgOiAnYXJlJ30gb3ZlcnJpZGVuYDtcbiAgfVxuICBleHBvcnQgZnVuY3Rpb24gcHJvamVjdGlvbk92ZXJyaWRkZW4ob3B0OiB7cGFyZW50UHJvamVjdGlvbjogUHJvamVjdGlvbiwgcHJvamVjdGlvbjogUHJvamVjdGlvbn0pIHtcbiAgICBjb25zdCB7cGFyZW50UHJvamVjdGlvbiwgcHJvamVjdGlvbn0gPSBvcHQ7XG4gICAgcmV0dXJuIGBMYXllcidzIHNoYXJlZCBwcm9qZWN0aW9uICR7c3RyaW5naWZ5KHBhcmVudFByb2plY3Rpb24pfSBpcyBvdmVycmlkZGVuIGJ5IGEgY2hpbGQgcHJvamVjdGlvbiAke3N0cmluZ2lmeShwcm9qZWN0aW9uKX0uYDtcbiAgfVxuXG4gIGV4cG9ydCBmdW5jdGlvbiBwcmltaXRpdmVDaGFubmVsRGVmKGNoYW5uZWw6IENoYW5uZWwsIHR5cGU6ICdzdHJpbmcnIHwgJ251bWJlcicgfCAnYm9vbGVhbicsIHZhbHVlOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKSB7XG4gICAgcmV0dXJuIGBDaGFubmVsICR7Y2hhbm5lbH0gaXMgYSAke3R5cGV9LiBDb252ZXJ0ZWQgdG8ge3ZhbHVlOiAke3N0cmluZ2lmeSh2YWx1ZSl9fS5gO1xuICB9XG5cbiAgZXhwb3J0IGZ1bmN0aW9uIGludmFsaWRGaWVsZFR5cGUodHlwZTogVHlwZSkge1xuICAgIHJldHVybiBgSW52YWxpZCBmaWVsZCB0eXBlIFwiJHt0eXBlfVwiYDtcbiAgfVxuXG4gIGV4cG9ydCBmdW5jdGlvbiBub25aZXJvU2NhbGVVc2VkV2l0aExlbmd0aE1hcmsoXG4gICAgbWFyazogJ2JhcicgfCAnYXJlYScsIGNoYW5uZWw6IENoYW5uZWwsXG4gICAgb3B0OiB7c2NhbGVUeXBlPzogU2NhbGVUeXBlLCB6ZXJvRmFsc2U/OiBib29sZWFufVxuICApIHtcbiAgICBjb25zdCBzY2FsZVRleHQgPSBvcHQuc2NhbGVUeXBlID8gYCR7b3B0LnNjYWxlVHlwZX0gc2NhbGVgIDpcbiAgICAgIG9wdC56ZXJvRmFsc2UgPyAnc2NhbGUgd2l0aCB6ZXJvPWZhbHNlJyA6XG4gICAgICAnc2NhbGUgd2l0aCBjdXN0b20gZG9tYWluIHRoYXQgZXhjbHVkZXMgemVybyc7XG5cbiAgICByZXR1cm4gYEEgJHtzY2FsZVRleHR9IGlzIHVzZWQgd2l0aCAke21hcmt9IG1hcmsuIFRoaXMgY2FuIGJlIG1pc2xlYWRpbmcgYXMgdGhlICR7Y2hhbm5lbCA9PT0gJ3gnID8gJ3dpZHRoJyA6ICdoZWlnaHQnfSBvZiB0aGUgJHttYXJrfSBjYW4gYmUgYXJiaXRyYXJ5IGJhc2VkIG9uIHRoZSBzY2FsZSBkb21haW4uIFlvdSBtYXkgd2FudCB0byB1c2UgcG9pbnQgbWFyayBpbnN0ZWFkLmA7XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gaW52YWxpZEZpZWxkVHlwZUZvckNvdW50QWdncmVnYXRlKHR5cGU6IFR5cGUsIGFnZ3JlZ2F0ZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGBJbnZhbGlkIGZpZWxkIHR5cGUgXCIke3R5cGV9XCIgZm9yIGFnZ3JlZ2F0ZTogXCIke2FnZ3JlZ2F0ZX1cIiwgdXNpbmcgXCJxdWFudGl0YXRpdmVcIiBpbnN0ZWFkLmA7XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gaW52YWxpZEFnZ3JlZ2F0ZShhZ2dyZWdhdGU6IEFnZ3JlZ2F0ZU9wIHwgc3RyaW5nKSB7XG4gICAgcmV0dXJuIGBJbnZhbGlkIGFnZ3JlZ2F0aW9uIG9wZXJhdG9yIFwiJHthZ2dyZWdhdGV9XCJgO1xuICB9XG5cbiAgZXhwb3J0IGZ1bmN0aW9uIGVtcHR5T3JJbnZhbGlkRmllbGRUeXBlKHR5cGU6IFR5cGUgfCBzdHJpbmcsIGNoYW5uZWw6IENoYW5uZWwsIG5ld1R5cGU6IFR5cGUpIHtcbiAgICByZXR1cm4gYEludmFsaWQgZmllbGQgdHlwZSBcIiR7dHlwZX1cIiBmb3IgY2hhbm5lbCBcIiR7Y2hhbm5lbH1cIiwgdXNpbmcgXCIke25ld1R5cGV9XCIgaW5zdGVhZC5gO1xuICB9XG4gIGV4cG9ydCBmdW5jdGlvbiBkcm9wcGluZ0NvbG9yKHR5cGU6ICdlbmNvZGluZycgfCAncHJvcGVydHknLCBvcHQ6IHtmaWxsPzogYm9vbGVhbiwgc3Ryb2tlPzogYm9vbGVhbn0pIHtcbiAgICBjb25zdCB7ZmlsbCwgc3Ryb2tlfSA9IG9wdDtcbiAgICByZXR1cm4gYERyb3BwaW5nIGNvbG9yICR7dHlwZX0gYXMgdGhlIHBsb3QgYWxzbyBoYXMgYCArIChcbiAgICAgIGZpbGwgJiYgc3Ryb2tlID8gJ2ZpbGwgYW5kIHN0cm9rZScgOiBmaWxsID8gJ2ZpbGwnIDogJ3N0cm9rZSdcbiAgICApO1xuICB9XG5cbiAgZXhwb3J0IGZ1bmN0aW9uIGVtcHR5RmllbGREZWYoZmllbGREZWY6IEZpZWxkRGVmPHN0cmluZz4sIGNoYW5uZWw6IENoYW5uZWwpIHtcbiAgICByZXR1cm4gYERyb3BwaW5nICR7c3RyaW5naWZ5KGZpZWxkRGVmKX0gZnJvbSBjaGFubmVsIFwiJHtjaGFubmVsfVwiIHNpbmNlIGl0IGRvZXMgbm90IGNvbnRhaW4gZGF0YSBmaWVsZCBvciB2YWx1ZS5gO1xuICB9XG4gIGV4cG9ydCBmdW5jdGlvbiBsYXRMb25nRGVwcmVjYXRlZChjaGFubmVsOiBDaGFubmVsLCB0eXBlOiBUeXBlLCBuZXdDaGFubmVsOiBHZW9Qb3NpdGlvbkNoYW5uZWwpIHtcbiAgICByZXR1cm4gYCR7Y2hhbm5lbH0tZW5jb2Rpbmcgd2l0aCB0eXBlICR7dHlwZX0gaXMgZGVwcmVjYXRlZC4gUmVwbGFjaW5nIHdpdGggJHtuZXdDaGFubmVsfS1lbmNvZGluZy5gO1xuICB9XG5cbiAgZXhwb3J0IGNvbnN0IExJTkVfV0lUSF9WQVJZSU5HX1NJWkUgPSAnTGluZSBtYXJrcyBjYW5ub3QgZW5jb2RlIHNpemUgd2l0aCBhIG5vbi1ncm91cGJ5IGZpZWxkLiBZb3UgbWF5IHdhbnQgdG8gdXNlIHRyYWlsIG1hcmtzIGluc3RlYWQuJztcblxuICBleHBvcnQgZnVuY3Rpb24gaW5jb21wYXRpYmxlQ2hhbm5lbChjaGFubmVsOiBDaGFubmVsLCBtYXJrT3JGYWNldDogTWFyayB8ICdmYWNldCcgfCBDb21wb3NpdGVNYXJrLCB3aGVuPzogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGAke2NoYW5uZWx9IGRyb3BwZWQgYXMgaXQgaXMgaW5jb21wYXRpYmxlIHdpdGggXCIke21hcmtPckZhY2V0fVwiJHt3aGVuID8gYCB3aGVuICR7d2hlbn1gIDogJyd9LmA7XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gaW52YWxpZEVuY29kaW5nQ2hhbm5lbChjaGFubmVsOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gYCR7Y2hhbm5lbH0tZW5jb2RpbmcgaXMgZHJvcHBlZCBhcyAke2NoYW5uZWx9IGlzIG5vdCBhIHZhbGlkIGVuY29kaW5nIGNoYW5uZWwuYDtcbiAgfVxuXG4gIGV4cG9ydCBmdW5jdGlvbiBmYWNldENoYW5uZWxTaG91bGRCZURpc2NyZXRlKGNoYW5uZWw6IHN0cmluZykge1xuICAgIHJldHVybiBgJHtjaGFubmVsfSBlbmNvZGluZyBzaG91bGQgYmUgZGlzY3JldGUgKG9yZGluYWwgLyBub21pbmFsIC8gYmlubmVkKS5gO1xuICB9XG5cbiAgZXhwb3J0IGZ1bmN0aW9uIGRpc2NyZXRlQ2hhbm5lbENhbm5vdEVuY29kZShjaGFubmVsOiBDaGFubmVsLCB0eXBlOiBUeXBlKSB7XG4gICAgcmV0dXJuIGBVc2luZyBkaXNjcmV0ZSBjaGFubmVsIFwiJHtjaGFubmVsfVwiIHRvIGVuY29kZSBcIiR7dHlwZX1cIiBmaWVsZCBjYW4gYmUgbWlzbGVhZGluZyBhcyBpdCBkb2VzIG5vdCBlbmNvZGUgJHt0eXBlID09PSAnb3JkaW5hbCcgPyAnb3JkZXInIDogJ21hZ25pdHVkZSd9LmA7XG4gIH1cblxuICAvLyBNYXJrXG4gIGV4cG9ydCBjb25zdCBCQVJfV0lUSF9QT0lOVF9TQ0FMRV9BTkRfUkFOR0VTVEVQX05VTEwgPSAnQmFyIG1hcmsgc2hvdWxkIG5vdCBiZSB1c2VkIHdpdGggcG9pbnQgc2NhbGUgd2hlbiByYW5nZVN0ZXAgaXMgbnVsbC4gUGxlYXNlIHVzZSBiYW5kIHNjYWxlIGluc3RlYWQuJztcblxuICBleHBvcnQgZnVuY3Rpb24gbGluZVdpdGhSYW5nZShoYXNYMjogYm9vbGVhbiwgaGFzWTI6IGJvb2xlYW4pIHtcbiAgICBjb25zdCBjaGFubmVscyA9IGhhc1gyICYmIGhhc1kyID8gJ3gyIGFuZCB5MicgOiBoYXNYMiA/ICd4MicgOiAneTInO1xuICAgIHJldHVybiBgTGluZSBtYXJrIGlzIGZvciBjb250aW51b3VzIGxpbmVzIGFuZCB0aHVzIGNhbm5vdCBiZSB1c2VkIHdpdGggJHtjaGFubmVsc30uIFdlIHdpbGwgdXNlIHRoZSBydWxlIG1hcmsgKGxpbmUgc2VnbWVudHMpIGluc3RlYWQuYDtcbiAgfVxuXG4gIGV4cG9ydCBmdW5jdGlvbiB1bmNsZWFyT3JpZW50Q29udGludW91cyhtYXJrOiBNYXJrKSB7XG4gICAgcmV0dXJuIGBDYW5ub3QgY2xlYXJseSBkZXRlcm1pbmUgb3JpZW50YXRpb24gZm9yIFwiJHttYXJrfVwiIHNpbmNlIGJvdGggeCBhbmQgeSBjaGFubmVsIGVuY29kZSBjb250aW51b3VzIGZpZWxkcy4gSW4gdGhpcyBjYXNlLCB3ZSB1c2UgdmVydGljYWwgYnkgZGVmYXVsdGA7XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gdW5jbGVhck9yaWVudERpc2NyZXRlT3JFbXB0eShtYXJrOiBNYXJrKSB7XG4gICAgcmV0dXJuIGBDYW5ub3QgY2xlYXJseSBkZXRlcm1pbmUgb3JpZW50YXRpb24gZm9yIFwiJHttYXJrfVwiIHNpbmNlIGJvdGggeCBhbmQgeSBjaGFubmVsIGVuY29kZSBkaXNjcmV0ZSBvciBlbXB0eSBmaWVsZHMuYDtcbiAgfVxuXG4gIGV4cG9ydCBmdW5jdGlvbiBvcmllbnRPdmVycmlkZGVuKG9yaWdpbmFsOiBzdHJpbmcsIGFjdHVhbDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGBTcGVjaWZpZWQgb3JpZW50IFwiJHtvcmlnaW5hbH1cIiBvdmVycmlkZGVuIHdpdGggXCIke2FjdHVhbH1cImA7XG4gIH1cblxuICAvLyBTQ0FMRVxuICBleHBvcnQgY29uc3QgQ0FOTk9UX1VOSU9OX0NVU1RPTV9ET01BSU5fV0lUSF9GSUVMRF9ET01BSU4gPSAnY3VzdG9tIGRvbWFpbiBzY2FsZSBjYW5ub3QgYmUgdW5pb25lZCB3aXRoIGRlZmF1bHQgZmllbGQtYmFzZWQgZG9tYWluJztcblxuICBleHBvcnQgZnVuY3Rpb24gY2Fubm90VXNlU2NhbGVQcm9wZXJ0eVdpdGhOb25Db2xvcihwcm9wOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gYENhbm5vdCB1c2UgdGhlIHNjYWxlIHByb3BlcnR5IFwiJHtwcm9wfVwiIHdpdGggbm9uLWNvbG9yIGNoYW5uZWwuYDtcbiAgfVxuXG4gIGV4cG9ydCBmdW5jdGlvbiB1bmFnZ3JlZ2F0ZURvbWFpbkhhc05vRWZmZWN0Rm9yUmF3RmllbGQoZmllbGREZWY6IEZpZWxkRGVmPHN0cmluZz4pIHtcbiAgICByZXR1cm4gYFVzaW5nIHVuYWdncmVnYXRlZCBkb21haW4gd2l0aCByYXcgZmllbGQgaGFzIG5vIGVmZmVjdCAoJHtzdHJpbmdpZnkoZmllbGREZWYpfSkuYDtcbiAgfVxuXG4gIGV4cG9ydCBmdW5jdGlvbiB1bmFnZ3JlZ2F0ZURvbWFpbldpdGhOb25TaGFyZWREb21haW5PcChhZ2dyZWdhdGU6IHN0cmluZykge1xuICAgIHJldHVybiBgVW5hZ2dyZWdhdGVkIGRvbWFpbiBub3QgYXBwbGljYWJsZSBmb3IgXCIke2FnZ3JlZ2F0ZX1cIiBzaW5jZSBpdCBwcm9kdWNlcyB2YWx1ZXMgb3V0c2lkZSB0aGUgb3JpZ2luIGRvbWFpbiBvZiB0aGUgc291cmNlIGRhdGEuYDtcbiAgfVxuXG4gIGV4cG9ydCBmdW5jdGlvbiB1bmFnZ3JlZ2F0ZWREb21haW5XaXRoTG9nU2NhbGUoZmllbGREZWY6IEZpZWxkRGVmPHN0cmluZz4pIHtcbiAgICByZXR1cm4gYFVuYWdncmVnYXRlZCBkb21haW4gaXMgY3VycmVudGx5IHVuc3VwcG9ydGVkIGZvciBsb2cgc2NhbGUgKCR7c3RyaW5naWZ5KGZpZWxkRGVmKX0pLmA7XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gY2Fubm90VXNlU2l6ZUZpZWxkV2l0aEJhbmRTaXplKHBvc2l0aW9uQ2hhbm5lbDogJ3gnfCd5Jykge1xuICAgIHJldHVybiBgVXNpbmcgc2l6ZSBmaWVsZCB3aGVuICR7cG9zaXRpb25DaGFubmVsfS1jaGFubmVsIGhhcyBhIGJhbmQgc2NhbGUgaXMgbm90IHN1cHBvcnRlZC5gO1xuICB9XG5cbiAgZXhwb3J0IGZ1bmN0aW9uIGNhbm5vdEFwcGx5U2l6ZVRvTm9uT3JpZW50ZWRNYXJrKG1hcms6IE1hcmspIHtcbiAgICByZXR1cm4gYENhbm5vdCBhcHBseSBzaXplIHRvIG5vbi1vcmllbnRlZCBtYXJrIFwiJHttYXJrfVwiLmA7XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gcmFuZ2VTdGVwRHJvcHBlZChjaGFubmVsOiBDaGFubmVsKSB7XG4gICAgcmV0dXJuIGByYW5nZVN0ZXAgZm9yIFwiJHtjaGFubmVsfVwiIGlzIGRyb3BwZWQgYXMgdG9wLWxldmVsICR7XG4gICAgICBjaGFubmVsID09PSAneCcgPyAnd2lkdGgnIDogJ2hlaWdodCd9IGlzIHByb3ZpZGVkLmA7XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gc2NhbGVUeXBlTm90V29ya1dpdGhDaGFubmVsKGNoYW5uZWw6IENoYW5uZWwsIHNjYWxlVHlwZTogU2NhbGVUeXBlLCBkZWZhdWx0U2NhbGVUeXBlOiBTY2FsZVR5cGUpIHtcbiAgICByZXR1cm4gYENoYW5uZWwgXCIke2NoYW5uZWx9XCIgZG9lcyBub3Qgd29yayB3aXRoIFwiJHtzY2FsZVR5cGV9XCIgc2NhbGUuIFdlIGFyZSB1c2luZyBcIiR7ZGVmYXVsdFNjYWxlVHlwZX1cIiBzY2FsZSBpbnN0ZWFkLmA7XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gc2NhbGVUeXBlTm90V29ya1dpdGhGaWVsZERlZihzY2FsZVR5cGU6IFNjYWxlVHlwZSwgZGVmYXVsdFNjYWxlVHlwZTogU2NhbGVUeXBlKSB7XG4gICAgcmV0dXJuIGBGaWVsZERlZiBkb2VzIG5vdCB3b3JrIHdpdGggXCIke3NjYWxlVHlwZX1cIiBzY2FsZS4gV2UgYXJlIHVzaW5nIFwiJHtkZWZhdWx0U2NhbGVUeXBlfVwiIHNjYWxlIGluc3RlYWQuYDtcbiAgfVxuXG4gIGV4cG9ydCBmdW5jdGlvbiBzY2FsZVByb3BlcnR5Tm90V29ya1dpdGhTY2FsZVR5cGUoc2NhbGVUeXBlOiBTY2FsZVR5cGUsIHByb3BOYW1lOiBzdHJpbmcsIGNoYW5uZWw6IENoYW5uZWwpIHtcbiAgICByZXR1cm4gYCR7Y2hhbm5lbH0tc2NhbGUncyBcIiR7cHJvcE5hbWV9XCIgaXMgZHJvcHBlZCBhcyBpdCBkb2VzIG5vdCB3b3JrIHdpdGggJHtzY2FsZVR5cGV9IHNjYWxlLmA7XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gc2NhbGVUeXBlTm90V29ya1dpdGhNYXJrKG1hcms6IE1hcmssIHNjYWxlVHlwZTogU2NhbGVUeXBlKSB7XG4gICAgcmV0dXJuIGBTY2FsZSB0eXBlIFwiJHtzY2FsZVR5cGV9XCIgZG9lcyBub3Qgd29yayB3aXRoIG1hcmsgXCIke21hcmt9XCIuYDtcbiAgfVxuXG4gIGV4cG9ydCBmdW5jdGlvbiBtZXJnZUNvbmZsaWN0aW5nUHJvcGVydHk8VD4ocHJvcGVydHk6IHN0cmluZywgcHJvcGVydHlPZjogc3RyaW5nLCB2MTogVCwgdjI6IFQpIHtcbiAgICByZXR1cm4gYENvbmZsaWN0aW5nICR7cHJvcGVydHlPZn0gcHJvcGVydHkgXCIke3Byb3BlcnR5fVwiICgke3N0cmluZ2lmeSh2MSl9IGFuZCAke3N0cmluZ2lmeSh2Mil9KS4gIFVzaW5nICR7c3RyaW5naWZ5KHYxKX0uYDtcbiAgfVxuXG4gIGV4cG9ydCBmdW5jdGlvbiBpbmRlcGVuZGVudFNjYWxlTWVhbnNJbmRlcGVuZGVudEd1aWRlKGNoYW5uZWw6IENoYW5uZWwpIHtcbiAgICByZXR1cm4gYFNldHRpbmcgdGhlIHNjYWxlIHRvIGJlIGluZGVwZW5kZW50IGZvciBcIiR7Y2hhbm5lbH1cIiBtZWFucyB3ZSBhbHNvIGhhdmUgdG8gc2V0IHRoZSBndWlkZSAoYXhpcyBvciBsZWdlbmQpIHRvIGJlIGluZGVwZW5kZW50LmA7XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gY29uZmxpY3RlZERvbWFpbihjaGFubmVsOiBDaGFubmVsKSB7XG4gICAgcmV0dXJuIGBDYW5ub3Qgc2V0ICR7Y2hhbm5lbH0tc2NhbGUncyBcImRvbWFpblwiIGFzIGl0IGlzIGJpbm5lZC4gUGxlYXNlIHVzZSBcImJpblwiJ3MgXCJleHRlbnRcIiBpbnN0ZWFkLmA7XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gZG9tYWluU29ydERyb3BwZWQoc29ydDogVmdTb3J0RmllbGQpIHtcbiAgICByZXR1cm4gYERyb3BwaW5nIHNvcnQgcHJvcGVydHkgJHtzdHJpbmdpZnkoc29ydCl9IGFzIHVuaW9uZWQgZG9tYWlucyBvbmx5IHN1cHBvcnQgYm9vbGVhbiBvciBvcCAnY291bnQnLmA7XG4gIH1cblxuICBleHBvcnQgY29uc3QgVU5BQkxFX1RPX01FUkdFX0RPTUFJTlMgPSAnVW5hYmxlIHRvIG1lcmdlIGRvbWFpbnMnO1xuXG4gIGV4cG9ydCBjb25zdCBNT1JFX1RIQU5fT05FX1NPUlQgPSAnRG9tYWlucyB0aGF0IHNob3VsZCBiZSB1bmlvbmVkIGhhcyBjb25mbGljdGluZyBzb3J0IHByb3BlcnRpZXMuIFNvcnQgd2lsbCBiZSBzZXQgdG8gdHJ1ZS4nO1xuXG4gIC8vIEFYSVNcbiAgZXhwb3J0IGNvbnN0IElOVkFMSURfQ0hBTk5FTF9GT1JfQVhJUyA9ICdJbnZhbGlkIGNoYW5uZWwgZm9yIGF4aXMuJztcblxuICAvLyBTVEFDS1xuICBleHBvcnQgZnVuY3Rpb24gY2Fubm90U3RhY2tSYW5nZWRNYXJrKGNoYW5uZWw6IENoYW5uZWwpIHtcbiAgICByZXR1cm4gYENhbm5vdCBzdGFjayBcIiR7Y2hhbm5lbH1cIiBpZiB0aGVyZSBpcyBhbHJlYWR5IFwiJHtjaGFubmVsfTJcImA7XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gY2Fubm90U3RhY2tOb25MaW5lYXJTY2FsZShzY2FsZVR5cGU6IFNjYWxlVHlwZSkge1xuICAgIHJldHVybiBgQ2Fubm90IHN0YWNrIG5vbi1saW5lYXIgc2NhbGUgKCR7c2NhbGVUeXBlfSlgO1xuICB9XG5cbiAgZXhwb3J0IGZ1bmN0aW9uIHN0YWNrTm9uU3VtbWF0aXZlQWdncmVnYXRlKGFnZ3JlZ2F0ZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGBTdGFja2luZyBpcyBhcHBsaWVkIGV2ZW4gdGhvdWdoIHRoZSBhZ2dyZWdhdGUgZnVuY3Rpb24gaXMgbm9uLXN1bW1hdGl2ZSAoXCIke2FnZ3JlZ2F0ZX1cIilgO1xuICB9XG5cbiAgLy8gVElNRVVOSVRcbiAgZXhwb3J0IGZ1bmN0aW9uIGludmFsaWRUaW1lVW5pdCh1bml0TmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nIHwgbnVtYmVyKSB7XG4gICAgcmV0dXJuIGBJbnZhbGlkICR7dW5pdE5hbWV9OiAke3N0cmluZ2lmeSh2YWx1ZSl9YDtcbiAgfVxuXG4gIGV4cG9ydCBmdW5jdGlvbiBkYXlSZXBsYWNlZFdpdGhEYXRlKGZ1bGxUaW1lVW5pdDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGBUaW1lIHVuaXQgXCIke2Z1bGxUaW1lVW5pdH1cIiBpcyBub3Qgc3VwcG9ydGVkLiBXZSBhcmUgcmVwbGFjaW5nIGl0IHdpdGggJHtcbiAgICAgIGZ1bGxUaW1lVW5pdC5yZXBsYWNlKCdkYXknLCAnZGF0ZScpfS5gO1xuICB9XG5cbiAgZXhwb3J0IGZ1bmN0aW9uIGRyb3BwZWREYXkoZDogRGF0ZVRpbWUgfCBEYXRlVGltZUV4cHIpIHtcbiAgICByZXR1cm4gYERyb3BwaW5nIGRheSBmcm9tIGRhdGV0aW1lICR7c3RyaW5naWZ5KGQpfSBhcyBkYXkgY2Fubm90IGJlIGNvbWJpbmVkIHdpdGggb3RoZXIgdW5pdHMuYDtcbiAgfVxufVxuXG4iXX0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar vega_util_1 = require(\"vega-util\");\nvar channel_1 = require(\"./channel\");\nvar log = require(\"./log\");\nvar util_1 = require(\"./util\");\nvar ScaleType;\n(function (ScaleType) {\n    // Continuous - Quantitative\n    ScaleType.LINEAR = 'linear';\n    ScaleType.BIN_LINEAR = 'bin-linear';\n    ScaleType.LOG = 'log';\n    ScaleType.POW = 'pow';\n    ScaleType.SQRT = 'sqrt';\n    // Continuous - Time\n    ScaleType.TIME = 'time';\n    ScaleType.UTC = 'utc';\n    // sequential\n    ScaleType.SEQUENTIAL = 'sequential';\n    // Quantile, Quantize, threshold\n    ScaleType.QUANTILE = 'quantile';\n    ScaleType.QUANTIZE = 'quantize';\n    ScaleType.THRESHOLD = 'threshold';\n    ScaleType.ORDINAL = 'ordinal';\n    ScaleType.BIN_ORDINAL = 'bin-ordinal';\n    ScaleType.POINT = 'point';\n    ScaleType.BAND = 'band';\n})(ScaleType = exports.ScaleType || (exports.ScaleType = {}));\n/**\n * Index for scale categories -- only scale of the same categories can be merged together.\n * Current implementation is trying to be conservative and avoid merging scale type that might not work together\n */\nvar SCALE_CATEGORY_INDEX = {\n    linear: 'numeric',\n    log: 'numeric',\n    pow: 'numeric',\n    sqrt: 'numeric',\n    'bin-linear': 'bin-linear',\n    time: 'time',\n    utc: 'time',\n    sequential: 'sequential',\n    ordinal: 'ordinal',\n    'bin-ordinal': 'bin-ordinal',\n    point: 'ordinal-position',\n    band: 'ordinal-position'\n};\nexports.SCALE_TYPES = util_1.keys(SCALE_CATEGORY_INDEX);\n/**\n * Whether the two given scale types can be merged together.\n */\nfunction scaleCompatible(scaleType1, scaleType2) {\n    var scaleCategory1 = SCALE_CATEGORY_INDEX[scaleType1];\n    var scaleCategory2 = SCALE_CATEGORY_INDEX[scaleType2];\n    return scaleCategory1 === scaleCategory2 ||\n        (scaleCategory1 === 'ordinal-position' && scaleCategory2 === 'time') ||\n        (scaleCategory2 === 'ordinal-position' && scaleCategory1 === 'time');\n}\nexports.scaleCompatible = scaleCompatible;\n/**\n * Index for scale precedence -- high score = higher priority for merging.\n */\nvar SCALE_PRECEDENCE_INDEX = {\n    // numeric\n    linear: 0,\n    log: 1,\n    pow: 1,\n    sqrt: 1,\n    // time\n    time: 0,\n    utc: 0,\n    // ordinal-position -- these have higher precedence than continuous scales as they support more types of data\n    point: 10,\n    band: 11,\n    // non grouped types\n    'bin-linear': 0,\n    sequential: 0,\n    ordinal: 0,\n    'bin-ordinal': 0,\n};\n/**\n * Return scale categories -- only scale of the same categories can be merged together.\n */\nfunction scaleTypePrecedence(scaleType) {\n    return SCALE_PRECEDENCE_INDEX[scaleType];\n}\nexports.scaleTypePrecedence = scaleTypePrecedence;\nexports.CONTINUOUS_TO_CONTINUOUS_SCALES = ['linear', 'bin-linear', 'log', 'pow', 'sqrt', 'time', 'utc'];\nvar CONTINUOUS_TO_CONTINUOUS_INDEX = vega_util_1.toSet(exports.CONTINUOUS_TO_CONTINUOUS_SCALES);\nexports.CONTINUOUS_DOMAIN_SCALES = exports.CONTINUOUS_TO_CONTINUOUS_SCALES.concat(['sequential' /* TODO add 'quantile', 'quantize', 'threshold'*/]);\nvar CONTINUOUS_DOMAIN_INDEX = vega_util_1.toSet(exports.CONTINUOUS_DOMAIN_SCALES);\nexports.DISCRETE_DOMAIN_SCALES = ['ordinal', 'bin-ordinal', 'point', 'band'];\nvar DISCRETE_DOMAIN_INDEX = vega_util_1.toSet(exports.DISCRETE_DOMAIN_SCALES);\nvar BIN_SCALES_INDEX = vega_util_1.toSet(['bin-linear', 'bin-ordinal']);\nexports.TIME_SCALE_TYPES = ['time', 'utc'];\nfunction hasDiscreteDomain(type) {\n    return type in DISCRETE_DOMAIN_INDEX;\n}\nexports.hasDiscreteDomain = hasDiscreteDomain;\nfunction isBinScale(type) {\n    return type in BIN_SCALES_INDEX;\n}\nexports.isBinScale = isBinScale;\nfunction hasContinuousDomain(type) {\n    return type in CONTINUOUS_DOMAIN_INDEX;\n}\nexports.hasContinuousDomain = hasContinuousDomain;\nfunction isContinuousToContinuous(type) {\n    return type in CONTINUOUS_TO_CONTINUOUS_INDEX;\n}\nexports.isContinuousToContinuous = isContinuousToContinuous;\nexports.defaultScaleConfig = {\n    textXRangeStep: 90,\n    rangeStep: 21,\n    pointPadding: 0.5,\n    bandPaddingInner: 0.1,\n    facetSpacing: 16,\n    minBandSize: 2,\n    minFontSize: 8,\n    maxFontSize: 40,\n    minOpacity: 0.3,\n    maxOpacity: 0.8,\n    // FIXME: revise if these *can* become ratios of rangeStep\n    minSize: 9,\n    minStrokeWidth: 1,\n    maxStrokeWidth: 4\n};\nfunction isExtendedScheme(scheme) {\n    return scheme && !!scheme['name'];\n}\nexports.isExtendedScheme = isExtendedScheme;\nfunction isSelectionDomain(domain) {\n    return domain && domain['selection'];\n}\nexports.isSelectionDomain = isSelectionDomain;\nvar SCALE_PROPERTY_INDEX = {\n    type: 1,\n    domain: 1,\n    range: 1,\n    rangeStep: 1,\n    scheme: 1,\n    // Other properties\n    reverse: 1,\n    round: 1,\n    // quantitative / time\n    clamp: 1,\n    nice: 1,\n    // quantitative\n    base: 1,\n    exponent: 1,\n    interpolate: 1,\n    zero: 1,\n    // band/point\n    padding: 1,\n    paddingInner: 1,\n    paddingOuter: 1\n};\nexports.SCALE_PROPERTIES = util_1.flagKeys(SCALE_PROPERTY_INDEX);\nvar type = SCALE_PROPERTY_INDEX.type, domain = SCALE_PROPERTY_INDEX.domain, range = SCALE_PROPERTY_INDEX.range, rangeStep = SCALE_PROPERTY_INDEX.rangeStep, scheme = SCALE_PROPERTY_INDEX.scheme, NON_TYPE_DOMAIN_RANGE_VEGA_SCALE_PROPERTY_INDEX = tslib_1.__rest(SCALE_PROPERTY_INDEX, [\"type\", \"domain\", \"range\", \"rangeStep\", \"scheme\"]);\nexports.NON_TYPE_DOMAIN_RANGE_VEGA_SCALE_PROPERTIES = util_1.flagKeys(NON_TYPE_DOMAIN_RANGE_VEGA_SCALE_PROPERTY_INDEX);\nfunction scaleTypeSupportProperty(scaleType, propName) {\n    switch (propName) {\n        case 'type':\n        case 'domain':\n        case 'reverse':\n        case 'range':\n            return true;\n        case 'scheme':\n            return util_1.contains(['sequential', 'ordinal', 'bin-ordinal', 'quantile', 'quantize'], scaleType);\n        case 'interpolate':\n            // FIXME(https://github.com/vega/vega-lite/issues/2902) how about ordinal?\n            return util_1.contains(['linear', 'bin-linear', 'pow', 'log', 'sqrt', 'utc', 'time'], scaleType);\n        case 'round':\n            return isContinuousToContinuous(scaleType) || scaleType === 'band' || scaleType === 'point';\n        case 'padding':\n            return isContinuousToContinuous(scaleType) || util_1.contains(['point', 'band'], scaleType);\n        case 'paddingOuter':\n        case 'rangeStep':\n            return util_1.contains(['point', 'band'], scaleType);\n        case 'paddingInner':\n            return scaleType === 'band';\n        case 'clamp':\n            return isContinuousToContinuous(scaleType) || scaleType === 'sequential';\n        case 'nice':\n            return isContinuousToContinuous(scaleType) || scaleType === 'sequential' || scaleType === 'quantize';\n        case 'exponent':\n            return scaleType === 'pow';\n        case 'base':\n            return scaleType === 'log';\n        case 'zero':\n            return hasContinuousDomain(scaleType) && !util_1.contains([\n                'log',\n                'time', 'utc',\n                'bin-linear',\n                'threshold',\n                'quantile' // quantile depends on distribution so zero does not matter\n            ], scaleType);\n    }\n    /* istanbul ignore next: should never reach here*/\n    throw new Error(\"Invalid scale property \" + propName + \".\");\n}\nexports.scaleTypeSupportProperty = scaleTypeSupportProperty;\n/**\n * Returns undefined if the input channel supports the input scale property name\n */\nfunction channelScalePropertyIncompatability(channel, propName) {\n    switch (propName) {\n        case 'interpolate':\n        case 'scheme':\n            if (!channel_1.isColorChannel(channel)) {\n                return log.message.cannotUseScalePropertyWithNonColor(channel);\n            }\n            return undefined;\n        case 'type':\n        case 'domain':\n        case 'range':\n        case 'base':\n        case 'exponent':\n        case 'nice':\n        case 'padding':\n        case 'paddingInner':\n        case 'paddingOuter':\n        case 'rangeStep':\n        case 'reverse':\n        case 'round':\n        case 'clamp':\n        case 'zero':\n            return undefined; // GOOD!\n    }\n    /* istanbul ignore next: it should never reach here */\n    throw new Error(\"Invalid scale property \\\"\" + propName + \"\\\".\");\n}\nexports.channelScalePropertyIncompatability = channelScalePropertyIncompatability;\nfunction channelSupportScaleType(channel, scaleType) {\n    switch (channel) {\n        case channel_1.Channel.X:\n        case channel_1.Channel.Y:\n        case channel_1.Channel.SIZE: // TODO: size and opacity can support ordinal with more modification\n        case channel_1.Channel.OPACITY:\n            // Although it generally doesn't make sense to use band with size and opacity,\n            // it can also work since we use band: 0.5 to get midpoint.\n            return isContinuousToContinuous(scaleType) || util_1.contains(['band', 'point'], scaleType);\n        case channel_1.Channel.COLOR:\n        case channel_1.Channel.FILL:\n        case channel_1.Channel.STROKE:\n            return scaleType !== 'band'; // band does not make sense with color\n        case channel_1.Channel.SHAPE:\n            return scaleType === 'ordinal'; // shape = lookup only\n    }\n    /* istanbul ignore next: it should never reach here */\n    return false;\n}\nexports.channelSupportScaleType = channelSupportScaleType;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NhbGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc2NhbGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsdUNBQWdDO0FBQ2hDLHFDQUFrRDtBQUVsRCwyQkFBNkI7QUFDN0IsK0JBQXNEO0FBR3RELElBQWlCLFNBQVMsQ0FzQnpCO0FBdEJELFdBQWlCLFNBQVM7SUFDeEIsNEJBQTRCO0lBQ2YsZ0JBQU0sR0FBYSxRQUFRLENBQUM7SUFDNUIsb0JBQVUsR0FBaUIsWUFBWSxDQUFDO0lBQ3hDLGFBQUcsR0FBVSxLQUFLLENBQUM7SUFDbkIsYUFBRyxHQUFVLEtBQUssQ0FBQztJQUNuQixjQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ25DLG9CQUFvQjtJQUNQLGNBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsYUFBRyxHQUFVLEtBQUssQ0FBQztJQUNoQyxhQUFhO0lBQ0Esb0JBQVUsR0FBaUIsWUFBWSxDQUFDO0lBRXJELGdDQUFnQztJQUNuQixrQkFBUSxHQUFlLFVBQVUsQ0FBQztJQUNsQyxrQkFBUSxHQUFlLFVBQVUsQ0FBQztJQUNsQyxtQkFBUyxHQUFnQixXQUFXLENBQUM7SUFFckMsaUJBQU8sR0FBYyxTQUFTLENBQUM7SUFDL0IscUJBQVcsR0FBa0IsYUFBYSxDQUFDO0lBQzNDLGVBQUssR0FBWSxPQUFPLENBQUM7SUFDekIsY0FBSSxHQUFXLE1BQU0sQ0FBQztBQUNyQyxDQUFDLEVBdEJnQixTQUFTLEdBQVQsaUJBQVMsS0FBVCxpQkFBUyxRQXNCekI7QUFVRDs7O0dBR0c7QUFDSCxJQUFNLG9CQUFvQixHQUd0QjtJQUNGLE1BQU0sRUFBRSxTQUFTO0lBQ2pCLEdBQUcsRUFBRSxTQUFTO0lBQ2QsR0FBRyxFQUFFLFNBQVM7SUFDZCxJQUFJLEVBQUUsU0FBUztJQUNmLFlBQVksRUFBRSxZQUFZO0lBQzFCLElBQUksRUFBRSxNQUFNO0lBQ1osR0FBRyxFQUFFLE1BQU07SUFDWCxVQUFVLEVBQUUsWUFBWTtJQUN4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QU8sQ0FBQztRQUNiLEtBQUssT0FBTyxDQUFDO1FBQ2IsS0FBSyxNQUFNO1lBQ1QsT0FBTyxTQUFTLENBQUMsQ0FBQyxRQUFRO0tBQzdCO0lBQ0Qsc0RBQXNEO0lBQ3RELE1BQU0sSUFBSSxLQUFLLENBQUMsOEJBQTJCLFFBQVEsUUFBSSxDQUFDLENBQUM7QUFDM0QsQ0FBQztBQTFCRCxrRkEwQkM7QUFFRCxpQ0FBd0MsT0FBZ0IsRUFBRSxTQUFvQjtJQUM1RSxRQUFRLE9BQU8sRUFBRTtRQUNmLEtBQUssaUJBQU8sQ0FBQyxDQUFDLENBQUM7UUFDZixLQUFLLGlCQUFPLENBQUMsQ0FBQyxDQUFDO1FBQ2YsS0FBSyxpQkFBTyxDQUFDLElBQUksQ0FBQyxDQUFDLG9FQUFvRTtRQUN2RixLQUFLLGlCQUFPLENBQUMsT0FBTztZQUNsQiw4RUFBOEU7WUFDOUUsMkRBQTJEO1lBQzNELE9BQU8sd0JBQXdCLENBQUMsU0FBUyxDQUFDLElBQUksZUFBUSxDQUFDLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBRXZGLEtBQUssaUJBQU8sQ0FBQyxLQUFLLENBQUM7UUFDbkIsS0FBSyxpQkFBTyxDQUFDLElBQUksQ0FBQztRQUNsQixLQUFLLGlCQUFPLENBQUMsTUFBTTtZQUNqQixPQUFPLFNBQVMsS0FBSyxNQUFNLENBQUMsQ0FBSSxzQ0FBc0M7UUFFeEUsS0FBSyxpQkFBTyxDQUFDLEtBQUs7WUFDaEIsT0FBTyxTQUFTLEtBQUssU0FBUyxDQUFDLENBQUMsc0JBQXNCO0tBQ3pEO0lBQ0Qsc0RBQXNEO0lBQ3RELE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQztBQXBCRCwwREFvQkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge3RvU2V0fSBmcm9tICd2ZWdhLXV0aWwnO1xuaW1wb3J0IHtDaGFubmVsLCBpc0NvbG9yQ2hhbm5lbH0gZnJvbSAnLi9jaGFubmVsJztcbmltcG9ydCB7RGF0ZVRpbWV9IGZyb20gJy4vZGF0ZXRpbWUnO1xuaW1wb3J0ICogYXMgbG9nIGZyb20gJy4vbG9nJztcbmltcG9ydCB7Y29udGFpbnMsIEZsYWcsIGZsYWdLZXlzLCBrZXlzfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IHtTY2FsZUludGVycG9sYXRlLCBTY2FsZUludGVycG9sYXRlUGFyYW1zfSBmcm9tICcuL3ZlZ2Euc2NoZW1hJztcblxuZXhwb3J0IG5hbWVzcGFjZSBTY2FsZVR5cGUge1xuICAvLyBDb250aW51b3VzIC0gUXVhbnRpdGF0aXZlXG4gIGV4cG9ydCBjb25zdCBMSU5FQVI6ICdsaW5lYXInID0gJ2xpbmVhcic7XG4gIGV4cG9ydCBjb25zdCBCSU5fTElORUFSOiAnYmluLWxpbmVhcicgPSAnYmluLWxpbmVhcic7XG4gIGV4cG9ydCBjb25zdCBMT0c6ICdsb2cnID0gJ2xvZyc7XG4gIGV4cG9ydCBjb25zdCBQT1c6ICdwb3cnID0gJ3Bvdyc7XG4gIGV4cG9ydCBjb25zdCBTUVJUOiAnc3FydCcgPSAnc3FydCc7XG4gIC8vIENvbnRpbnVvdXMgLSBUaW1lXG4gIGV4cG9ydCBjb25zdCBUSU1FOiAndGltZScgPSAndGltZSc7XG4gIGV4cG9ydCBjb25zdCBVVEM6ICd1dGMnID0gJ3V0Yyc7XG4gIC8vIHNlcXVlbnRpYWxcbiAgZXhwb3J0IGNvbnN0IFNFUVVFTlRJQUw6ICdzZXF1ZW50aWFsJyA9ICdzZXF1ZW50aWFsJztcblxuICAvLyBRdWFudGlsZSwgUXVhbnRpemUsIHRocmVzaG9sZFxuICBleHBvcnQgY29uc3QgUVVBTlRJTEU6ICdxdWFudGlsZScgPSAncXVhbnRpbGUnO1xuICBleHBvcnQgY29uc3QgUVVBTlRJWkU6ICdxdWFudGl6ZScgPSAncXVhbnRpemUnO1xuICBleHBvcnQgY29uc3QgVEhSRVNIT0xEOiAndGhyZXNob2xkJyA9ICd0aHJlc2hvbGQnO1xuXG4gIGV4cG9ydCBjb25zdCBPUkRJTkFMOiAnb3JkaW5hbCcgPSAnb3JkaW5hbCc7XG4gIGV4cG9ydCBjb25zdCBCSU5fT1JESU5BTDogJ2Jpbi1vcmRpbmFsJyA9ICdiaW4tb3JkaW5hbCc7XG4gIGV4cG9ydCBjb25zdCBQT0lOVDogJ3BvaW50JyA9ICdwb2ludCc7XG4gIGV4cG9ydCBjb25zdCBCQU5EOiAnYmFuZCcgPSAnYmFuZCc7XG59XG5cbmV4cG9ydCB0eXBlIFNjYWxlVHlwZSA9IHR5cGVvZiBTY2FsZVR5cGUuTElORUFSIHwgdHlwZW9mIFNjYWxlVHlwZS5CSU5fTElORUFSIHxcbiAgdHlwZW9mIFNjYWxlVHlwZS5MT0cgfCB0eXBlb2YgU2NhbGVUeXBlLlBPVyB8IHR5cGVvZiBTY2FsZVR5cGUuU1FSVCB8XG4gIHR5cGVvZiBTY2FsZVR5cGUuVElNRSB8IHR5cGVvZiBTY2FsZVR5cGUuVVRDIHxcbiAgLy8gVE9ETzogYWRkICdxdWFudGl6ZScsICdxdWFudGlsZScsICd0aHJlc2hvbGQnIGJhY2sgd2hlbiB3ZSByZWFsbHkgc3VwcG9ydCB0aGVtXG4gIHR5cGVvZiBTY2FsZVR5cGUuU0VRVUVOVElBTCB8IC8vIHR5cGVvZiBTY2FsZVR5cGUuUVVBTlRJTEUgfCB0eXBlb2YgU2NhbGVUeXBlLlFVQU5USVpFIHwgdHlwZW9mIFNjYWxlVHlwZS5USFJFU0hPTEQgfFxuICB0eXBlb2YgU2NhbGVUeXBlLk9SRElOQUwgfCB0eXBlb2YgU2NhbGVUeXBlLkJJTl9PUkRJTkFMIHwgdHlwZW9mIFNjYWxlVHlwZS5QT0lOVCB8IHR5cGVvZiBTY2FsZVR5cGUuQkFORDtcblxuXG4vKipcbiAqIEluZGV4IGZvciBzY2FsZSBjYXRlZ29yaWVzIC0tIG9ubHkgc2NhbGUgb2YgdGhlIHNhbWUgY2F0ZWdvcmllcyBjYW4gYmUgbWVyZ2VkIHRvZ2V0aGVyLlxuICogQ3VycmVudCBpbXBsZW1lbnRhdGlvbiBpcyB0cnlpbmcgdG8gYmUgY29uc2VydmF0aXZlIGFuZCBhdm9pZCBtZXJnaW5nIHNjYWxlIHR5cGUgdGhhdCBtaWdodCBub3Qgd29yayB0b2dldGhlclxuICovXG5jb25zdCBTQ0FMRV9DQVRFR09SWV9JTkRFWDoge1xuICAvLyBVc2luZyBNYXBwZWQgVHlwZSB0byBkZWNsYXJlIHR5cGUgKGh0dHBzOi8vd3d3LnR5cGVzY3JpcHRsYW5nLm9yZy9kb2NzL2hhbmRib29rL2FkdmFuY2VkLXR5cGVzLmh0bWwjbWFwcGVkLXR5cGVzKVxuICBbayBpbiBTY2FsZVR5cGVdOiBTY2FsZVR5cGUgfCAnbnVtZXJpYycgfCAnb3JkaW5hbC1wb3NpdGlvbidcbn0gPSB7XG4gIGxpbmVhcjogJ251bWVyaWMnLFxuICBsb2c6ICdudW1lcmljJyxcbiAgcG93OiAnbnVtZXJpYycsXG4gIHNxcnQ6ICdudW1lcmljJyxcbiAgJ2Jpbi1saW5lYXInOiAnYmluLWxpbmVhcicsIC8vIFRPRE86IHNob3VsZCBiaW4tbGluZWFyIHN1cHBvcnQgbWVyZ2luZyB3aXRoIG90aGVyXG4gIHRpbWU6ICd0aW1lJyxcbiAgdXRjOiAndGltZScsXG4gIHNlcXVlbnRpYWw6ICdzZXF1ZW50aWFsJyxcbiAgb3JkaW5hbDogJ29yZGluYWwnLFxuICAnYmluLW9yZGluYWwnOiAnYmluLW9yZGluYWwnLCAvLyBUT0RPOiBzaG91bGQgYmluLW9yZGluYWwgc3VwcG9ydCBtZXJnaW5nIHdpdGggb3RoZXJcbiAgcG9pbnQ6ICdvcmRpbmFsLXBvc2l0aW9uJyxcbiAgYmFuZDogJ29yZGluYWwtcG9zaXRpb24nXG59O1xuXG5leHBvcnQgY29uc3QgU0NBTEVfVFlQRVMgPSBrZXlzKFNDQUxFX0NBVEVHT1JZX0lOREVYKSBhcyBTY2FsZVR5cGVbXTtcblxuLyoqXG4gKiBXaGV0aGVyIHRoZSB0d28gZ2l2ZW4gc2NhbGUgdHlwZXMgY2FuIGJlIG1lcmdlZCB0b2dldGhlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlQ29tcGF0aWJsZShzY2FsZVR5cGUxOiBTY2FsZVR5cGUsIHNjYWxlVHlwZTI6IFNjYWxlVHlwZSkge1xuICBjb25zdCBzY2FsZUNhdGVnb3J5MSA9IFNDQUxFX0NBVEVHT1JZX0lOREVYW3NjYWxlVHlwZTFdO1xuICBjb25zdCBzY2FsZUNhdGVnb3J5MiA9IFNDQUxFX0NBVEVHT1JZX0lOREVYW3NjYWxlVHlwZTJdO1xuICByZXR1cm4gc2NhbGVDYXRlZ29yeTEgPT09IHNjYWxlQ2F0ZWdvcnkyIHx8XG4gICAgKHNjYWxlQ2F0ZWdvcnkxID09PSAnb3JkaW5hbC1wb3NpdGlvbicgJiYgc2NhbGVDYXRlZ29yeTIgPT09ICd0aW1lJykgfHxcbiAgICAoc2NhbGVDYXRlZ29yeTIgPT09ICdvcmRpbmFsLXBvc2l0aW9uJyAmJiBzY2FsZUNhdGVnb3J5MSA9PT0gJ3RpbWUnKTtcbn1cblxuLyoqXG4gKiBJbmRleCBmb3Igc2NhbGUgcHJlY2VkZW5jZSAtLSBoaWdoIHNjb3JlID0gaGlnaGVyIHByaW9yaXR5IGZvciBtZXJnaW5nLlxuICovXG5jb25zdCBTQ0FMRV9QUkVDRURFTkNFX0lOREVYOiB7XG4gIC8vIFVzaW5nIE1hcHBlZCBUeXBlIHRvIGRlY2xhcmUgdHlwZSAoaHR0cHM6Ly93d3cudHlwZXNjcmlwdGxhbmcub3JnL2RvY3MvaGFuZGJvb2svYWR2YW5jZWQtdHlwZXMuaHRtbCNtYXBwZWQtdHlwZXMpXG4gIFtrIGluIFNjYWxlVHlwZV06IG51bWJlclxufSA9IHtcbiAgLy8gbnVtZXJpY1xuICBsaW5lYXI6IDAsXG4gIGxvZzogMSxcbiAgcG93OiAxLFxuICBzcXJ0OiAxLFxuICAvLyB0aW1lXG4gIHRpbWU6IDAsXG4gIHV0YzogMCxcbiAgLy8gb3JkaW5hbC1wb3NpdGlvbiAtLSB0aGVzZSBoYXZlIGhpZ2hlciBwcmVjZWRlbmNlIHRoYW4gY29udGludW91cyBzY2FsZXMgYXMgdGhleSBzdXBwb3J0IG1vcmUgdHlwZXMgb2YgZGF0YVxuICBwb2ludDogMTAsXG4gIGJhbmQ6IDExLCAvLyBiYW5kIGhhcyBoaWdoZXIgcHJlY2VkZW5jZSBhcyBpdCBpcyBiZXR0ZXIgZm9yIGludGVyYWN0aW9uXG4gIC8vIG5vbiBncm91cGVkIHR5cGVzXG4gICdiaW4tbGluZWFyJzogMCxcbiAgc2VxdWVudGlhbDogMCxcbiAgb3JkaW5hbDogMCxcbiAgJ2Jpbi1vcmRpbmFsJzogMCxcbn07XG5cbi8qKlxuICogUmV0dXJuIHNjYWxlIGNhdGVnb3JpZXMgLS0gb25seSBzY2FsZSBvZiB0aGUgc2FtZSBjYXRlZ29yaWVzIGNhbiBiZSBtZXJnZWQgdG9nZXRoZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZVR5cGVQcmVjZWRlbmNlKHNjYWxlVHlwZTogU2NhbGVUeXBlKTogbnVtYmVyIHtcbiAgcmV0dXJuIFNDQUxFX1BSRUNFREVOQ0VfSU5ERVhbc2NhbGVUeXBlXTtcbn1cblxuZXhwb3J0IGNvbnN0IENPTlRJTlVPVVNfVE9fQ09OVElOVU9VU19TQ0FMRVM6IFNjYWxlVHlwZVtdID0gWydsaW5lYXInLCAnYmluLWxpbmVhcicsICdsb2cnLCAncG93JywgJ3NxcnQnLCAndGltZScsICd1dGMnXTtcbmNvbnN0IENPTlRJTlVPVVNfVE9fQ09OVElOVU9VU19JTkRFWCA9IHRvU2V0KENPTlRJTlVPVVNfVE9fQ09OVElOVU9VU19TQ0FMRVMpO1xuXG5leHBvcnQgY29uc3QgQ09OVElOVU9VU19ET01BSU5fU0NBTEVTOiBTY2FsZVR5cGVbXSA9IENPTlRJTlVPVVNfVE9fQ09OVElOVU9VU19TQ0FMRVMuY29uY2F0KFsnc2VxdWVudGlhbCcgLyogVE9ETyBhZGQgJ3F1YW50aWxlJywgJ3F1YW50aXplJywgJ3RocmVzaG9sZCcqL10pO1xuY29uc3QgQ09OVElOVU9VU19ET01BSU5fSU5ERVggPSB0b1NldChDT05USU5VT1VTX0RPTUFJTl9TQ0FMRVMpO1xuXG5leHBvcnQgY29uc3QgRElTQ1JFVEVfRE9NQUlOX1NDQUxFUzogU2NhbGVUeXBlW10gPSBbJ29yZGluYWwnLCAnYmluLW9yZGluYWwnLCAncG9pbnQnLCAnYmFuZCddO1xuY29uc3QgRElTQ1JFVEVfRE9NQUlOX0lOREVYID0gdG9TZXQoRElTQ1JFVEVfRE9NQUlOX1NDQUxFUyk7XG5cbmNvbnN0IEJJTl9TQ0FMRVNfSU5ERVggPSB0b1NldChbJ2Jpbi1saW5lYXInLCAnYmluLW9yZGluYWwnXSk7XG5cbmV4cG9ydCBjb25zdCBUSU1FX1NDQUxFX1RZUEVTOiBTY2FsZVR5cGVbXSA9IFsndGltZScsICd1dGMnXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGhhc0Rpc2NyZXRlRG9tYWluKHR5cGU6IFNjYWxlVHlwZSk6IHR5cGUgaXMgJ29yZGluYWwnIHwgJ2Jpbi1vcmRpbmFsJyB8ICdwb2ludCcgfCAnYmFuZCcge1xuICByZXR1cm4gdHlwZSBpbiBESVNDUkVURV9ET01BSU5fSU5ERVg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0JpblNjYWxlKHR5cGU6IFNjYWxlVHlwZSk6IHR5cGUgaXMgJ2Jpbi1saW5lYXInIHwgJ2Jpbi1vcmRpbmFsJyB7XG4gIHJldHVybiB0eXBlIGluIEJJTl9TQ0FMRVNfSU5ERVg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNDb250aW51b3VzRG9tYWluKHR5cGU6IFNjYWxlVHlwZSk6XG4gIHR5cGUgaXMgJ2xpbmVhcicgfCAnbG9nJyB8ICdwb3cnIHwgJ3NxcnQnIHwgJ3RpbWUnIHwgJ3V0Yyd8XG4gICAgICAgICAgJ3NlcXVlbnRpYWwnIC8qIFRPRE8gYWRkIHwgJ3F1YW50aWxlJyB8ICdxdWFudGl6ZScgfCAndGhyZXNob2xkJyAqLyB7XG4gIHJldHVybiB0eXBlIGluIENPTlRJTlVPVVNfRE9NQUlOX0lOREVYO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNDb250aW51b3VzVG9Db250aW51b3VzKHR5cGU6IFNjYWxlVHlwZSk6IHR5cGUgaXMgJ2xpbmVhcicgfCAnYmluLWxpbmVhcicgfCAnbG9nJyB8ICdwb3cnIHwgJ3NxcnQnIHwgJ3RpbWUnIHwgJ3V0Yycge1xuICByZXR1cm4gdHlwZSBpbiBDT05USU5VT1VTX1RPX0NPTlRJTlVPVVNfSU5ERVg7XG59XG5cbmV4cG9ydCB0eXBlIE5pY2VUaW1lID0gJ3NlY29uZCcgfCAnbWludXRlJyB8ICdob3VyJyB8ICdkYXknIHwgJ3dlZWsnIHwgJ21vbnRoJyB8ICd5ZWFyJztcblxuZXhwb3J0IGludGVyZmFjZSBTY2FsZUNvbmZpZyB7XG4gIC8qKlxuICAgKiBJZiB0cnVlLCByb3VuZHMgbnVtZXJpYyBvdXRwdXQgdmFsdWVzIHRvIGludGVnZXJzLlxuICAgKiBUaGlzIGNhbiBiZSBoZWxwZnVsIGZvciBzbmFwcGluZyB0byB0aGUgcGl4ZWwgZ3JpZC5cbiAgICogKE9ubHkgYXZhaWxhYmxlIGZvciBgeGAsIGB5YCwgYW5kIGBzaXplYCBzY2FsZXMuKVxuICAgKi9cbiAgcm91bmQ/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBJZiB0cnVlLCB2YWx1ZXMgdGhhdCBleGNlZWQgdGhlIGRhdGEgZG9tYWluIGFyZSBjbGFtcGVkIHRvIGVpdGhlciB0aGUgbWluaW11bSBvciBtYXhpbXVtIHJhbmdlIHZhbHVlXG4gICAqL1xuICBjbGFtcD86IGJvb2xlYW47XG4gIC8qKlxuICAgKiAgRGVmYXVsdCByYW5nZSBzdGVwIGZvciBgeGAgYmFuZCBhbmQgcG9pbnQgc2NhbGVzIG9mIHRleHQgbWFya3MuXG4gICAqXG4gICAqIF9fRGVmYXVsdCB2YWx1ZTpfXyBgOTBgXG4gICAqXG4gICAqICBAbWluaW11bSAwXG4gICAqL1xuICB0ZXh0WFJhbmdlU3RlcD86IG51bWJlcjsgLy8gRklYTUU6IGNvbnNpZGVyIGlmIHdlIHdpbGwgcmVuYW1lIHRoaXMgXCJ0YWJsZUNvbHVtbldpZHRoXCJcblxuICAvKipcbiAgICogRGVmYXVsdCByYW5nZSBzdGVwIGZvciBiYW5kIGFuZCBwb2ludCBzY2FsZXMgb2YgKDEpIHRoZSBgeWAgY2hhbm5lbFxuICAgKiBhbmQgKDIpIHRoZSBgeGAgY2hhbm5lbCB3aGVuIHRoZSBtYXJrIGlzIG5vdCBgdGV4dGAuXG4gICAqXG4gICAqIF9fRGVmYXVsdCB2YWx1ZTpfXyBgMjFgXG4gICAqXG4gICAqIEBtaW5pbXVtIDBcbiAgICovXG4gIHJhbmdlU3RlcD86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIERlZmF1bHQgaW5uZXIgcGFkZGluZyBmb3IgYHhgIGFuZCBgeWAgYmFuZC1vcmRpbmFsIHNjYWxlcy5cbiAgICpcbiAgICogX19EZWZhdWx0IHZhbHVlOl9fIGAwLjFgXG4gICAqXG4gICAqIEBtaW5pbXVtIDBcbiAgICogQG1heGltdW0gMVxuICAgKi9cbiAgYmFuZFBhZGRpbmdJbm5lcj86IG51bWJlcjtcblxuICAvKipcbiAgICogRGVmYXVsdCBvdXRlciBwYWRkaW5nIGZvciBgeGAgYW5kIGB5YCBiYW5kLW9yZGluYWwgc2NhbGVzLlxuICAgKiBJZiBub3Qgc3BlY2lmaWVkLCBieSBkZWZhdWx0LCBiYW5kIHNjYWxlJ3MgcGFkZGluZ091dGVyIGlzIHBhZGRpbmdJbm5lci8yLlxuICAgKiBAbWluaW11bSAwXG4gICAqIEBtYXhpbXVtIDFcbiAgICovXG4gIGJhbmRQYWRkaW5nT3V0ZXI/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIERlZmF1bHQgcGFkZGluZyBmb3IgY29udGludW91cyBzY2FsZXMuXG4gICAqXG4gICAqIF9fRGVmYXVsdDpfXyBgNWAgZm9yIGNvbnRpbnVvdXMgeC1zY2FsZSBvZiBhIHZlcnRpY2FsIGJhciBhbmQgY29udGludW91cyB5LXNjYWxlIG9mIGEgaG9yaXpvbnRhbCBiYXIuOyBgMGAgb3RoZXJ3aXNlLlxuICAgKlxuICAgKiBAbWluaW11bSAwXG4gICAqL1xuICBjb250aW51b3VzUGFkZGluZz86IG51bWJlcjtcblxuICAvKipcbiAgICogRGVmYXVsdCBvdXRlciBwYWRkaW5nIGZvciBgeGAgYW5kIGB5YCBwb2ludC1vcmRpbmFsIHNjYWxlcy5cbiAgICpcbiAgICogX19EZWZhdWx0IHZhbHVlOl9fIGAwLjVgXG4gICAqXG4gICAqIEBtaW5pbXVtIDBcbiAgICogQG1heGltdW0gMVxuICAgKi9cbiAgcG9pbnRQYWRkaW5nPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBVc2UgdGhlIHNvdXJjZSBkYXRhIHJhbmdlIGJlZm9yZSBhZ2dyZWdhdGlvbiBhcyBzY2FsZSBkb21haW4gaW5zdGVhZCBvZiBhZ2dyZWdhdGVkIGRhdGEgZm9yIGFnZ3JlZ2F0ZSBheGlzLlxuICAgKlxuICAgKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gc2V0dGluZyBgZG9tYWluYCB0byBgXCJ1bmFnZ3JlZ2F0ZVwiYCBmb3IgYWdncmVnYXRlZCBfcXVhbnRpdGF0aXZlXyBmaWVsZHMgYnkgZGVmYXVsdC5cbiAgICpcbiAgICogVGhpcyBwcm9wZXJ0eSBvbmx5IHdvcmtzIHdpdGggYWdncmVnYXRlIGZ1bmN0aW9ucyB0aGF0IHByb2R1Y2UgdmFsdWVzIHdpdGhpbiB0aGUgcmF3IGRhdGEgZG9tYWluIChgXCJtZWFuXCJgLCBgXCJhdmVyYWdlXCJgLCBgXCJtZWRpYW5cImAsIGBcInExXCJgLCBgXCJxM1wiYCwgYFwibWluXCJgLCBgXCJtYXhcImApLiBGb3Igb3RoZXIgYWdncmVnYXRpb25zIHRoYXQgcHJvZHVjZSB2YWx1ZXMgb3V0c2lkZSBvZiB0aGUgcmF3IGRhdGEgZG9tYWluIChlLmcuIGBcImNvdW50XCJgLCBgXCJzdW1cImApLCB0aGlzIHByb3BlcnR5IGlzIGlnbm9yZWQuXG4gICAqXG4gICAqIF9fRGVmYXVsdCB2YWx1ZTpfXyBgZmFsc2VgXG4gICAqL1xuICB1c2VVbmFnZ3JlZ2F0ZWREb21haW4/OiBib29sZWFuO1xuXG4gIC8vIG5pY2Ugc2hvdWxkIGRlcGVuZHMgb24gdHlwZSAocXVhbnRpdGF0aXZlIG9yIHRlbXBvcmFsKSwgc29cbiAgLy8gbGV0J3Mgbm90IG1ha2UgYSBjb25maWcuXG5cbiAgLy8gQ29uZmlncyBmb3IgUmFuZ2VcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgbWF4IHZhbHVlIGZvciBtYXBwaW5nIHF1YW50aXRhdGl2ZSBmaWVsZHMgdG8gYmFyJ3Mgc2l6ZS9iYW5kU2l6ZS5cbiAgICpcbiAgICogSWYgdW5kZWZpbmVkIChkZWZhdWx0KSwgd2Ugd2lsbCB1c2UgdGhlIHNjYWxlJ3MgYHJhbmdlU3RlcGAgLSAxLlxuICAgKiBAbWluaW11bSAwXG4gICAqL1xuICBtYXhCYW5kU2l6ZT86IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgbWluIHZhbHVlIGZvciBtYXBwaW5nIHF1YW50aXRhdGl2ZSBmaWVsZHMgdG8gYmFyIGFuZCB0aWNrJ3Mgc2l6ZS9iYW5kU2l6ZSBzY2FsZSB3aXRoIHplcm89ZmFsc2UuXG4gICAqXG4gICAqIF9fRGVmYXVsdCB2YWx1ZTpfXyBgMmBcbiAgICpcbiAgICogQG1pbmltdW0gMFxuICAgKi9cbiAgbWluQmFuZFNpemU/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IG1heCB2YWx1ZSBmb3IgbWFwcGluZyBxdWFudGl0YXRpdmUgZmllbGRzIHRvIHRleHQncyBzaXplL2ZvbnRTaXplLlxuICAgKlxuICAgKiBfX0RlZmF1bHQgdmFsdWU6X18gYDQwYFxuICAgKlxuICAgKiBAbWluaW11bSAwXG4gICAqL1xuICBtYXhGb250U2l6ZT86IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgbWluIHZhbHVlIGZvciBtYXBwaW5nIHF1YW50aXRhdGl2ZSBmaWVsZHMgdG8gdGljaydzIHNpemUvZm9udFNpemUgc2NhbGUgd2l0aCB6ZXJvPWZhbHNlXG4gICAqXG4gICAqIF9fRGVmYXVsdCB2YWx1ZTpfXyBgOGBcbiAgICpcbiAgICogQG1pbmltdW0gMFxuICAgKi9cbiAgbWluRm9udFNpemU/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIERlZmF1bHQgbWluaW11bSBvcGFjaXR5IGZvciBtYXBwaW5nIGEgZmllbGQgdG8gb3BhY2l0eS5cbiAgICpcbiAgICogX19EZWZhdWx0IHZhbHVlOl9fIGAwLjNgXG4gICAqXG4gICAqIEBtaW5pbXVtIDBcbiAgICogQG1heGltdW0gMVxuICAgKi9cbiAgbWluT3BhY2l0eT86IG51bWJlcjtcblxuICAvKipcbiAgICogRGVmYXVsdCBtYXggb3BhY2l0eSBmb3IgbWFwcGluZyBhIGZpZWxkIHRvIG9wYWNpdHkuXG4gICAqXG4gICAqIF9fRGVmYXVsdCB2YWx1ZTpfXyBgMC44YFxuICAgKlxuICAgKiBAbWluaW11bSAwXG4gICAqIEBtYXhpbXVtIDFcbiAgICovXG4gIG1heE9wYWNpdHk/OiBudW1iZXI7XG5cblxuICAvKipcbiAgICogRGVmYXVsdCBtaW5pbXVtIHZhbHVlIGZvciBwb2ludCBzaXplIHNjYWxlIHdpdGggemVybz1mYWxzZS5cbiAgICpcbiAgICogX19EZWZhdWx0IHZhbHVlOl9fIGA5YFxuICAgKlxuICAgKiBAbWluaW11bSAwXG4gICAqL1xuICBtaW5TaXplPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBEZWZhdWx0IG1heCB2YWx1ZSBmb3IgcG9pbnQgc2l6ZSBzY2FsZS5cbiAgICogQG1pbmltdW0gMFxuICAgKi9cbiAgbWF4U2l6ZT86IG51bWJlcjtcblxuICAvKipcbiAgICogRGVmYXVsdCBtaW5pbXVtIHN0cm9rZVdpZHRoIGZvciB0aGUgc2NhbGUgb2Ygc3Ryb2tlV2lkdGggZm9yIHJ1bGUgYW5kIGxpbmUgbWFya3MgYW5kIG9mIHNpemUgZm9yIHRyYWlsIG1hcmtzIHdpdGggemVybz1mYWxzZS5cbiAgICpcbiAgICogX19EZWZhdWx0IHZhbHVlOl9fIGAxYFxuICAgKlxuICAgKiBAbWluaW11bSAwXG4gICAqL1xuICBtaW5TdHJva2VXaWR0aD86IG51bWJlcjtcblxuICAvKipcbiAgICogRGVmYXVsdCBtYXggc3Ryb2tlV2lkdGggZm9yIHRoZSBzY2FsZSBvZiBzdHJva2VXaWR0aCBmb3IgcnVsZSBhbmQgbGluZSBtYXJrcyBhbmQgb2Ygc2l6ZSBmb3IgdHJhaWwgbWFya3MuXG4gICAqXG4gICAqIF9fRGVmYXVsdCB2YWx1ZTpfXyBgNGBcbiAgICpcbiAgICogQG1pbmltdW0gMFxuICAgKi9cbiAgbWF4U3Ryb2tlV2lkdGg/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0U2NhbGVDb25maWcgPSB7XG4gIHRleHRYUmFuZ2VTdGVwOiA5MCxcbiAgcmFuZ2VTdGVwOiAyMSxcbiAgcG9pbnRQYWRkaW5nOiAwLjUsXG4gIGJhbmRQYWRkaW5nSW5uZXI6IDAuMSxcbiAgZmFjZXRTcGFjaW5nOiAxNixcblxuICBtaW5CYW5kU2l6ZTogMixcblxuICBtaW5Gb250U2l6ZTogOCxcbiAgbWF4Rm9udFNpemU6IDQwLFxuXG4gIG1pbk9wYWNpdHk6IDAuMyxcbiAgbWF4T3BhY2l0eTogMC44LFxuXG4gIC8vIEZJWE1FOiByZXZpc2UgaWYgdGhlc2UgKmNhbiogYmVjb21lIHJhdGlvcyBvZiByYW5nZVN0ZXBcbiAgbWluU2l6ZTogOSwgLy8gUG9pbnQgc2l6ZSBpcyBhcmVhLiBGb3Igc3F1YXJlIHBvaW50LCA5ID0gMyBwaXhlbCBeIDIsIG5vdCB0b28gc21hbGwhXG5cbiAgbWluU3Ryb2tlV2lkdGg6IDEsXG4gIG1heFN0cm9rZVdpZHRoOiA0XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIFNjaGVtZVBhcmFtcyB7XG4gIC8qKlxuICAgKiBBIGNvbG9yIHNjaGVtZSBuYW1lIGZvciBzZXF1ZW50aWFsL29yZGluYWwgc2NhbGVzIChlLmcuLCBgXCJjYXRlZ29yeTEwXCJgIG9yIGBcInZpcmlkaXNcImApLlxuICAgKlxuICAgKiBGb3IgdGhlIGZ1bGwgbGlzdCBvZiBzdXBwb3J0ZWQgc2NoZW1lcywgcGxlYXNlIHJlZmVyIHRvIHRoZSBbVmVnYSBTY2hlbWVdKGh0dHBzOi8vdmVnYS5naXRodWIuaW8vdmVnYS9kb2NzL3NjaGVtZXMvI3JlZmVyZW5jZSkgcmVmZXJlbmNlLlxuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBGb3Igc2VxdWVudGlhbCBhbmQgZGl2ZXJnaW5nIHNjaGVtZXMgb25seSwgZGV0ZXJtaW5lcyB0aGUgZXh0ZW50IG9mIHRoZSBjb2xvciByYW5nZSB0byB1c2UuIEZvciBleGFtcGxlIGBbMC4yLCAxXWAgd2lsbCByZXNjYWxlIHRoZSBjb2xvciBzY2hlbWUgc3VjaCB0aGF0IGNvbG9yIHZhbHVlcyBpbiB0aGUgcmFuZ2UgX1swLCAwLjIpXyBhcmUgZXhjbHVkZWQgZnJvbSB0aGUgc2NoZW1lLlxuICAgKi9cbiAgZXh0ZW50PzogbnVtYmVyW107XG5cbiAgLyoqXG4gICAqIFRoZSBudW1iZXIgb2YgY29sb3JzIHRvIHVzZSBpbiB0aGUgc2NoZW1lLiBUaGlzIGNhbiBiZSB1c2VmdWwgZm9yIHNjYWxlIHR5cGVzIHN1Y2ggYXMgYFwicXVhbnRpemVcImAsIHdoaWNoIHVzZSB0aGUgbGVuZ3RoIG9mIHRoZSBzY2FsZSByYW5nZSB0byBkZXRlcm1pbmUgdGhlIG51bWJlciBvZiBkaXNjcmV0ZSBiaW5zIGZvciB0aGUgc2NhbGUgZG9tYWluLlxuICAgKlxuICAgKiBAaGlkZVxuICAgKi9cbiAgY291bnQ/OiBudW1iZXI7XG59XG5cbmV4cG9ydCB0eXBlIFNlbGVjdGlvbkRvbWFpbiA9IHtcbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIGEgc2VsZWN0aW9uLlxuICAgKi9cbiAgc2VsZWN0aW9uOiBzdHJpbmcsXG4gIC8qKlxuICAgKiBUaGUgZmllbGQgbmFtZSB0byBleHRyYWN0IHNlbGVjdGVkIHZhbHVlcyBmb3IsIHdoZW4gYSBzZWxlY3Rpb24gaXMgW3Byb2plY3RlZF0ocHJvamVjdC5odG1sKVxuICAgKiBvdmVyIG11bHRpcGxlIGZpZWxkcyBvciBlbmNvZGluZ3MuXG4gICAqL1xuICBmaWVsZD86IHN0cmluZ1xufSB8IHtcbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIGEgc2VsZWN0aW9uLlxuICAgKi9cbiAgc2VsZWN0aW9uOiBzdHJpbmcsXG4gIC8qKlxuICAgKiBUaGUgZW5jb2RpbmcgY2hhbm5lbCB0byBleHRyYWN0IHNlbGVjdGVkIHZhbHVlcyBmb3IsIHdoZW4gYSBzZWxlY3Rpb24gaXMgW3Byb2plY3RlZF0ocHJvamVjdC5odG1sKVxuICAgKiBvdmVyIG11bHRpcGxlIGZpZWxkcyBvciBlbmNvZGluZ3MuXG4gICAqL1xuICBlbmNvZGluZz86IHN0cmluZ1xufTtcblxuZXhwb3J0IHR5cGUgRG9tYWluID0gbnVtYmVyW10gfCBzdHJpbmdbXSB8IGJvb2xlYW5bXSB8IERhdGVUaW1lW10gfCAndW5hZ2dyZWdhdGVkJyB8IFNlbGVjdGlvbkRvbWFpbjtcbmV4cG9ydCB0eXBlIFNjaGVtZSA9IHN0cmluZyB8IFNjaGVtZVBhcmFtcztcblxuZXhwb3J0IHR5cGUgUmFuZ2UgPSBudW1iZXJbXSB8IHN0cmluZ1tdIHwgc3RyaW5nO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNFeHRlbmRlZFNjaGVtZShzY2hlbWU6IHN0cmluZyB8IFNjaGVtZVBhcmFtcyk6IHNjaGVtZSBpcyBTY2hlbWVQYXJhbXMge1xuICByZXR1cm4gc2NoZW1lICYmICEhc2NoZW1lWyduYW1lJ107XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1NlbGVjdGlvbkRvbWFpbihkb21haW46IERvbWFpbik6IGRvbWFpbiBpcyBTZWxlY3Rpb25Eb21haW4ge1xuICByZXR1cm4gZG9tYWluICYmIGRvbWFpblsnc2VsZWN0aW9uJ107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2NhbGUge1xuICAvKipcbiAgICogVGhlIHR5cGUgb2Ygc2NhbGUuICBWZWdhLUxpdGUgc3VwcG9ydHMgdGhlIGZvbGxvd2luZyBjYXRlZ29yaWVzIG9mIHNjYWxlIHR5cGVzOlxuICAgKlxuICAgKiAxKSBbKipDb250aW51b3VzIFNjYWxlcyoqXShzY2FsZS5odG1sI2NvbnRpbnVvdXMpIC0tIG1hcHBpbmcgY29udGludW91cyBkb21haW5zIHRvIGNvbnRpbnVvdXMgb3V0cHV0IHJhbmdlcyAoW2BcImxpbmVhclwiYF0oc2NhbGUuaHRtbCNsaW5lYXIpLCBbYFwicG93XCJgXShzY2FsZS5odG1sI3BvdyksIFtgXCJzcXJ0XCJgXShzY2FsZS5odG1sI3NxcnQpLCBbYFwibG9nXCJgXShzY2FsZS5odG1sI2xvZyksIFtgXCJ0aW1lXCJgXShzY2FsZS5odG1sI3RpbWUpLCBbYFwidXRjXCJgXShzY2FsZS5odG1sI3V0YyksIFtgXCJzZXF1ZW50aWFsXCJgXShzY2FsZS5odG1sI3NlcXVlbnRpYWwpKS5cbiAgICpcbiAgICogMikgWyoqRGlzY3JldGUgU2NhbGVzKipdKHNjYWxlLmh0bWwjZGlzY3JldGUpIC0tIG1hcHBpbmcgZGlzY3JldGUgZG9tYWlucyB0byBkaXNjcmV0ZSAoW2BcIm9yZGluYWxcImBdKHNjYWxlLmh0bWwjb3JkaW5hbCkpIG9yIGNvbnRpbnVvdXMgKFtgXCJiYW5kXCJgXShzY2FsZS5odG1sI2JhbmQpIGFuZCBbYFwicG9pbnRcImBdKHNjYWxlLmh0bWwjcG9pbnQpKSBvdXRwdXQgcmFuZ2VzLlxuICAgKlxuICAgKiAzKSBbKipEaXNjcmV0aXppbmcgU2NhbGVzKipdKHNjYWxlLmh0bWwjZGlzY3JldGl6aW5nKSAtLSBtYXBwaW5nIGNvbnRpbnVvdXMgZG9tYWlucyB0byBkaXNjcmV0ZSBvdXRwdXQgcmFuZ2VzIChbYFwiYmluLWxpbmVhclwiYF0oc2NhbGUuaHRtbCNiaW4tbGluZWFyKSBhbmQgW2BcImJpbi1vcmRpbmFsXCJgXShzY2FsZS5odG1sI2Jpbi1vcmRpbmFsKSkuXG4gICAqXG4gICAqIF9fRGVmYXVsdCB2YWx1ZTpfXyBwbGVhc2Ugc2VlIHRoZSBbc2NhbGUgdHlwZSB0YWJsZV0oc2NhbGUuaHRtbCN0eXBlKS5cbiAgICovXG4gIHR5cGU/OiBTY2FsZVR5cGU7XG5cbiAgLyoqXG4gICAqIEN1c3RvbWl6ZWQgZG9tYWluIHZhbHVlcy5cbiAgICpcbiAgICogRm9yIF9xdWFudGl0YXRpdmVfIGZpZWxkcywgYGRvbWFpbmAgY2FuIHRha2UgdGhlIGZvcm0gb2YgYSB0d28tZWxlbWVudCBhcnJheSB3aXRoIG1pbmltdW0gYW5kIG1heGltdW0gdmFsdWVzLiAgW1BpZWNld2lzZSBzY2FsZXNdKHNjYWxlLmh0bWwjcGllY2V3aXNlKSBjYW4gYmUgY3JlYXRlZCBieSBwcm92aWRpbmcgYSBgZG9tYWluYCB3aXRoIG1vcmUgdGhhbiB0d28gZW50cmllcy5cbiAgICogSWYgdGhlIGlucHV0IGZpZWxkIGlzIGFnZ3JlZ2F0ZWQsIGBkb21haW5gIGNhbiBhbHNvIGJlIGEgc3RyaW5nIHZhbHVlIGBcInVuYWdncmVnYXRlZFwiYCwgaW5kaWNhdGluZyB0aGF0IHRoZSBkb21haW4gc2hvdWxkIGluY2x1ZGUgdGhlIHJhdyBkYXRhIHZhbHVlcyBwcmlvciB0byB0aGUgYWdncmVnYXRpb24uXG4gICAqXG4gICAqIEZvciBfdGVtcG9yYWxfIGZpZWxkcywgYGRvbWFpbmAgY2FuIGJlIGEgdHdvLWVsZW1lbnQgYXJyYXkgbWluaW11bSBhbmQgbWF4aW11bSB2YWx1ZXMsIGluIHRoZSBmb3JtIG9mIGVpdGhlciB0aW1lc3RhbXBzIG9yIHRoZSBbRGF0ZVRpbWUgZGVmaW5pdGlvbiBvYmplY3RzXSh0eXBlcy5odG1sI2RhdGV0aW1lKS5cbiAgICpcbiAgICogRm9yIF9vcmRpbmFsXyBhbmQgX25vbWluYWxfIGZpZWxkcywgYGRvbWFpbmAgY2FuIGJlIGFuIGFycmF5IHRoYXQgbGlzdHMgdmFsaWQgaW5wdXQgdmFsdWVzLlxuICAgKlxuICAgKiBUaGUgYHNlbGVjdGlvbmAgcHJvcGVydHkgY2FuIGJlIHVzZWQgdG8gW2ludGVyYWN0aXZlbHkgZGV0ZXJtaW5lXShzZWxlY3Rpb24uaHRtbCNzY2FsZS1kb21haW5zKSB0aGUgc2NhbGUgZG9tYWluLlxuICAgKi9cbiAgZG9tYWluPzogbnVtYmVyW10gfCBzdHJpbmdbXSB8IGJvb2xlYW5bXSB8IERhdGVUaW1lW10gfCAndW5hZ2dyZWdhdGVkJyB8IFNlbGVjdGlvbkRvbWFpbjtcblxuXG4gIC8vIEhpZGUgYmVjYXVzZSB3ZSBtaWdodCBub3QgcmVhbGx5IG5lZWQgdGhpcy5cbiAgLyoqXG4gICAqIElmIHRydWUsIHJldmVyc2VzIHRoZSBvcmRlciBvZiB0aGUgc2NhbGUgcmFuZ2UuXG4gICAqIF9fRGVmYXVsdCB2YWx1ZTpfXyBgZmFsc2VgLlxuICAgKlxuICAgKiBAaGlkZVxuICAgKi9cbiAgcmV2ZXJzZT86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFRoZSByYW5nZSBvZiB0aGUgc2NhbGUuIE9uZSBvZjpcbiAgICpcbiAgICogLSBBIHN0cmluZyBpbmRpY2F0aW5nIGEgW3ByZS1kZWZpbmVkIG5hbWVkIHNjYWxlIHJhbmdlXShzY2FsZS5odG1sI3JhbmdlLWNvbmZpZykgKGUuZy4sIGV4YW1wbGUsIGBcInN5bWJvbFwiYCwgb3IgYFwiZGl2ZXJnaW5nXCJgKS5cbiAgICpcbiAgICogLSBGb3IgW2NvbnRpbnVvdXMgc2NhbGVzXShzY2FsZS5odG1sI2NvbnRpbnVvdXMpLCB0d28tZWxlbWVudCBhcnJheSBpbmRpY2F0aW5nICBtaW5pbXVtIGFuZCBtYXhpbXVtIHZhbHVlcywgb3IgYW4gYXJyYXkgd2l0aCBtb3JlIHRoYW4gdHdvIGVudHJpZXMgZm9yIHNwZWNpZnlpbmcgYSBbcGllY2V3aXNlIHNjYWxlXShzY2FsZS5odG1sI3BpZWNld2lzZSkuXG4gICAqXG4gICAqIC0gRm9yIFtkaXNjcmV0ZV0oc2NhbGUuaHRtbCNkaXNjcmV0ZSkgYW5kIFtkaXNjcmV0aXppbmddKHNjYWxlLmh0bWwjZGlzY3JldGl6aW5nKSBzY2FsZXMsIGFuIGFycmF5IG9mIGRlc2lyZWQgb3V0cHV0IHZhbHVlcy5cbiAgICpcbiAgICogX19Ob3RlczpfX1xuICAgKlxuICAgKiAxKSBGb3IgW3NlcXVlbnRpYWxdKHNjYWxlLmh0bWwjc2VxdWVudGlhbCksIFtvcmRpbmFsXShzY2FsZS5odG1sI29yZGluYWwpLCBhbmQgZGlzY3JldGl6aW5nIGNvbG9yIHNjYWxlcywgeW91IGNhbiBhbHNvIHNwZWNpZnkgYSBjb2xvciBbYHNjaGVtZWBdKHNjYWxlLmh0bWwjc2NoZW1lKSBpbnN0ZWFkIG9mIGByYW5nZWAuXG4gICAqXG4gICAqIDIpIEFueSBkaXJlY3RseSBzcGVjaWZpZWQgYHJhbmdlYCBmb3IgYHhgIGFuZCBgeWAgY2hhbm5lbHMgd2lsbCBiZSBpZ25vcmVkLiBSYW5nZSBjYW4gYmUgY3VzdG9taXplZCB2aWEgdGhlIHZpZXcncyBjb3JyZXNwb25kaW5nIFtzaXplXShzaXplLmh0bWwpIChgd2lkdGhgIGFuZCBgaGVpZ2h0YCkgb3IgdmlhIFtyYW5nZSBzdGVwcyBhbmQgcGFkZGluZ3MgcHJvcGVydGllc10oI3JhbmdlLXN0ZXApIGZvciBbYmFuZF0oI2JhbmQpIGFuZCBbcG9pbnRdKCNwb2ludCkgc2NhbGVzLlxuICAgKi9cbiAgcmFuZ2U/OiBudW1iZXJbXSB8IHN0cmluZ1tdIHwgc3RyaW5nO1xuXG4gIC8vIG9yZGluYWxcbiAgLyoqXG4gICAqIFRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBzdGFydHMgb2YgYWRqYWNlbnQgYmFuZHMgb3IgcG9pbnRzIGluIFtiYW5kXShzY2FsZS5odG1sI2JhbmQpIGFuZCBbcG9pbnRdKHNjYWxlLmh0bWwjcG9pbnQpIHNjYWxlcy5cbiAgICpcbiAgICogSWYgYHJhbmdlU3RlcGAgaXMgYG51bGxgIG9yIGlmIHRoZSB2aWV3IGNvbnRhaW5zIHRoZSBzY2FsZSdzIGNvcnJlc3BvbmRpbmcgW3NpemVdKHNpemUuaHRtbCkgKGB3aWR0aGAgZm9yIGB4YCBzY2FsZXMgYW5kIGBoZWlnaHRgIGZvciBgeWAgc2NhbGVzKSwgYHJhbmdlU3RlcGAgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGRldGVybWluZWQgdG8gZml0IHRoZSBzaXplIG9mIHRoZSB2aWV3LlxuICAgKlxuICAgKiBfX0RlZmF1bHQgdmFsdWU6X18gIGRlcml2ZWQgdGhlIFtzY2FsZSBjb25maWddKGNvbmZpZy5odG1sI3NjYWxlLWNvbmZpZykncyBgdGV4dFhSYW5nZVN0ZXBgIChgOTBgIGJ5IGRlZmF1bHQpIGZvciB4LXNjYWxlcyBvZiBgdGV4dGAgbWFya3MgYW5kIGByYW5nZVN0ZXBgIChgMjFgIGJ5IGRlZmF1bHQpIGZvciB4LXNjYWxlcyBvZiBvdGhlciBtYXJrcyBhbmQgeS1zY2FsZXMuXG4gICAqXG4gICAqIF9fV2FybmluZ19fOiBJZiBgcmFuZ2VTdGVwYCBpcyBgbnVsbGAgYW5kIHRoZSBjYXJkaW5hbGl0eSBvZiB0aGUgc2NhbGUncyBkb21haW4gaXMgaGlnaGVyIHRoYW4gYHdpZHRoYCBvciBgaGVpZ2h0YCwgdGhlIHJhbmdlU3RlcCBtaWdodCBiZWNvbWUgbGVzcyB0aGFuIG9uZSBwaXhlbCBhbmQgdGhlIG1hcmsgbWlnaHQgbm90IGFwcGVhciBjb3JyZWN0bHkuXG4gICAqXG4gICAqIEBtaW5pbXVtIDBcbiAgICovXG4gIHJhbmdlU3RlcD86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEEgc3RyaW5nIGluZGljYXRpbmcgYSBjb2xvciBbc2NoZW1lXShzY2FsZS5odG1sI3NjaGVtZSkgbmFtZSAoZS5nLiwgYFwiY2F0ZWdvcnkxMFwiYCBvciBgXCJ2aXJpZGlzXCJgKSBvciBhIFtzY2hlbWUgcGFyYW1ldGVyIG9iamVjdF0oc2NhbGUuaHRtbCNzY2hlbWUtcGFyYW1zKS5cbiAgICpcbiAgICogRGlzY3JldGUgY29sb3Igc2NoZW1lcyBtYXkgYmUgdXNlZCB3aXRoIFtkaXNjcmV0ZV0oc2NhbGUuaHRtbCNkaXNjcmV0ZSkgb3IgW2Rpc2NyZXRpemluZ10oc2NhbGUuaHRtbCNkaXNjcmV0aXppbmcpIHNjYWxlcy4gQ29udGludW91cyBjb2xvciBzY2hlbWVzIGFyZSBpbnRlbmRlZCBmb3IgdXNlIHdpdGggW3NlcXVlbnRpYWxdKHNjYWxlcy5odG1sI3NlcXVlbnRpYWwpIHNjYWxlcy5cbiAgICpcbiAgICogRm9yIHRoZSBmdWxsIGxpc3Qgb2Ygc3VwcG9ydGVkIHNjaGVtZXMsIHBsZWFzZSByZWZlciB0byB0aGUgW1ZlZ2EgU2NoZW1lXShodHRwczovL3ZlZ2EuZ2l0aHViLmlvL3ZlZ2EvZG9jcy9zY2hlbWVzLyNyZWZlcmVuY2UpIHJlZmVyZW5jZS5cbiAgICovXG4gIHNjaGVtZT86IHN0cmluZyB8IFNjaGVtZVBhcmFtcztcblxuICAvKipcbiAgICogSWYgYHRydWVgLCByb3VuZHMgbnVtZXJpYyBvdXRwdXQgdmFsdWVzIHRvIGludGVnZXJzLiBUaGlzIGNhbiBiZSBoZWxwZnVsIGZvciBzbmFwcGluZyB0byB0aGUgcGl4ZWwgZ3JpZC5cbiAgICpcbiAgICogX19EZWZhdWx0IHZhbHVlOl9fIGBmYWxzZWAuXG4gICAqL1xuICByb3VuZD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEZvciBfW2NvbnRpbnVvdXNdKHNjYWxlLmh0bWwjY29udGludW91cylfIHNjYWxlcywgZXhwYW5kcyB0aGUgc2NhbGUgZG9tYWluIHRvIGFjY29tbW9kYXRlIHRoZSBzcGVjaWZpZWQgbnVtYmVyIG9mIHBpeGVscyBvbiBlYWNoIG9mIHRoZSBzY2FsZSByYW5nZS4gVGhlIHNjYWxlIHJhbmdlIG11c3QgcmVwcmVzZW50IHBpeGVscyBmb3IgdGhpcyBwYXJhbWV0ZXIgdG8gZnVuY3Rpb24gYXMgaW50ZW5kZWQuIFBhZGRpbmcgYWRqdXN0bWVudCBpcyBwZXJmb3JtZWTCoHByaW9ywqB0byBhbGwgb3RoZXIgYWRqdXN0bWVudHMsIGluY2x1ZGluZyB0aGUgZWZmZWN0cyBvZiB0aGXCoHplcm8swqBuaWNlLMKgZG9tYWluTWluLCBhbmTCoGRvbWFpbk1heMKgcHJvcGVydGllcy5cbiAgICpcbiAgICogRm9yIF9bYmFuZF0oc2NhbGUuaHRtbCNiYW5kKV8gc2NhbGVzLCBzaG9ydGN1dCBmb3Igc2V0dGluZyBgcGFkZGluZ0lubmVyYCBhbmQgYHBhZGRpbmdPdXRlcmAgdG8gdGhlIHNhbWUgdmFsdWUuXG4gICAqXG4gICAqIEZvciBfW3BvaW50XShzY2FsZS5odG1sI3BvaW50KV8gc2NhbGVzLCBhbGlhcyBmb3IgYHBhZGRpbmdPdXRlcmAuXG4gICAqXG4gICAqIF9fRGVmYXVsdCB2YWx1ZTpfXyBGb3IgX2NvbnRpbnVvdXNfIHNjYWxlcywgZGVyaXZlZCBmcm9tIHRoZSBbc2NhbGUgY29uZmlnXShzY2FsZS5odG1sI2NvbmZpZykncyBgY29udGludW91c1BhZGRpbmdgLlxuICAgKiBGb3IgX2JhbmQgYW5kIHBvaW50XyBzY2FsZXMsIHNlZSBgcGFkZGluZ0lubmVyYCBhbmQgYHBhZGRpbmdPdXRlcmAuXG4gICAqXG4gICAqIEBtaW5pbXVtIDBcbiAgICovXG4gIHBhZGRpbmc/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBpbm5lciBwYWRkaW5nIChzcGFjaW5nKSB3aXRoaW4gZWFjaCBiYW5kIHN0ZXAgb2YgYmFuZCBzY2FsZXMsIGFzIGEgZnJhY3Rpb24gb2YgdGhlIHN0ZXAgc2l6ZS4gVGhpcyB2YWx1ZSBtdXN0IGxpZSBpbiB0aGUgcmFuZ2UgWzAsMV0uXG4gICAqXG4gICAqIEZvciBwb2ludCBzY2FsZSwgdGhpcyBwcm9wZXJ0eSBpcyBpbnZhbGlkIGFzIHBvaW50IHNjYWxlcyBkbyBub3QgaGF2ZSBpbnRlcm5hbCBiYW5kIHdpZHRocyAob25seSBzdGVwIHNpemVzIGJldHdlZW4gYmFuZHMpLlxuICAgKlxuICAgKiBfX0RlZmF1bHQgdmFsdWU6X18gZGVyaXZlZCBmcm9tIHRoZSBbc2NhbGUgY29uZmlnXShzY2FsZS5odG1sI2NvbmZpZykncyBgYmFuZFBhZGRpbmdJbm5lcmAuXG4gICAqXG4gICAqIEBtaW5pbXVtIDBcbiAgICogQG1heGltdW0gMVxuICAgKi9cbiAgcGFkZGluZ0lubmVyPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgb3V0ZXIgcGFkZGluZyAoc3BhY2luZykgYXQgdGhlIGVuZHMgb2YgdGhlIHJhbmdlIG9mIGJhbmQgYW5kIHBvaW50IHNjYWxlcyxcbiAgICogYXMgYSBmcmFjdGlvbiBvZiB0aGUgc3RlcCBzaXplLiBUaGlzIHZhbHVlIG11c3QgbGllIGluIHRoZSByYW5nZSBbMCwxXS5cbiAgICpcbiAgICogX19EZWZhdWx0IHZhbHVlOl9fIGRlcml2ZWQgZnJvbSB0aGUgW3NjYWxlIGNvbmZpZ10oc2NhbGUuaHRtbCNjb25maWcpJ3MgYGJhbmRQYWRkaW5nT3V0ZXJgIGZvciBiYW5kIHNjYWxlcyBhbmQgYHBvaW50UGFkZGluZ2AgZm9yIHBvaW50IHNjYWxlcy5cbiAgICpcbiAgICogQG1pbmltdW0gMFxuICAgKiBAbWF4aW11bSAxXG4gICAqL1xuICBwYWRkaW5nT3V0ZXI/OiBudW1iZXI7XG5cbiAgLy8gdHlwaWNhbFxuICAvKipcbiAgICogSWYgYHRydWVgLCB2YWx1ZXMgdGhhdCBleGNlZWQgdGhlIGRhdGEgZG9tYWluIGFyZSBjbGFtcGVkIHRvIGVpdGhlciB0aGUgbWluaW11bSBvciBtYXhpbXVtIHJhbmdlIHZhbHVlXG4gICAqXG4gICAqIF9fRGVmYXVsdCB2YWx1ZTpfXyBkZXJpdmVkIGZyb20gdGhlIFtzY2FsZSBjb25maWddKGNvbmZpZy5odG1sI3NjYWxlLWNvbmZpZykncyBgY2xhbXBgIChgdHJ1ZWAgYnkgZGVmYXVsdCkuXG4gICAqL1xuICBjbGFtcD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEV4dGVuZGluZyB0aGUgZG9tYWluIHNvIHRoYXQgaXQgc3RhcnRzIGFuZCBlbmRzIG9uIG5pY2Ugcm91bmQgdmFsdWVzLiBUaGlzIG1ldGhvZCB0eXBpY2FsbHkgbW9kaWZpZXMgdGhlIHNjYWxl4oCZcyBkb21haW4sIGFuZCBtYXkgb25seSBleHRlbmQgdGhlIGJvdW5kcyB0byB0aGUgbmVhcmVzdCByb3VuZCB2YWx1ZS4gTmljaW5nIGlzIHVzZWZ1bCBpZiB0aGUgZG9tYWluIGlzIGNvbXB1dGVkIGZyb20gZGF0YSBhbmQgbWF5IGJlIGlycmVndWxhci4gRm9yIGV4YW1wbGUsIGZvciBhIGRvbWFpbiBvZiBfWzAuMjAxNDc54oCmLCAwLjk5NjY3OeKApl1fLCBhIG5pY2UgZG9tYWluIG1pZ2h0IGJlIF9bMC4yLCAxLjBdXy5cbiAgICpcbiAgICogRm9yIHF1YW50aXRhdGl2ZSBzY2FsZXMgc3VjaCBhcyBsaW5lYXIsIGBuaWNlYCBjYW4gYmUgZWl0aGVyIGEgYm9vbGVhbiBmbGFnIG9yIGEgbnVtYmVyLiBJZiBgbmljZWAgaXMgYSBudW1iZXIsIGl0IHdpbGwgcmVwcmVzZW50IGEgZGVzaXJlZCB0aWNrIGNvdW50LiBUaGlzIGFsbG93cyBncmVhdGVyIGNvbnRyb2wgb3ZlciB0aGUgc3RlcCBzaXplIHVzZWQgdG8gZXh0ZW5kIHRoZSBib3VuZHMsIGd1YXJhbnRlZWluZyB0aGF0IHRoZSByZXR1cm5lZCB0aWNrcyB3aWxsIGV4YWN0bHkgY292ZXIgdGhlIGRvbWFpbi5cbiAgICpcbiAgICogRm9yIHRlbXBvcmFsIGZpZWxkcyB3aXRoIHRpbWUgYW5kIHV0YyBzY2FsZXMsIHRoZSBgbmljZWAgdmFsdWUgY2FuIGJlIGEgc3RyaW5nIGluZGljYXRpbmcgdGhlIGRlc2lyZWQgdGltZSBpbnRlcnZhbC4gTGVnYWwgdmFsdWVzIGFyZSBgXCJtaWxsaXNlY29uZFwiYCwgYFwic2Vjb25kXCJgLCBgXCJtaW51dGVcImAsIGBcImhvdXJcImAsIGBcImRheVwiYCwgYFwid2Vla1wiYCwgYFwibW9udGhcImAsIGFuZCBgXCJ5ZWFyXCJgLiBBbHRlcm5hdGl2ZWx5LCBgdGltZWAgYW5kIGB1dGNgIHNjYWxlcyBjYW4gYWNjZXB0IGFuIG9iamVjdC12YWx1ZWQgaW50ZXJ2YWwgc3BlY2lmaWVyIG9mIHRoZSBmb3JtIGB7XCJpbnRlcnZhbFwiOiBcIm1vbnRoXCIsIFwic3RlcFwiOiAzfWAsIHdoaWNoIGluY2x1ZGVzIGEgZGVzaXJlZCBudW1iZXIgb2YgaW50ZXJ2YWwgc3RlcHMuIEhlcmUsIHRoZSBkb21haW4gd291bGQgc25hcCB0byBxdWFydGVyIChKYW4sIEFwciwgSnVsLCBPY3QpIGJvdW5kYXJpZXMuXG4gICAqXG4gICAqIF9fRGVmYXVsdCB2YWx1ZTpfXyBgdHJ1ZWAgZm9yIHVuYmlubmVkIF9xdWFudGl0YXRpdmVfIGZpZWxkczsgYGZhbHNlYCBvdGhlcndpc2UuXG4gICAqXG4gICAqL1xuICBuaWNlPzogYm9vbGVhbiB8IG51bWJlciB8IE5pY2VUaW1lIHwge2ludGVydmFsOiBzdHJpbmcsIHN0ZXA6IG51bWJlcn07XG5cbiAgLyoqXG4gICAqIFRoZSBsb2dhcml0aG0gYmFzZSBvZiB0aGUgYGxvZ2Agc2NhbGUgKGRlZmF1bHQgYDEwYCkuXG4gICAqL1xuICBiYXNlPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgZXhwb25lbnQgb2YgdGhlIGBwb3dgIHNjYWxlLlxuICAgKi9cbiAgZXhwb25lbnQ/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgZW5zdXJlcyB0aGF0IGEgemVybyBiYXNlbGluZSB2YWx1ZSBpcyBpbmNsdWRlZCBpbiB0aGUgc2NhbGUgZG9tYWluLlxuICAgKlxuICAgKiBfX0RlZmF1bHQgdmFsdWU6X18gYHRydWVgIGZvciB4IGFuZCB5IGNoYW5uZWxzIGlmIHRoZSBxdWFudGl0YXRpdmUgZmllbGQgaXMgbm90IGJpbm5lZCBhbmQgbm8gY3VzdG9tIGBkb21haW5gIGlzIHByb3ZpZGVkOyBgZmFsc2VgIG90aGVyd2lzZS5cbiAgICpcbiAgICogX19Ob3RlOl9fIExvZywgdGltZSwgYW5kIHV0YyBzY2FsZXMgZG8gbm90IHN1cHBvcnQgYHplcm9gLlxuICAgKi9cbiAgemVybz86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFRoZSBpbnRlcnBvbGF0aW9uIG1ldGhvZCBmb3IgcmFuZ2UgdmFsdWVzLiBCeSBkZWZhdWx0LCBhIGdlbmVyYWwgaW50ZXJwb2xhdG9yIGZvciBudW1iZXJzLCBkYXRlcywgc3RyaW5ncyBhbmQgY29sb3JzIChpbiBSR0Igc3BhY2UpIGlzIHVzZWQuIEZvciBjb2xvciByYW5nZXMsIHRoaXMgcHJvcGVydHkgYWxsb3dzIGludGVycG9sYXRpb24gaW4gYWx0ZXJuYXRpdmUgY29sb3Igc3BhY2VzLiBMZWdhbCB2YWx1ZXMgaW5jbHVkZSBgcmdiYCwgYGhzbGAsIGBoc2wtbG9uZ2AsIGBsYWJgLCBgaGNsYCwgYGhjbC1sb25nYCwgYGN1YmVoZWxpeGAgYW5kIGBjdWJlaGVsaXgtbG9uZ2AgKCctbG9uZycgdmFyaWFudHMgdXNlIGxvbmdlciBwYXRocyBpbiBwb2xhciBjb29yZGluYXRlIHNwYWNlcykuIElmIG9iamVjdC12YWx1ZWQsIHRoaXMgcHJvcGVydHkgYWNjZXB0cyBhbiBvYmplY3Qgd2l0aCBhIHN0cmluZy12YWx1ZWQgX3R5cGVfIHByb3BlcnR5IGFuZCBhbiBvcHRpb25hbCBudW1lcmljIF9nYW1tYV8gcHJvcGVydHkgYXBwbGljYWJsZSB0byByZ2IgYW5kIGN1YmVoZWxpeCBpbnRlcnBvbGF0b3JzLiBGb3IgbW9yZSwgc2VlIHRoZSBbZDMtaW50ZXJwb2xhdGUgZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL2QzL2QzLWludGVycG9sYXRlKS5cbiAgICpcbiAgICogX19Ob3RlOl9fIFNlcXVlbnRpYWwgc2NhbGVzIGRvIG5vdCBzdXBwb3J0IGBpbnRlcnBvbGF0ZWAgYXMgdGhleSBoYXZlIGEgZml4ZWQgaW50ZXJwb2xhdG9yLiAgU2luY2UgVmVnYS1MaXRlIHVzZXMgc2VxdWVudGlhbCBzY2FsZXMgZm9yIHF1YW50aXRhdGl2ZSBmaWVsZHMgYnkgZGVmYXVsdCwgeW91IGhhdmUgdG8gc2V0IHRoZSBzY2FsZSBgdHlwZWAgdG8gb3RoZXIgcXVhbnRpdGF0aXZlIHNjYWxlIHR5cGUgc3VjaCBhcyBgXCJsaW5lYXJcImAgdG8gY3VzdG9taXplIGBpbnRlcnBvbGF0ZWAuXG4gICAqL1xuICBpbnRlcnBvbGF0ZT86IFNjYWxlSW50ZXJwb2xhdGUgfCBTY2FsZUludGVycG9sYXRlUGFyYW1zO1xufVxuXG5jb25zdCBTQ0FMRV9QUk9QRVJUWV9JTkRFWDogRmxhZzxrZXlvZiBTY2FsZT4gPSB7XG4gIHR5cGU6IDEsXG4gIGRvbWFpbjogMSxcbiAgcmFuZ2U6IDEsXG4gIHJhbmdlU3RlcDogMSxcbiAgc2NoZW1lOiAxLFxuICAvLyBPdGhlciBwcm9wZXJ0aWVzXG4gIHJldmVyc2U6IDEsXG4gIHJvdW5kOiAxLFxuICAvLyBxdWFudGl0YXRpdmUgLyB0aW1lXG4gIGNsYW1wOiAxLFxuICBuaWNlOiAxLFxuICAvLyBxdWFudGl0YXRpdmVcbiAgYmFzZTogMSxcbiAgZXhwb25lbnQ6IDEsXG4gIGludGVycG9sYXRlOiAxLFxuICB6ZXJvOiAxLCAvLyB6ZXJvIGRlcGVuZHMgb24gZG9tYWluXG4gIC8vIGJhbmQvcG9pbnRcbiAgcGFkZGluZzogMSxcbiAgcGFkZGluZ0lubmVyOiAxLFxuICBwYWRkaW5nT3V0ZXI6IDFcbn07XG5cbmV4cG9ydCBjb25zdCBTQ0FMRV9QUk9QRVJUSUVTID0gZmxhZ0tleXMoU0NBTEVfUFJPUEVSVFlfSU5ERVgpO1xuXG5jb25zdCB7dHlwZSwgZG9tYWluLCByYW5nZSwgcmFuZ2VTdGVwLCBzY2hlbWUsIC4uLk5PTl9UWVBFX0RPTUFJTl9SQU5HRV9WRUdBX1NDQUxFX1BST1BFUlRZX0lOREVYfSA9IFNDQUxFX1BST1BFUlRZX0lOREVYO1xuXG5leHBvcnQgY29uc3QgTk9OX1RZUEVfRE9NQUlOX1JBTkdFX1ZFR0FfU0NBTEVfUFJPUEVSVElFUyA9IGZsYWdLZXlzKE5PTl9UWVBFX0RPTUFJTl9SQU5HRV9WRUdBX1NDQUxFX1BST1BFUlRZX0lOREVYKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlVHlwZVN1cHBvcnRQcm9wZXJ0eShzY2FsZVR5cGU6IFNjYWxlVHlwZSwgcHJvcE5hbWU6IGtleW9mIFNjYWxlKSB7XG4gIHN3aXRjaCAocHJvcE5hbWUpIHtcbiAgICBjYXNlICd0eXBlJzpcbiAgICBjYXNlICdkb21haW4nOlxuICAgIGNhc2UgJ3JldmVyc2UnOlxuICAgIGNhc2UgJ3JhbmdlJzpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGNhc2UgJ3NjaGVtZSc6XG4gICAgICByZXR1cm4gY29udGFpbnMoWydzZXF1ZW50aWFsJywgJ29yZGluYWwnLCAnYmluLW9yZGluYWwnLCAncXVhbnRpbGUnLCAncXVhbnRpemUnXSwgc2NhbGVUeXBlKTtcbiAgICBjYXNlICdpbnRlcnBvbGF0ZSc6XG4gICAgICAvLyBGSVhNRShodHRwczovL2dpdGh1Yi5jb20vdmVnYS92ZWdhLWxpdGUvaXNzdWVzLzI5MDIpIGhvdyBhYm91dCBvcmRpbmFsP1xuICAgICAgcmV0dXJuIGNvbnRhaW5zKFsnbGluZWFyJywgJ2Jpbi1saW5lYXInLCAncG93JywgJ2xvZycsICdzcXJ0JywgJ3V0YycsICd0aW1lJ10sIHNjYWxlVHlwZSk7XG4gICAgY2FzZSAncm91bmQnOlxuICAgICAgcmV0dXJuIGlzQ29udGludW91c1RvQ29udGludW91cyhzY2FsZVR5cGUpIHx8IHNjYWxlVHlwZSA9PT0gJ2JhbmQnIHx8IHNjYWxlVHlwZSA9PT0gJ3BvaW50JztcbiAgICBjYXNlICdwYWRkaW5nJzpcbiAgICAgIHJldHVybiBpc0NvbnRpbnVvdXNUb0NvbnRpbnVvdXMoc2NhbGVUeXBlKSB8fCBjb250YWlucyhbJ3BvaW50JywgJ2JhbmQnXSwgc2NhbGVUeXBlKTtcbiAgICBjYXNlICdwYWRkaW5nT3V0ZXInOlxuICAgIGNhc2UgJ3JhbmdlU3RlcCc6XG4gICAgICByZXR1cm4gY29udGFpbnMoWydwb2ludCcsICdiYW5kJ10sIHNjYWxlVHlwZSk7XG4gICAgY2FzZSAncGFkZGluZ0lubmVyJzpcbiAgICAgIHJldHVybiBzY2FsZVR5cGUgPT09ICdiYW5kJztcbiAgICBjYXNlICdjbGFtcCc6XG4gICAgICByZXR1cm4gaXNDb250aW51b3VzVG9Db250aW51b3VzKHNjYWxlVHlwZSkgfHwgc2NhbGVUeXBlID09PSAnc2VxdWVudGlhbCc7XG4gICAgY2FzZSAnbmljZSc6XG4gICAgICByZXR1cm4gaXNDb250aW51b3VzVG9Db250aW51b3VzKHNjYWxlVHlwZSkgfHwgc2NhbGVUeXBlID09PSAnc2VxdWVudGlhbCcgfHwgc2NhbGVUeXBlIGFzIGFueSA9PT0gJ3F1YW50aXplJztcbiAgICBjYXNlICdleHBvbmVudCc6XG4gICAgICByZXR1cm4gc2NhbGVUeXBlID09PSAncG93JztcbiAgICBjYXNlICdiYXNlJzpcbiAgICAgIHJldHVybiBzY2FsZVR5cGUgPT09ICdsb2cnO1xuICAgIGNhc2UgJ3plcm8nOlxuICAgICAgcmV0dXJuIGhhc0NvbnRpbnVvdXNEb21haW4oc2NhbGVUeXBlKSAmJiAhY29udGFpbnMoW1xuICAgICAgICAnbG9nJywgIC8vIGxvZyBzY2FsZSBjYW5ub3QgaGF2ZSB6ZXJvIHZhbHVlXG4gICAgICAgICd0aW1lJywgJ3V0YycsIC8vIHplcm8gaXMgbm90IG1lYW5pbmdmdWwgZm9yIHRpbWVcbiAgICAgICAgJ2Jpbi1saW5lYXInLCAvLyBiaW5uaW5nIHNob3VsZCBub3QgYXV0b21hdGljYWxseSBhZGQgemVyb1xuICAgICAgICAndGhyZXNob2xkJywgLy8gdGhyZXNob2xkIHJlcXVpcmVzIGN1c3RvbSBkb21haW4gc28gemVybyBkb2VzIG5vdCBtYXR0ZXJcbiAgICAgICAgJ3F1YW50aWxlJyAvLyBxdWFudGlsZSBkZXBlbmRzIG9uIGRpc3RyaWJ1dGlvbiBzbyB6ZXJvIGRvZXMgbm90IG1hdHRlclxuICAgICAgXSwgc2NhbGVUeXBlKTtcbiAgfVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogc2hvdWxkIG5ldmVyIHJlYWNoIGhlcmUqL1xuICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgc2NhbGUgcHJvcGVydHkgJHtwcm9wTmFtZX0uYCk7XG59XG5cbi8qKlxuICogUmV0dXJucyB1bmRlZmluZWQgaWYgdGhlIGlucHV0IGNoYW5uZWwgc3VwcG9ydHMgdGhlIGlucHV0IHNjYWxlIHByb3BlcnR5IG5hbWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoYW5uZWxTY2FsZVByb3BlcnR5SW5jb21wYXRhYmlsaXR5KGNoYW5uZWw6IENoYW5uZWwsIHByb3BOYW1lOiBrZXlvZiBTY2FsZSk6IHN0cmluZyB7XG4gIHN3aXRjaCAocHJvcE5hbWUpIHtcbiAgICBjYXNlICdpbnRlcnBvbGF0ZSc6XG4gICAgY2FzZSAnc2NoZW1lJzpcbiAgICAgIGlmICghaXNDb2xvckNoYW5uZWwoY2hhbm5lbCkpIHtcbiAgICAgICAgcmV0dXJuIGxvZy5tZXNzYWdlLmNhbm5vdFVzZVNjYWxlUHJvcGVydHlXaXRoTm9uQ29sb3IoY2hhbm5lbCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIGNhc2UgJ3R5cGUnOlxuICAgIGNhc2UgJ2RvbWFpbic6XG4gICAgY2FzZSAncmFuZ2UnOlxuICAgIGNhc2UgJ2Jhc2UnOlxuICAgIGNhc2UgJ2V4cG9uZW50JzpcbiAgICBjYXNlICduaWNlJzpcbiAgICBjYXNlICdwYWRkaW5nJzpcbiAgICBjYXNlICdwYWRkaW5nSW5uZXInOlxuICAgIGNhc2UgJ3BhZGRpbmdPdXRlcic6XG4gICAgY2FzZSAncmFuZ2VTdGVwJzpcbiAgICBjYXNlICdyZXZlcnNlJzpcbiAgICBjYXNlICdyb3VuZCc6XG4gICAgY2FzZSAnY2xhbXAnOlxuICAgIGNhc2UgJ3plcm8nOlxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDsgLy8gR09PRCFcbiAgfVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogaXQgc2hvdWxkIG5ldmVyIHJlYWNoIGhlcmUgKi9cbiAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHNjYWxlIHByb3BlcnR5IFwiJHtwcm9wTmFtZX1cIi5gKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNoYW5uZWxTdXBwb3J0U2NhbGVUeXBlKGNoYW5uZWw6IENoYW5uZWwsIHNjYWxlVHlwZTogU2NhbGVUeXBlKTogYm9vbGVhbiB7XG4gIHN3aXRjaCAoY2hhbm5lbCkge1xuICAgIGNhc2UgQ2hhbm5lbC5YOlxuICAgIGNhc2UgQ2hhbm5lbC5ZOlxuICAgIGNhc2UgQ2hhbm5lbC5TSVpFOiAvLyBUT0RPOiBzaXplIGFuZCBvcGFjaXR5IGNhbiBzdXBwb3J0IG9yZGluYWwgd2l0aCBtb3JlIG1vZGlmaWNhdGlvblxuICAgIGNhc2UgQ2hhbm5lbC5PUEFDSVRZOlxuICAgICAgLy8gQWx0aG91Z2ggaXQgZ2VuZXJhbGx5IGRvZXNuJ3QgbWFrZSBzZW5zZSB0byB1c2UgYmFuZCB3aXRoIHNpemUgYW5kIG9wYWNpdHksXG4gICAgICAvLyBpdCBjYW4gYWxzbyB3b3JrIHNpbmNlIHdlIHVzZSBiYW5kOiAwLjUgdG8gZ2V0IG1pZHBvaW50LlxuICAgICAgcmV0dXJuIGlzQ29udGludW91c1RvQ29udGludW91cyhzY2FsZVR5cGUpIHx8IGNvbnRhaW5zKFsnYmFuZCcsICdwb2ludCddLCBzY2FsZVR5cGUpO1xuXG4gICAgY2FzZSBDaGFubmVsLkNPTE9SOlxuICAgIGNhc2UgQ2hhbm5lbC5GSUxMOlxuICAgIGNhc2UgQ2hhbm5lbC5TVFJPS0U6XG4gICAgICByZXR1cm4gc2NhbGVUeXBlICE9PSAnYmFuZCc7ICAgIC8vIGJhbmQgZG9lcyBub3QgbWFrZSBzZW5zZSB3aXRoIGNvbG9yXG5cbiAgICBjYXNlIENoYW5uZWwuU0hBUEU6XG4gICAgICByZXR1cm4gc2NhbGVUeXBlID09PSAnb3JkaW5hbCc7IC8vIHNoYXBlID0gbG9va3VwIG9ubHlcbiAgfVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogaXQgc2hvdWxkIG5ldmVyIHJlYWNoIGhlcmUgKi9cbiAgcmV0dXJuIGZhbHNlO1xufVxuIl19","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar util_1 = require(\"./util\");\nexports.defaultLegendConfig = {};\nvar COMMON_LEGEND_PROPERTY_INDEX = {\n    entryPadding: 1,\n    format: 1,\n    offset: 1,\n    orient: 1,\n    padding: 1,\n    tickCount: 1,\n    title: 1,\n    type: 1,\n    values: 1,\n    zindex: 1\n};\nvar VG_LEGEND_PROPERTY_INDEX = tslib_1.__assign({}, COMMON_LEGEND_PROPERTY_INDEX, { \n    // channel scales\n    opacity: 1, shape: 1, stroke: 1, fill: 1, size: 1, \n    // encode\n    encode: 1 });\nexports.LEGEND_PROPERTIES = util_1.flagKeys(COMMON_LEGEND_PROPERTY_INDEX);\nexports.VG_LEGEND_PROPERTIES = util_1.flagKeys(VG_LEGEND_PROPERTY_INDEX);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGVnZW5kLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2xlZ2VuZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFFQSwrQkFBc0M7QUF3RXpCLFFBQUEsbUJBQW1CLEdBQWlCLEVBQUUsQ0FBQztBQUVwRCxJQUFNLDRCQUE0QixHQUFvQztJQUNwRSxZQUFZLEVBQUUsQ0FBQztJQUNmLE1BQU0sRUFBRSxDQUFDO0lBQ1QsTUFBTSxFQUFFLENBQUM7SUFDVCxNQUFNLEVBQUUsQ0FBQztJQUNULE9BQU8sRUFBRSxDQUFDO0lBQ1YsU0FBUyxFQUFFLENBQUM7SUFDWixLQUFLLEVBQUUsQ0FBQztJQUNSLElBQUksRUFBRSxDQUFDO0lBQ1AsTUFBTSxFQUFFLENBQUM7SUFDVCxNQUFNLEVBQUUsQ0FBQztDQUNWLENBQUM7QUFFRixJQUFNLHdCQUF3Qix3QkFDekIsNEJBQTRCO0lBQy9CLGlCQUFpQjtJQUNqQixPQUFPLEVBQUUsQ0FBQyxFQUNWLEtBQUssRUFBRSxDQUFDLEVBQ1IsTUFBTSxFQUFFLENBQUMsRUFDVCxJQUFJLEVBQUUsQ0FBQyxFQUNQLElBQUksRUFBRSxDQUFDO0lBQ1AsU0FBUztJQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1YsQ0FBQztBQUVXLFFBQUEsaUJBQWlCLEdBQUcsZUFBUSxDQUFDLDRCQUE0QixDQUFDLENBQUM7QUFFM0QsUUFBQSxvQkFBb0IsR0FBRyxlQUFRLENBQUMsd0JBQXdCLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7RGF0ZVRpbWV9IGZyb20gJy4vZGF0ZXRpbWUnO1xuaW1wb3J0IHtHdWlkZSwgR3VpZGVFbmNvZGluZ0VudHJ5LCBWbE9ubHlHdWlkZUNvbmZpZ30gZnJvbSAnLi9ndWlkZSc7XG5pbXBvcnQge0ZsYWcsIGZsYWdLZXlzfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IHtWZ0xlZ2VuZCwgVmdMZWdlbmRCYXNlLCBWZ0xlZ2VuZENvbmZpZ30gZnJvbSAnLi92ZWdhLnNjaGVtYSc7XG5cblxuZXhwb3J0IGludGVyZmFjZSBMZWdlbmRDb25maWcgZXh0ZW5kcyBWZ0xlZ2VuZENvbmZpZywgVmxPbmx5R3VpZGVDb25maWcge31cblxuLyoqXG4gKiBQcm9wZXJ0aWVzIG9mIGEgbGVnZW5kIG9yIGJvb2xlYW4gZmxhZyBmb3IgZGV0ZXJtaW5pbmcgd2hldGhlciB0byBzaG93IGl0LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIExlZ2VuZCBleHRlbmRzIFZnTGVnZW5kQmFzZSwgR3VpZGUge1xuICAvKipcbiAgICogTWFyayBkZWZpbml0aW9ucyBmb3IgY3VzdG9tIGxlZ2VuZCBlbmNvZGluZy5cbiAgICpcbiAgICogQGhpZGVcbiAgICovXG4gIGVuY29kaW5nPzogTGVnZW5kRW5jb2Rpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBkZXNpcmVkIG51bWJlciBvZiB0aWNrIHZhbHVlcyBmb3IgcXVhbnRpdGF0aXZlIGxlZ2VuZHMuXG4gICAqL1xuICB0aWNrQ291bnQ/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEV4cGxpY2l0bHkgc2V0IHRoZSB2aXNpYmxlIGxlZ2VuZCB2YWx1ZXMuXG4gICAqL1xuICB2YWx1ZXM/OiBudW1iZXJbXSB8IHN0cmluZ1tdIHwgRGF0ZVRpbWVbXTtcblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIGxlZ2VuZC4gVXNlIGBcInN5bWJvbFwiYCB0byBjcmVhdGUgYSBkaXNjcmV0ZSBsZWdlbmQgYW5kIGBcImdyYWRpZW50XCJgIGZvciBhIGNvbnRpbnVvdXMgY29sb3IgZ3JhZGllbnQuXG4gICAqXG4gICAqIF9fRGVmYXVsdCB2YWx1ZTpfXyBgXCJncmFkaWVudFwiYCBmb3Igbm9uLWJpbm5lZCBxdWFudGl0YXRpdmUgZmllbGRzIGFuZCB0ZW1wb3JhbCBmaWVsZHM7IGBcInN5bWJvbFwiYCBvdGhlcndpc2UuXG4gICAqL1xuICB0eXBlPzogJ3N5bWJvbCcgfCAnZ3JhZGllbnQnO1xuXG4gIC8qKlxuICAgKiBBIG5vbi1wb3NpdGl2ZSBpbnRlZ2VyIGluZGljYXRpbmcgei1pbmRleCBvZiB0aGUgbGVnZW5kLlxuICAgKiBJZiB6aW5kZXggaXMgMCwgbGVnZW5kIHNob3VsZCBiZSBkcmF3biBiZWhpbmQgYWxsIGNoYXJ0IGVsZW1lbnRzLlxuICAgKiBUbyBwdXQgdGhlbSBpbiBmcm9udCwgdXNlIHppbmRleCA9IDEuXG4gICAqIEBUSlMtdHlwZSBpbnRlZ2VyXG4gICAqIEBtaW5pbXVtIDBcbiAgICovXG4gIHppbmRleD86IG51bWJlcjtcbn1cblxuZXhwb3J0IHR5cGUgTGVnZW5kRW5jb2RpbmcgPSB7XG4gIC8qKlxuICAgKiBDdXN0b20gZW5jb2RpbmcgZm9yIHRoZSBsZWdlbmQgY29udGFpbmVyLlxuICAgKiBUaGlzIGNhbiBiZSB1c2VmdWwgZm9yIGNyZWF0aW5nIGxlZ2VuZCB3aXRoIGN1c3RvbSB4LCB5IHBvc2l0aW9uLlxuICAgKi9cbiAgbGVnZW5kPzogR3VpZGVFbmNvZGluZ0VudHJ5O1xuXG4gIC8qKlxuICAgKiBDdXN0b20gZW5jb2RpbmcgZm9yIHRoZSBsZWdlbmQgdGl0bGUgdGV4dCBtYXJrLlxuICAgKi9cbiAgdGl0bGU/OiBHdWlkZUVuY29kaW5nRW50cnk7XG5cbiAgLyoqXG4gICAqIEN1c3RvbSBlbmNvZGluZyBmb3IgbGVnZW5kIGxhYmVsIHRleHQgbWFya3MuXG4gICAqL1xuICBsYWJlbHM/OiBHdWlkZUVuY29kaW5nRW50cnk7XG5cbiAgLyoqXG4gICAqIEN1c3RvbSBlbmNvZGluZyBmb3IgbGVnZW5kIHN5bWJvbCBtYXJrcy5cbiAgICovXG4gIHN5bWJvbHM/OiBHdWlkZUVuY29kaW5nRW50cnk7XG5cbiAgLyoqXG4gICAqIEN1c3RvbSBlbmNvZGluZyBmb3IgbGVnZW5kIGdyYWRpZW50IGZpbGxlZCByZWN0IG1hcmtzLlxuICAgKi9cbiAgZ3JhZGllbnQ/OiBHdWlkZUVuY29kaW5nRW50cnk7XG59O1xuXG5leHBvcnQgY29uc3QgZGVmYXVsdExlZ2VuZENvbmZpZzogTGVnZW5kQ29uZmlnID0ge307XG5cbmNvbnN0IENPTU1PTl9MRUdFTkRfUFJPUEVSVFlfSU5ERVg6IEZsYWc8a2V5b2YgKFZnTGVnZW5kIHwgTGVnZW5kKT4gPSB7XG4gIGVudHJ5UGFkZGluZzogMSxcbiAgZm9ybWF0OiAxLFxuICBvZmZzZXQ6IDEsXG4gIG9yaWVudDogMSxcbiAgcGFkZGluZzogMSxcbiAgdGlja0NvdW50OiAxLFxuICB0aXRsZTogMSxcbiAgdHlwZTogMSxcbiAgdmFsdWVzOiAxLFxuICB6aW5kZXg6IDFcbn07XG5cbmNvbnN0IFZHX0xFR0VORF9QUk9QRVJUWV9JTkRFWDogRmxhZzxrZXlvZiBWZ0xlZ2VuZD4gPSB7XG4gIC4uLkNPTU1PTl9MRUdFTkRfUFJPUEVSVFlfSU5ERVgsXG4gIC8vIGNoYW5uZWwgc2NhbGVzXG4gIG9wYWNpdHk6IDEsXG4gIHNoYXBlOiAxLFxuICBzdHJva2U6IDEsXG4gIGZpbGw6IDEsXG4gIHNpemU6IDEsXG4gIC8vIGVuY29kZVxuICBlbmNvZGU6IDFcbn07XG5cbmV4cG9ydCBjb25zdCBMRUdFTkRfUFJPUEVSVElFUyA9IGZsYWdLZXlzKENPTU1PTl9MRUdFTkRfUFJPUEVSVFlfSU5ERVgpO1xuXG5leHBvcnQgY29uc3QgVkdfTEVHRU5EX1BST1BFUlRJRVMgPSBmbGFnS2V5cyhWR19MRUdFTkRfUFJPUEVSVFlfSU5ERVgpO1xuIl19","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar axis_1 = require(\"vega-lite/build/src/axis\");\nvar scale_1 = require(\"vega-lite/build/src/scale\");\nvar legend_1 = require(\"vega-lite/build/src/legend\");\nvar util_1 = require(\"vega-lite/build/src/util\");\nfunction isEncodingNestedProp(p) {\n    return !!p['parent'];\n}\nexports.isEncodingNestedProp = isEncodingNestedProp;\nvar ENCODING_TOPLEVEL_PROP_INDEX = {\n    channel: 1,\n    aggregate: 1, autoCount: 1, bin: 1, timeUnit: 1, hasFn: 1,\n    sort: 1, stack: 1,\n    field: 1, type: 1,\n    format: 1, scale: 1, axis: 1, legend: 1,\n    value: 1\n};\nexports.ENCODING_TOPLEVEL_PROPS = util_1.flagKeys(ENCODING_TOPLEVEL_PROP_INDEX);\nfunction isEncodingTopLevelProperty(p) {\n    return p in ENCODING_TOPLEVEL_PROP_INDEX;\n}\nexports.isEncodingTopLevelProperty = isEncodingTopLevelProperty;\nvar ENCODING_NESTED_PROP_PARENT_INDEX = {\n    bin: 1,\n    scale: 1,\n    sort: 1,\n    axis: 1,\n    legend: 1\n};\nfunction isEncodingNestedParent(prop) {\n    return ENCODING_NESTED_PROP_PARENT_INDEX[prop];\n}\nexports.isEncodingNestedParent = isEncodingNestedParent;\n// FIXME -- we should not have to manually specify these\nexports.BIN_CHILD_PROPS = ['maxbins', 'divide', 'extent', 'base', 'step', 'steps', 'minstep'];\nexports.SORT_CHILD_PROPS = ['field', 'op', 'order'];\nvar BIN_PROPS = exports.BIN_CHILD_PROPS.map(function (c) {\n    return { parent: 'bin', child: c };\n});\nexports.SORT_PROPS = exports.SORT_CHILD_PROPS.map(function (c) {\n    return { parent: 'sort', child: c };\n});\nexports.SCALE_PROPS = scale_1.SCALE_PROPERTIES.map(function (c) {\n    return { parent: 'scale', child: c };\n});\nvar AXIS_PROPS = axis_1.AXIS_PROPERTIES.map(function (c) {\n    return { parent: 'axis', child: c };\n});\nvar LEGEND_PROPS = legend_1.LEGEND_PROPERTIES.map(function (c) {\n    return { parent: 'legend', child: c };\n});\nexports.ENCODING_NESTED_PROPS = [].concat(BIN_PROPS, exports.SORT_PROPS, exports.SCALE_PROPS, AXIS_PROPS, LEGEND_PROPS);\nexports.VIEW_PROPS = ['width', 'height', 'background', 'padding', 'title'];\nvar PROP_KEY_DELIMITER = '.';\nfunction toKey(p) {\n    if (isEncodingNestedProp(p)) {\n        return p.parent + PROP_KEY_DELIMITER + p.child;\n    }\n    return p;\n}\nexports.toKey = toKey;\nfunction fromKey(k) {\n    var split = k.split(PROP_KEY_DELIMITER);\n    /* istanbul ignore else */\n    if (split.length === 1) {\n        return k;\n    }\n    else if (split.length === 2) {\n        return {\n            parent: split[0],\n            child: split[1]\n        };\n    }\n    else {\n        throw 'Invalid property key with ' + split.length + ' dots: ' + k;\n    }\n}\nexports.fromKey = fromKey;\nvar ENCODING_NESTED_PROP_INDEX = exports.ENCODING_NESTED_PROPS.reduce(function (i, prop) {\n    i[prop.parent] = i[prop.parent] || [];\n    i[prop.parent][prop.child] = prop;\n    return i;\n}, {});\n// FIXME consider using a more general method\nfunction getEncodingNestedProp(parent, child) {\n    return (ENCODING_NESTED_PROP_INDEX[parent] || {})[child];\n}\nexports.getEncodingNestedProp = getEncodingNestedProp;\nfunction isEncodingProperty(p) {\n    return isEncodingTopLevelProperty(p) || isEncodingNestedProp(p);\n}\nexports.isEncodingProperty = isEncodingProperty;\nexports.ALL_ENCODING_PROPS = [].concat(exports.ENCODING_TOPLEVEL_PROPS, exports.ENCODING_NESTED_PROPS);\nexports.DEFAULT_PROP_PRECEDENCE = [\n    'type',\n    'field',\n    // Field Transform\n    'bin', 'timeUnit', 'aggregate', 'autoCount',\n    // Encoding\n    'channel',\n    // Mark\n    'mark', 'stack',\n    'scale', 'sort',\n    'axis', 'legend',\n].concat(BIN_PROPS, exports.SCALE_PROPS, AXIS_PROPS, LEGEND_PROPS, exports.SORT_PROPS);\nvar Property;\n(function (Property) {\n    Property.MARK = 'mark';\n    Property.TRANSFORM = 'transform';\n    // Layout\n    Property.STACK = 'stack';\n    Property.FORMAT = 'format';\n    // TODO: sub parts of stack\n    // Encoding Properties\n    Property.CHANNEL = 'channel';\n    Property.AGGREGATE = 'aggregate';\n    Property.AUTOCOUNT = 'autoCount';\n    Property.BIN = 'bin';\n    Property.HAS_FN = 'hasFn';\n    Property.TIMEUNIT = 'timeUnit';\n    Property.FIELD = 'field';\n    Property.TYPE = 'type';\n    Property.SORT = 'sort';\n    Property.SCALE = 'scale';\n    Property.AXIS = 'axis';\n    Property.LEGEND = 'legend';\n    Property.WIDTH = 'width';\n    Property.HEIGHT = 'height';\n    Property.BACKGROUND = 'background';\n    Property.PADDING = 'padding';\n    Property.TITLE = 'title';\n})(Property = exports.Property || (exports.Property = {}));\n//# sourceMappingURL=property.js.map","var u = module.exports;\n\n// utility functions\n\nvar FNAME = '__name__';\n\nu.namedfunc = function(name, f) { return (f[FNAME] = name, f); };\n\nu.name = function(f) { return f==null ? null : f[FNAME]; };\n\nu.identity = function(x) { return x; };\n\nu.true = u.namedfunc('true', function() { return true; });\n\nu.false = u.namedfunc('false', function() { return false; });\n\nu.duplicate = function(obj) {\n  return JSON.parse(JSON.stringify(obj));\n};\n\nu.equal = function(a, b) {\n  return JSON.stringify(a) === JSON.stringify(b);\n};\n\nu.extend = function(obj) {\n  for (var x, name, i=1, len=arguments.length; i<len; ++i) {\n    x = arguments[i];\n    for (name in x) { obj[name] = x[name]; }\n  }\n  return obj;\n};\n\nu.length = function(x) {\n  return x != null && x.length != null ? x.length : null;\n};\n\nu.keys = function(x) {\n  var keys = [], k;\n  for (k in x) keys.push(k);\n  return keys;\n};\n\nu.vals = function(x) {\n  var vals = [], k;\n  for (k in x) vals.push(x[k]);\n  return vals;\n};\n\nu.toMap = function(list, f) {\n  return (f = u.$(f)) ?\n    list.reduce(function(obj, x) { return (obj[f(x)] = 1, obj); }, {}) :\n    list.reduce(function(obj, x) { return (obj[x] = 1, obj); }, {});\n};\n\nu.keystr = function(values) {\n  // use to ensure consistent key generation across modules\n  var n = values.length;\n  if (!n) return '';\n  for (var s=String(values[0]), i=1; i<n; ++i) {\n    s += '|' + String(values[i]);\n  }\n  return s;\n};\n\n// type checking functions\n\nvar toString = Object.prototype.toString;\n\nu.isObject = function(obj) {\n  return obj === Object(obj);\n};\n\nu.isFunction = function(obj) {\n  return toString.call(obj) === '[object Function]';\n};\n\nu.isString = function(obj) {\n  return typeof value === 'string' || toString.call(obj) === '[object String]';\n};\n\nu.isArray = Array.isArray || function(obj) {\n  return toString.call(obj) === '[object Array]';\n};\n\nu.isNumber = function(obj) {\n  return typeof obj === 'number' || toString.call(obj) === '[object Number]';\n};\n\nu.isBoolean = function(obj) {\n  return obj === true || obj === false || toString.call(obj) == '[object Boolean]';\n};\n\nu.isDate = function(obj) {\n  return toString.call(obj) === '[object Date]';\n};\n\nu.isValid = function(obj) {\n  return obj != null && obj === obj;\n};\n\nu.isBuffer = (typeof Buffer === 'function' && Buffer.isBuffer) || u.false;\n\n// type coercion functions\n\nu.number = function(s) {\n  return s == null || s === '' ? null : +s;\n};\n\nu.boolean = function(s) {\n  return s == null || s === '' ? null : s==='false' ? false : !!s;\n};\n\n// parse a date with optional d3.time-format format\nu.date = function(s, format) {\n  var d = format ? format : Date;\n  return s == null || s === '' ? null : d.parse(s);\n};\n\nu.array = function(x) {\n  return x != null ? (u.isArray(x) ? x : [x]) : [];\n};\n\nu.str = function(x) {\n  return u.isArray(x) ? '[' + x.map(u.str) + ']'\n    : u.isObject(x) || u.isString(x) ?\n      // Output valid JSON and JS source strings.\n      // See http://timelessrepo.com/json-isnt-a-javascript-subset\n      JSON.stringify(x).replace('\\u2028','\\\\u2028').replace('\\u2029', '\\\\u2029')\n    : x;\n};\n\n// data access functions\n\nvar field_re = /\\[(.*?)\\]|[^.\\[]+/g;\n\nu.field = function(f) {\n  return String(f).match(field_re).map(function(d) {\n    return d[0] !== '[' ? d :\n      d[1] !== \"'\" && d[1] !== '\"' ? d.slice(1, -1) :\n      d.slice(2, -2).replace(/\\\\([\"'])/g, '$1');\n  });\n};\n\nu.accessor = function(f) {\n  /* jshint evil: true */\n  return f==null || u.isFunction(f) ? f :\n    u.namedfunc(f, Function('x', 'return x[' + u.field(f).map(u.str).join('][') + '];'));\n};\n\n// short-cut for accessor\nu.$ = u.accessor;\n\nu.mutator = function(f) {\n  var s;\n  return u.isString(f) && (s=u.field(f)).length > 1 ?\n    function(x, v) {\n      for (var i=0; i<s.length-1; ++i) x = x[s[i]];\n      x[s[i]] = v;\n    } :\n    function(x, v) { x[f] = v; };\n};\n\n\nu.$func = function(name, op) {\n  return function(f) {\n    f = u.$(f) || u.identity;\n    var n = name + (u.name(f) ? '_'+u.name(f) : '');\n    return u.namedfunc(n, function(d) { return op(f(d)); });\n  };\n};\n\nu.$valid  = u.$func('valid', u.isValid);\nu.$length = u.$func('length', u.length);\n\nu.$in = function(f, values) {\n  f = u.$(f);\n  var map = u.isArray(values) ? u.toMap(values) : values;\n  return function(d) { return !!map[f(d)]; };\n};\n\n// comparison / sorting functions\n\nu.comparator = function(sort) {\n  var sign = [];\n  if (sort === undefined) sort = [];\n  sort = u.array(sort).map(function(f) {\n    var s = 1;\n    if      (f[0] === '-') { s = -1; f = f.slice(1); }\n    else if (f[0] === '+') { s = +1; f = f.slice(1); }\n    sign.push(s);\n    return u.accessor(f);\n  });\n  return function(a, b) {\n    var i, n, f, c;\n    for (i=0, n=sort.length; i<n; ++i) {\n      f = sort[i];\n      c = u.cmp(f(a), f(b));\n      if (c) return c * sign[i];\n    }\n    return 0;\n  };\n};\n\nu.cmp = function(a, b) {\n  return (a < b || a == null) && b != null ? -1 :\n    (a > b || b == null) && a != null ? 1 :\n    ((b = b instanceof Date ? +b : b),\n     (a = a instanceof Date ? +a : a)) !== a && b === b ? -1 :\n    b !== b && a === a ? 1 : 0;\n};\n\nu.numcmp = function(a, b) { return a - b; };\n\nu.stablesort = function(array, sortBy, keyFn) {\n  var indices = array.reduce(function(idx, v, i) {\n    return (idx[keyFn(v)] = i, idx);\n  }, {});\n\n  array.sort(function(a, b) {\n    var sa = sortBy(a),\n        sb = sortBy(b);\n    return sa < sb ? -1 : sa > sb ? 1\n         : (indices[keyFn(a)] - indices[keyFn(b)]);\n  });\n\n  return array;\n};\n\n// permutes an array using a Knuth shuffle\nu.permute = function(a) {\n  var m = a.length,\n      swap,\n      i;\n\n  while (m) {\n    i = Math.floor(Math.random() * m--);\n    swap = a[m];\n    a[m] = a[i];\n    a[i] = swap;\n  }\n};\n\n// string functions\n\nu.pad = function(s, length, pos, padchar) {\n  padchar = padchar || \" \";\n  var d = length - s.length;\n  if (d <= 0) return s;\n  switch (pos) {\n    case 'left':\n      return strrep(d, padchar) + s;\n    case 'middle':\n    case 'center':\n      return strrep(Math.floor(d/2), padchar) +\n         s + strrep(Math.ceil(d/2), padchar);\n    default:\n      return s + strrep(d, padchar);\n  }\n};\n\nfunction strrep(n, str) {\n  var s = \"\", i;\n  for (i=0; i<n; ++i) s += str;\n  return s;\n}\n\nu.truncate = function(s, length, pos, word, ellipsis) {\n  var len = s.length;\n  if (len <= length) return s;\n  ellipsis = ellipsis !== undefined ? String(ellipsis) : '\\u2026';\n  var l = Math.max(0, length - ellipsis.length);\n\n  switch (pos) {\n    case 'left':\n      return ellipsis + (word ? truncateOnWord(s,l,1) : s.slice(len-l));\n    case 'middle':\n    case 'center':\n      var l1 = Math.ceil(l/2), l2 = Math.floor(l/2);\n      return (word ? truncateOnWord(s,l1) : s.slice(0,l1)) +\n        ellipsis + (word ? truncateOnWord(s,l2,1) : s.slice(len-l2));\n    default:\n      return (word ? truncateOnWord(s,l) : s.slice(0,l)) + ellipsis;\n  }\n};\n\nfunction truncateOnWord(s, len, rev) {\n  var cnt = 0, tok = s.split(truncate_word_re);\n  if (rev) {\n    s = (tok = tok.reverse())\n      .filter(function(w) { cnt += w.length; return cnt <= len; })\n      .reverse();\n  } else {\n    s = tok.filter(function(w) { cnt += w.length; return cnt <= len; });\n  }\n  return s.length ? s.join('').trim() : tok[0].slice(0, len);\n}\n\nvar truncate_word_re = /([\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u2028\\u2029\\u3000\\uFEFF])/;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"datalib/src/util\");\nexports.isArray = util_1.isArray;\nvar util_2 = require(\"datalib/src/util\");\nexports.cmp = util_2.cmp;\nexports.keys = util_2.keys;\nexports.duplicate = util_2.duplicate;\nexports.extend = util_2.extend;\nexports.isObject = util_2.isObject;\nexports.isBoolean = util_2.isBoolean;\nexports.toMap = util_2.toMap;\nfunction contains(array, item) {\n    return array.indexOf(item) !== -1;\n}\nexports.contains = contains;\n;\nfunction every(arr, f) {\n    for (var i = 0; i < arr.length; i++) {\n        if (!f(arr[i], i)) {\n            return false;\n        }\n    }\n    return true;\n}\nexports.every = every;\n;\nfunction forEach(obj, f, thisArg) {\n    if (obj.forEach) {\n        obj.forEach.call(thisArg, f);\n    }\n    else {\n        for (var k in obj) {\n            f.call(thisArg, obj[k], k, obj);\n        }\n    }\n}\nexports.forEach = forEach;\n;\nfunction some(arr, f) {\n    var i = 0, k;\n    for (k in arr) {\n        if (f(arr[k], k, i++)) {\n            return true;\n        }\n    }\n    return false;\n}\nexports.some = some;\n;\nfunction nestedMap(array, f) {\n    return array.map(function (a) {\n        if (util_1.isArray(a)) {\n            return nestedMap(a, f);\n        }\n        return f(a);\n    });\n}\nexports.nestedMap = nestedMap;\n/** Returns the array without the elements in item */\nfunction without(array, excludedItems) {\n    return array.filter(function (item) {\n        return !contains(excludedItems, item);\n    });\n}\nexports.without = without;\n//# sourceMappingURL=util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar vega_util_1 = require(\"vega-util\");\nvar util_1 = require(\"./util\");\nvar Mark;\n(function (Mark) {\n    Mark.AREA = 'area';\n    Mark.BAR = 'bar';\n    Mark.LINE = 'line';\n    Mark.POINT = 'point';\n    Mark.RECT = 'rect';\n    Mark.RULE = 'rule';\n    Mark.TEXT = 'text';\n    Mark.TICK = 'tick';\n    Mark.TRAIL = 'trail';\n    Mark.CIRCLE = 'circle';\n    Mark.SQUARE = 'square';\n    Mark.GEOSHAPE = 'geoshape';\n})(Mark = exports.Mark || (exports.Mark = {}));\nexports.AREA = Mark.AREA;\nexports.BAR = Mark.BAR;\nexports.LINE = Mark.LINE;\nexports.POINT = Mark.POINT;\nexports.TEXT = Mark.TEXT;\nexports.TICK = Mark.TICK;\nexports.TRAIL = Mark.TRAIL;\nexports.RECT = Mark.RECT;\nexports.RULE = Mark.RULE;\nexports.GEOSHAPE = Mark.GEOSHAPE;\nexports.CIRCLE = Mark.CIRCLE;\nexports.SQUARE = Mark.SQUARE;\n// Using mapped type to declare index, ensuring we always have all marks when we add more.\nvar MARK_INDEX = {\n    area: 1,\n    bar: 1,\n    line: 1,\n    point: 1,\n    text: 1,\n    tick: 1,\n    trail: 1,\n    rect: 1,\n    geoshape: 1,\n    rule: 1,\n    circle: 1,\n    square: 1\n};\nfunction isMark(m) {\n    return !!MARK_INDEX[m];\n}\nexports.isMark = isMark;\nfunction isPathMark(m) {\n    return util_1.contains(['line', 'area', 'trail'], m);\n}\nexports.isPathMark = isPathMark;\nexports.PRIMITIVE_MARKS = util_1.flagKeys(MARK_INDEX);\nfunction isMarkDef(mark) {\n    return mark['type'];\n}\nexports.isMarkDef = isMarkDef;\nvar PRIMITIVE_MARK_INDEX = vega_util_1.toSet(exports.PRIMITIVE_MARKS);\nfunction isPrimitiveMark(mark) {\n    var markType = isMarkDef(mark) ? mark.type : mark;\n    return markType in PRIMITIVE_MARK_INDEX;\n}\nexports.isPrimitiveMark = isPrimitiveMark;\nexports.STROKE_CONFIG = ['stroke', 'strokeWidth',\n    'strokeDash', 'strokeDashOffset', 'strokeOpacity'];\nexports.FILL_CONFIG = ['fill', 'fillOpacity'];\nexports.FILL_STROKE_CONFIG = [].concat(exports.STROKE_CONFIG, exports.FILL_CONFIG);\nexports.VL_ONLY_MARK_CONFIG_PROPERTIES = ['filled', 'color'];\nexports.VL_ONLY_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX = {\n    area: ['line', 'point'],\n    bar: ['binSpacing', 'continuousBandSize', 'discreteBandSize'],\n    line: ['point'],\n    text: ['shortTimeLabels'],\n    tick: ['bandSize', 'thickness']\n};\nexports.defaultMarkConfig = {\n    color: '#4c78a8',\n};\nexports.defaultBarConfig = {\n    binSpacing: 1,\n    continuousBandSize: 5\n};\nexports.defaultTickConfig = {\n    thickness: 1\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFyay5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9tYXJrLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsdUNBQWdDO0FBRWhDLCtCQUEwQztBQUcxQyxJQUFpQixJQUFJLENBYXBCO0FBYkQsV0FBaUIsSUFBSTtJQUNOLFNBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsUUFBRyxHQUFVLEtBQUssQ0FBQztJQUNuQixTQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ3RCLFVBQUssR0FBWSxPQUFPLENBQUM7SUFDekIsU0FBSSxHQUFXLE1BQU0sQ0FBQztJQUN0QixTQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ3RCLFNBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsU0FBSSxHQUFXLE1BQU0sQ0FBQztJQUN0QixVQUFLLEdBQVksT0FBTyxDQUFDO0lBQ3pCLFdBQU0sR0FBYSxRQUFRLENBQUM7SUFDNUIsV0FBTSxHQUFhLFFBQVEsQ0FBQztJQUM1QixhQUFRLEdBQWUsVUFBVSxDQUFDO0FBQ2pELENBQUMsRUFiZ0IsSUFBSSxHQUFKLFlBQUksS0FBSixZQUFJLFFBYXBCO0FBUVksUUFBQSxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztBQUNqQixRQUFBLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDO0FBQ2YsUUFBQSxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztBQUNqQixRQUFBLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO0FBQ25CLFFBQUEsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7QUFDakIsUUFBQSxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztBQUNqQixRQUFBLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO0FBQ25CLFFBQUEsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7QUFDakIsUUFBQSxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztBQUNqQixRQUFBLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO0FBRXpCLFFBQUEsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7QUFDckIsUUFBQSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztBQUVsQywwRkFBMEY7QUFDMUYsSUFBTSxVQUFVLEdBQXFCO0lBQ25DLElBQUksRUFBRSxDQUFDO0lBQ1AsR0FBRyxFQUFFLENBQUM7SUFDTixJQUFJLEVBQUUsQ0FBQztJQUNQLEtBQUssRUFBRSxDQUFDO0lBQ1IsSUFBSSxFQUFFLENBQUM7SUFDUCxJQUFJLEVBQUUsQ0FBQztJQUNQLEtBQUssRUFBRSxDQUFDO0lBQ1IsSUFBSSxFQUFFLENBQUM7SUFDUCxRQUFRLEVBQUUsQ0FBQztJQUNYLElBQUksRUFBRSxDQUFDO0lBQ1AsTUFBTSxFQUFFLENBQUM7SUFDVCxNQUFNLEVBQUUsQ0FBQztDQUNWLENBQUM7QUFFRixnQkFBdUIsQ0FBUztJQUM5QixPQUFPLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDekIsQ0FBQztBQUZELHdCQUVDO0FBRUQsb0JBQTJCLENBQXVCO0lBQ2hELE9BQU8sZUFBUSxDQUFDLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUNoRCxDQUFDO0FBRkQsZ0NBRUM7QUFFWSxRQUFBLGVBQWUsR0FBRyxlQUFRLENBQUMsVUFBVSxDQUFDLENBQUM7QUE4RHBELG1CQUEwQixJQUFhO0lBQ3JDLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ3RCLENBQUM7QUFGRCw4QkFFQztBQUVELElBQU0sb0JBQW9CLEdBQUcsaUJBQUssQ0FBQyx1QkFBZSxDQUFDLENBQUM7QUFFcEQseUJBQWdDLElBQXVEO0lBQ3JGLElBQU0sUUFBUSxHQUFHLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO0lBQ3BELE9BQU8sUUFBUSxJQUFJLG9CQUFvQixDQUFDO0FBQzFDLENBQUM7QUFIRCwwQ0FHQztBQUVZLFFBQUEsYUFBYSxHQUFHLENBQUMsUUFBUSxFQUFFLGFBQWE7SUFDbkQsWUFBWSxFQUFFLGtCQUFrQixFQUFFLGVBQWUsQ0FBQyxDQUFDO0FBRXhDLFFBQUEsV0FBVyxHQUFHLENBQUMsTUFBTSxFQUFFLGFBQWEsQ0FBQyxDQUFDO0FBRXRDLFFBQUEsa0JBQWtCLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxxQkFBYSxFQUFFLG1CQUFXLENBQUMsQ0FBQztBQUUzRCxRQUFBLDhCQUE4QixHQUF5QixDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUMsQ0FBQztBQUUzRSxRQUFBLDJDQUEyQyxHQUVwRDtJQUNGLElBQUksRUFBRSxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUM7SUFDdkIsR0FBRyxFQUFFLENBQUMsWUFBWSxFQUFFLG9CQUFvQixFQUFFLGtCQUFrQixDQUFDO0lBQzdELElBQUksRUFBRSxDQUFDLE9BQU8sQ0FBQztJQUNmLElBQUksRUFBRSxDQUFDLGlCQUFpQixDQUFDO0lBQ3pCLElBQUksRUFBRSxDQUFDLFVBQVUsRUFBRSxXQUFXLENBQUM7Q0FDaEMsQ0FBQztBQUVXLFFBQUEsaUJBQWlCLEdBQWU7SUFDM0MsS0FBSyxFQUFFLFNBQVM7Q0FDakIsQ0FBQztBQTJHVyxRQUFBLGdCQUFnQixHQUFjO0lBQ3pDLFVBQVUsRUFBRSxDQUFDO0lBQ2Isa0JBQWtCLEVBQUUsQ0FBQztDQUN0QixDQUFDO0FBNEJXLFFBQUEsaUJBQWlCLEdBQWU7SUFDM0MsU0FBUyxFQUFFLENBQUM7Q0FDYixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHt0b1NldH0gZnJvbSAndmVnYS11dGlsJztcbmltcG9ydCB7Q29tcG9zaXRlTWFyaywgQ29tcG9zaXRlTWFya0RlZn0gZnJvbSAnLi9jb21wb3NpdGVtYXJrL2luZGV4JztcbmltcG9ydCB7Y29udGFpbnMsIGZsYWdLZXlzfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IHtWZ01hcmtDb25maWd9IGZyb20gJy4vdmVnYS5zY2hlbWEnO1xuXG5leHBvcnQgbmFtZXNwYWNlIE1hcmsge1xuICBleHBvcnQgY29uc3QgQVJFQTogJ2FyZWEnID0gJ2FyZWEnO1xuICBleHBvcnQgY29uc3QgQkFSOiAnYmFyJyA9ICdiYXInO1xuICBleHBvcnQgY29uc3QgTElORTogJ2xpbmUnID0gJ2xpbmUnO1xuICBleHBvcnQgY29uc3QgUE9JTlQ6ICdwb2ludCcgPSAncG9pbnQnO1xuICBleHBvcnQgY29uc3QgUkVDVDogJ3JlY3QnID0gJ3JlY3QnO1xuICBleHBvcnQgY29uc3QgUlVMRTogJ3J1bGUnID0gJ3J1bGUnO1xuICBleHBvcnQgY29uc3QgVEVYVDogJ3RleHQnID0gJ3RleHQnO1xuICBleHBvcnQgY29uc3QgVElDSzogJ3RpY2snID0gJ3RpY2snO1xuICBleHBvcnQgY29uc3QgVFJBSUw6ICd0cmFpbCcgPSAndHJhaWwnO1xuICBleHBvcnQgY29uc3QgQ0lSQ0xFOiAnY2lyY2xlJyA9ICdjaXJjbGUnO1xuICBleHBvcnQgY29uc3QgU1FVQVJFOiAnc3F1YXJlJyA9ICdzcXVhcmUnO1xuICBleHBvcnQgY29uc3QgR0VPU0hBUEU6ICdnZW9zaGFwZScgPSAnZ2Vvc2hhcGUnO1xufVxuXG4vKipcbiAqIEFsbCB0eXBlcyBvZiBwcmltaXRpdmUgbWFya3MuXG4gKi9cbmV4cG9ydCB0eXBlIE1hcmsgPSB0eXBlb2YgTWFyay5BUkVBIHwgdHlwZW9mIE1hcmsuQkFSIHwgdHlwZW9mIE1hcmsuTElORSB8IHR5cGVvZiBNYXJrLlRSQUlMIHwgdHlwZW9mIE1hcmsuUE9JTlQgfCB0eXBlb2YgTWFyay5URVhUIHwgdHlwZW9mIE1hcmsuVElDSyB8IHR5cGVvZiBNYXJrLlJFQ1QgfCB0eXBlb2YgTWFyay5SVUxFIHwgdHlwZW9mIE1hcmsuQ0lSQ0xFIHwgdHlwZW9mIE1hcmsuU1FVQVJFIHwgdHlwZW9mIE1hcmsuR0VPU0hBUEU7XG5cblxuZXhwb3J0IGNvbnN0IEFSRUEgPSBNYXJrLkFSRUE7XG5leHBvcnQgY29uc3QgQkFSID0gTWFyay5CQVI7XG5leHBvcnQgY29uc3QgTElORSA9IE1hcmsuTElORTtcbmV4cG9ydCBjb25zdCBQT0lOVCA9IE1hcmsuUE9JTlQ7XG5leHBvcnQgY29uc3QgVEVYVCA9IE1hcmsuVEVYVDtcbmV4cG9ydCBjb25zdCBUSUNLID0gTWFyay5USUNLO1xuZXhwb3J0IGNvbnN0IFRSQUlMID0gTWFyay5UUkFJTDtcbmV4cG9ydCBjb25zdCBSRUNUID0gTWFyay5SRUNUO1xuZXhwb3J0IGNvbnN0IFJVTEUgPSBNYXJrLlJVTEU7XG5leHBvcnQgY29uc3QgR0VPU0hBUEUgPSBNYXJrLkdFT1NIQVBFO1xuXG5leHBvcnQgY29uc3QgQ0lSQ0xFID0gTWFyay5DSVJDTEU7XG5leHBvcnQgY29uc3QgU1FVQVJFID0gTWFyay5TUVVBUkU7XG5cbi8vIFVzaW5nIG1hcHBlZCB0eXBlIHRvIGRlY2xhcmUgaW5kZXgsIGVuc3VyaW5nIHdlIGFsd2F5cyBoYXZlIGFsbCBtYXJrcyB3aGVuIHdlIGFkZCBtb3JlLlxuY29uc3QgTUFSS19JTkRFWDoge1tNIGluIE1hcmtdOiAxfSA9IHtcbiAgYXJlYTogMSxcbiAgYmFyOiAxLFxuICBsaW5lOiAxLFxuICBwb2ludDogMSxcbiAgdGV4dDogMSxcbiAgdGljazogMSxcbiAgdHJhaWw6IDEsXG4gIHJlY3Q6IDEsXG4gIGdlb3NoYXBlOiAxLFxuICBydWxlOiAxLFxuICBjaXJjbGU6IDEsXG4gIHNxdWFyZTogMVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzTWFyayhtOiBzdHJpbmcpOiBtIGlzIE1hcmsge1xuICByZXR1cm4gISFNQVJLX0lOREVYW21dO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNQYXRoTWFyayhtOiBNYXJrIHwgQ29tcG9zaXRlTWFyayk6IG0gaXMgJ2xpbmUnIHwgJ2FyZWEnIHwgJ3RyYWlsJyB7XG4gIHJldHVybiBjb250YWlucyhbJ2xpbmUnLCAnYXJlYScsICd0cmFpbCddLCBtKTtcbn1cblxuZXhwb3J0IGNvbnN0IFBSSU1JVElWRV9NQVJLUyA9IGZsYWdLZXlzKE1BUktfSU5ERVgpO1xuXG5cbmV4cG9ydCBpbnRlcmZhY2UgTWFya0NvbmZpZyBleHRlbmRzIFZnTWFya0NvbmZpZyB7XG4gIC8vIC0tLS0tLS0tLS0gQ29sb3IgLS0tLS0tLS0tLVxuICAvKipcbiAgICogV2hldGhlciB0aGUgbWFyaydzIGNvbG9yIHNob3VsZCBiZSB1c2VkIGFzIGZpbGwgY29sb3IgaW5zdGVhZCBvZiBzdHJva2UgY29sb3IuXG4gICAqXG4gICAqIF9fRGVmYXVsdCB2YWx1ZTpfXyBgdHJ1ZWAgZm9yIGFsbCBtYXJrcyBleGNlcHQgYHBvaW50YCBhbmQgYGZhbHNlYCBmb3IgYHBvaW50YC5cbiAgICpcbiAgICogX19BcHBsaWNhYmxlIGZvcjpfXyBgYmFyYCwgYHBvaW50YCwgYGNpcmNsZWAsIGBzcXVhcmVgLCBhbmQgYGFyZWFgIG1hcmtzLlxuICAgKlxuICAgKiBfX05vdGU6X18gVGhpcyBwcm9wZXJ0eSBjYW5ub3QgYmUgdXNlZCBpbiBhIFtzdHlsZSBjb25maWddKG1hcmsuaHRtbCNzdHlsZS1jb25maWcpLlxuICAgKlxuICAgKi9cbiAgZmlsbGVkPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogRGVmYXVsdCBjb2xvci4gIE5vdGUgdGhhdCBgZmlsbGAgYW5kIGBzdHJva2VgIGhhdmUgaGlnaGVyIHByZWNlZGVuY2UgdGhhbiBgY29sb3JgIGFuZCB3aWxsIG92ZXJyaWRlIGBjb2xvcmAuXG4gICAqXG4gICAqIF9fRGVmYXVsdCB2YWx1ZTpfXyA8c3BhbiBzdHlsZT1cImNvbG9yOiAjNDY4MmI0O1wiPiYjOTYzMjs8L3NwYW4+IGBcIiM0NjgyYjRcImBcbiAgICpcbiAgICogX19Ob3RlOl9fIFRoaXMgcHJvcGVydHkgY2Fubm90IGJlIHVzZWQgaW4gYSBbc3R5bGUgY29uZmlnXShtYXJrLmh0bWwjc3R5bGUtY29uZmlnKS5cbiAgICovXG4gIGNvbG9yPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJhckJpblNwYWNpbmdNaXhpbnMge1xuICAvKipcbiAgICogT2Zmc2V0IGJldHdlZW4gYmFycyBmb3IgYmlubmVkIGZpZWxkLiAgSWRlYWwgdmFsdWUgZm9yIHRoaXMgaXMgZWl0aGVyIDAgKFByZWZlcnJlZCBieSBzdGF0aXN0aWNpYW5zKSBvciAxIChWZWdhLUxpdGUgRGVmYXVsdCwgRDMgZXhhbXBsZSBzdHlsZSkuXG4gICAqXG4gICAqIF9fRGVmYXVsdCB2YWx1ZTpfXyBgMWBcbiAgICpcbiAgICogQG1pbmltdW0gMFxuICAgKi9cbiAgYmluU3BhY2luZz86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNYXJrUHJvcGVydGllcyBleHRlbmRzIEJhckJpblNwYWNpbmdNaXhpbnMsIE1hcmtDb25maWcge1xuICAvKipcbiAgICpcbiAgICogQSBzdHJpbmcgb3IgYXJyYXkgb2Ygc3RyaW5ncyBpbmRpY2F0aW5nIHRoZSBuYW1lIG9mIGN1c3RvbSBzdHlsZXMgdG8gYXBwbHkgdG8gdGhlIG1hcmsuIEEgc3R5bGUgaXMgYSBuYW1lZCBjb2xsZWN0aW9uIG9mIG1hcmsgcHJvcGVydHkgZGVmYXVsdHMgZGVmaW5lZCB3aXRoaW4gdGhlIFtzdHlsZSBjb25maWd1cmF0aW9uXShtYXJrLmh0bWwjc3R5bGUtY29uZmlnKS4gSWYgc3R5bGUgaXMgYW4gYXJyYXksIGxhdGVyIHN0eWxlcyB3aWxsIG92ZXJyaWRlIGVhcmxpZXIgc3R5bGVzLiBBbnkgW21hcmsgcHJvcGVydGllc10oZW5jb2RpbmcuaHRtbCNtYXJrLXByb3ApIGV4cGxpY2l0bHkgZGVmaW5lZCB3aXRoaW4gdGhlIGBlbmNvZGluZ2Agd2lsbCBvdmVycmlkZSBhIHN0eWxlIGRlZmF1bHQuXG4gICAqXG4gICAqIF9fRGVmYXVsdCB2YWx1ZTpfXyBUaGUgbWFyaydzIG5hbWUuICBGb3IgZXhhbXBsZSwgYSBiYXIgbWFyayB3aWxsIGhhdmUgc3R5bGUgYFwiYmFyXCJgIGJ5IGRlZmF1bHQuXG4gICAqIF9fTm90ZTpfXyBBbnkgc3BlY2lmaWVkIHN0eWxlIHdpbGwgYXVnbWVudCB0aGUgZGVmYXVsdCBzdHlsZS4gRm9yIGV4YW1wbGUsIGEgYmFyIG1hcmsgd2l0aCBgXCJzdHlsZVwiOiBcImZvb1wiYCB3aWxsIHJlY2VpdmUgZnJvbSBgY29uZmlnLnN0eWxlLmJhcmAgYW5kIGBjb25maWcuc3R5bGUuZm9vYCAodGhlIHNwZWNpZmllZCBzdHlsZSBgXCJmb29cImAgaGFzIGhpZ2hlciBwcmVjZWRlbmNlKS5cbiAgICovXG4gIHN0eWxlPzogc3RyaW5nIHwgc3RyaW5nW107XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgYSBtYXJrIGJlIGNsaXBwZWQgdG8gdGhlIGVuY2xvc2luZyBncm91cOKAmXMgd2lkdGggYW5kIGhlaWdodC5cbiAgICovXG4gIGNsaXA/OiBib29sZWFuO1xufVxuXG4vKiogQGhpZGUgKi9cbmV4cG9ydCB0eXBlIEhpZGRlbkNvbXBvc2l0ZSA9IENvbXBvc2l0ZU1hcmsgfCBDb21wb3NpdGVNYXJrRGVmO1xuXG5leHBvcnQgdHlwZSBBbnlNYXJrID1cbiAgSGlkZGVuQ29tcG9zaXRlIHxcbiAgTWFyayB8XG4gIE1hcmtEZWY7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc01hcmtEZWYobWFyazogQW55TWFyayk6IG1hcmsgaXMgKE1hcmtEZWYgfCBDb21wb3NpdGVNYXJrRGVmKSB7XG4gIHJldHVybiBtYXJrWyd0eXBlJ107XG59XG5cbmNvbnN0IFBSSU1JVElWRV9NQVJLX0lOREVYID0gdG9TZXQoUFJJTUlUSVZFX01BUktTKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzUHJpbWl0aXZlTWFyayhtYXJrOiBDb21wb3NpdGVNYXJrIHwgQ29tcG9zaXRlTWFya0RlZiB8IE1hcmsgfCBNYXJrRGVmKTogbWFyayBpcyBNYXJrIHtcbiAgY29uc3QgbWFya1R5cGUgPSBpc01hcmtEZWYobWFyaykgPyBtYXJrLnR5cGUgOiBtYXJrO1xuICByZXR1cm4gbWFya1R5cGUgaW4gUFJJTUlUSVZFX01BUktfSU5ERVg7XG59XG5cbmV4cG9ydCBjb25zdCBTVFJPS0VfQ09ORklHID0gWydzdHJva2UnLCAnc3Ryb2tlV2lkdGgnLFxuICAnc3Ryb2tlRGFzaCcsICdzdHJva2VEYXNoT2Zmc2V0JywgJ3N0cm9rZU9wYWNpdHknXTtcblxuZXhwb3J0IGNvbnN0IEZJTExfQ09ORklHID0gWydmaWxsJywgJ2ZpbGxPcGFjaXR5J107XG5cbmV4cG9ydCBjb25zdCBGSUxMX1NUUk9LRV9DT05GSUcgPSBbXS5jb25jYXQoU1RST0tFX0NPTkZJRywgRklMTF9DT05GSUcpO1xuXG5leHBvcnQgY29uc3QgVkxfT05MWV9NQVJLX0NPTkZJR19QUk9QRVJUSUVTOiAoa2V5b2YgTWFya0NvbmZpZylbXSA9IFsnZmlsbGVkJywgJ2NvbG9yJ107XG5cbmV4cG9ydCBjb25zdCBWTF9PTkxZX01BUktfU1BFQ0lGSUNfQ09ORklHX1BST1BFUlRZX0lOREVYOiB7XG4gIFtrIGluICh0eXBlb2YgUFJJTUlUSVZFX01BUktTWzBdKV0/OiAoa2V5b2YgTWFya0NvbmZpZ01peGluc1trXSlbXVxufSA9IHtcbiAgYXJlYTogWydsaW5lJywgJ3BvaW50J10sXG4gIGJhcjogWydiaW5TcGFjaW5nJywgJ2NvbnRpbnVvdXNCYW5kU2l6ZScsICdkaXNjcmV0ZUJhbmRTaXplJ10sXG4gIGxpbmU6IFsncG9pbnQnXSxcbiAgdGV4dDogWydzaG9ydFRpbWVMYWJlbHMnXSxcbiAgdGljazogWydiYW5kU2l6ZScsICd0aGlja25lc3MnXVxufTtcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRNYXJrQ29uZmlnOiBNYXJrQ29uZmlnID0ge1xuICBjb2xvcjogJyM0Yzc4YTgnLFxufTtcblxuZXhwb3J0IGludGVyZmFjZSBNYXJrQ29uZmlnTWl4aW5zIHtcbiAgLyoqIE1hcmsgQ29uZmlnICovXG4gIG1hcms/OiBNYXJrQ29uZmlnO1xuXG4gIC8vIE1BUkstU1BFQ0lGSUMgQ09ORklHU1xuICAvKiogQXJlYS1TcGVjaWZpYyBDb25maWcgKi9cbiAgYXJlYT86IEFyZWFDb25maWc7XG5cbiAgLyoqIEJhci1TcGVjaWZpYyBDb25maWcgKi9cbiAgYmFyPzogQmFyQ29uZmlnO1xuXG4gIC8qKiBDaXJjbGUtU3BlY2lmaWMgQ29uZmlnICovXG4gIGNpcmNsZT86IE1hcmtDb25maWc7XG5cbiAgLyoqIExpbmUtU3BlY2lmaWMgQ29uZmlnICovXG4gIGxpbmU/OiBMaW5lQ29uZmlnO1xuXG4gIC8qKiBQb2ludC1TcGVjaWZpYyBDb25maWcgKi9cbiAgcG9pbnQ/OiBNYXJrQ29uZmlnO1xuXG4gIC8qKiBSZWN0LVNwZWNpZmljIENvbmZpZyAqL1xuICByZWN0PzogTWFya0NvbmZpZztcblxuICAvKiogUnVsZS1TcGVjaWZpYyBDb25maWcgKi9cbiAgcnVsZT86IE1hcmtDb25maWc7XG5cbiAgLyoqIFNxdWFyZS1TcGVjaWZpYyBDb25maWcgKi9cbiAgc3F1YXJlPzogTWFya0NvbmZpZztcblxuICAvKiogVGV4dC1TcGVjaWZpYyBDb25maWcgKi9cbiAgdGV4dD86IFRleHRDb25maWc7XG5cbiAgLyoqIFRpY2stU3BlY2lmaWMgQ29uZmlnICovXG4gIHRpY2s/OiBUaWNrQ29uZmlnO1xuXG4gIC8qKiBUcmFpbC1TcGVjaWZpYyBDb25maWcgKi9cbiAgdHJhaWw/OiBMaW5lQ29uZmlnO1xuXG4gIC8qKiBHZW9zaGFwZS1TcGVjaWZpYyBDb25maWcgKi9cbiAgZ2Vvc2hhcGU/OiBNYXJrQ29uZmlnO1xufVxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgQmFyQ29uZmlnIGV4dGVuZHMgQmFyQmluU3BhY2luZ01peGlucywgTWFya0NvbmZpZyB7XG5cbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IHNpemUgb2YgdGhlIGJhcnMgb24gY29udGludW91cyBzY2FsZXMuXG4gICAqXG4gICAqIF9fRGVmYXVsdCB2YWx1ZTpfXyBgNWBcbiAgICpcbiAgICogQG1pbmltdW0gMFxuICAgKi9cbiAgY29udGludW91c0JhbmRTaXplPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgc2l6ZSBvZiB0aGUgYmFycy4gIElmIHVuc3BlY2lmaWVkLCB0aGUgZGVmYXVsdCBzaXplIGlzICBgYmFuZFNpemUtMWAsXG4gICAqIHdoaWNoIHByb3ZpZGVzIDEgcGl4ZWwgb2Zmc2V0IGJldHdlZW4gYmFycy5cbiAgICogQG1pbmltdW0gMFxuICAgKi9cbiAgZGlzY3JldGVCYW5kU2l6ZT86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQb2ludE92ZXJsYXlNaXhpbnMge1xuICAvKipcbiAgICogQSBmbGFnIGZvciBvdmVybGF5aW5nIHBvaW50cyBvbiB0b3Agb2YgbGluZSBvciBhcmVhIG1hcmtzLCBvciBhbiBvYmplY3QgZGVmaW5pbmcgdGhlIHByb3BlcnRpZXMgb2YgdGhlIG92ZXJsYXllZCBwb2ludHMuXG4gICAqXG4gICAqIC0gSWYgdGhpcyBwcm9wZXJ0eSBpcyBgXCJ0cmFuc3BhcmVudFwiYCwgdHJhbnNwYXJlbnQgcG9pbnRzIHdpbGwgYmUgdXNlZCAoZm9yIGVuaGFuY2luZyB0b29sdGlwcyBhbmQgc2VsZWN0aW9ucykuXG4gICAqXG4gICAqIC0gSWYgdGhpcyBwcm9wZXJ0eSBpcyBhbiBlbXB0eSBvYmplY3QgKGB7fWApIG9yIGB0cnVlYCwgZmlsbGVkIHBvaW50cyB3aXRoIGRlZmF1bHQgcHJvcGVydGllcyB3aWxsIGJlIHVzZWQuXG4gICAqXG4gICAqIC0gSWYgdGhpcyBwcm9wZXJ0eSBpcyBgZmFsc2VgLCBubyBwb2ludHMgd291bGQgYmUgYXV0b21hdGljYWxseSBhZGRlZCB0byBsaW5lIG9yIGFyZWEgbWFya3MuXG4gICAqXG4gICAqIF9fRGVmYXVsdCB2YWx1ZTpfXyBgZmFsc2VgLlxuICAgKi9cbiAgcG9pbnQ/OiBib29sZWFuIHwgTWFya1Byb3BlcnRpZXMgfCAndHJhbnNwYXJlbnQnO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExpbmVDb25maWcgZXh0ZW5kcyBNYXJrQ29uZmlnLCBQb2ludE92ZXJsYXlNaXhpbnMge31cblxuZXhwb3J0IGludGVyZmFjZSBMaW5lT3ZlcmxheU1peGlucyB7XG4gIC8qKlxuICAgKiBBIGZsYWcgZm9yIG92ZXJsYXlpbmcgbGluZSBvbiB0b3Agb2YgYXJlYSBtYXJrcywgb3IgYW4gb2JqZWN0IGRlZmluaW5nIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBvdmVybGF5ZWQgbGluZXMuXG4gICAqXG4gICAqIC0gSWYgdGhpcyB2YWx1ZSBpcyBhbiBlbXB0eSBvYmplY3QgKGB7fWApIG9yIGB0cnVlYCwgbGluZXMgd2l0aCBkZWZhdWx0IHByb3BlcnRpZXMgd2lsbCBiZSB1c2VkLlxuICAgKlxuICAgKiAtIElmIHRoaXMgdmFsdWUgaXMgYGZhbHNlYCwgbm8gbGluZXMgd291bGQgYmUgYXV0b21hdGljYWxseSBhZGRlZCB0byBhcmVhIG1hcmtzLlxuICAgKlxuICAgKiBfX0RlZmF1bHQgdmFsdWU6X18gYGZhbHNlYC5cbiAgICovXG4gIGxpbmU/OiBib29sZWFuIHwgTWFya1Byb3BlcnRpZXM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXJlYUNvbmZpZyBleHRlbmRzIE1hcmtDb25maWcsIFBvaW50T3ZlcmxheU1peGlucywgTGluZU92ZXJsYXlNaXhpbnMge31cblxuXG4vLyBQb2ludC9MaW5lIE92ZXJsYXlNaXhpbnMgYXJlIG9ubHkgZm9yIGFyZWEsIGxpbmUsIGFuZCB0cmFpbCBidXQgd2UgZG9uJ3Qgd2FudCB0byBkZWNsYXJlIG11bHRpcGxlIHR5cGVzIG9mIE1hcmtEZWZcbmV4cG9ydCBpbnRlcmZhY2UgTWFya0RlZiBleHRlbmRzIE1hcmtQcm9wZXJ0aWVzLCBQb2ludE92ZXJsYXlNaXhpbnMsIExpbmVPdmVybGF5TWl4aW5zIHtcbiAgLyoqXG4gICAqIFRoZSBtYXJrIHR5cGUuXG4gICAqIE9uZSBvZiBgXCJiYXJcImAsIGBcImNpcmNsZVwiYCwgYFwic3F1YXJlXCJgLCBgXCJ0aWNrXCJgLCBgXCJsaW5lXCJgLFxuICAgKiBgXCJhcmVhXCJgLCBgXCJwb2ludFwiYCwgYFwiZ2Vvc2hhcGVcImAsIGBcInJ1bGVcImAsIGFuZCBgXCJ0ZXh0XCJgLlxuICAgKi9cbiAgdHlwZTogTWFyaztcbn1cblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRCYXJDb25maWc6IEJhckNvbmZpZyA9IHtcbiAgYmluU3BhY2luZzogMSxcbiAgY29udGludW91c0JhbmRTaXplOiA1XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIFRleHRDb25maWcgZXh0ZW5kcyBNYXJrQ29uZmlnIHtcbiAgLyoqXG4gICAqIFdoZXRoZXIgbW9udGggbmFtZXMgYW5kIHdlZWtkYXkgbmFtZXMgc2hvdWxkIGJlIGFiYnJldmlhdGVkLlxuICAgKi9cbiAgc2hvcnRUaW1lTGFiZWxzPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUaWNrQ29uZmlnIGV4dGVuZHMgTWFya0NvbmZpZyB7XG4gIC8qKlxuICAgKiBUaGUgd2lkdGggb2YgdGhlIHRpY2tzLlxuICAgKlxuICAgKiBfX0RlZmF1bHQgdmFsdWU6X18gIDIvMyBvZiByYW5nZVN0ZXAuXG4gICAqIEBtaW5pbXVtIDBcbiAgICovXG4gIGJhbmRTaXplPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGlja25lc3Mgb2YgdGhlIHRpY2sgbWFyay5cbiAgICpcbiAgICogX19EZWZhdWx0IHZhbHVlOl9fICBgMWBcbiAgICpcbiAgICogQG1pbmltdW0gMFxuICAgKi9cbiAgdGhpY2tuZXNzPzogbnVtYmVyO1xufVxuXG5leHBvcnQgY29uc3QgZGVmYXVsdFRpY2tDb25maWc6IFRpY2tDb25maWcgPSB7XG4gIHRoaWNrbmVzczogMVxufTtcbiJdfQ==","\"use strict\";\n// DateTime definition object\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar vega_util_1 = require(\"vega-util\");\nvar log = require(\"./log\");\nvar util_1 = require(\"./util\");\n/*\n * A designated year that starts on Sunday.\n */\nvar SUNDAY_YEAR = 2006;\nfunction isDateTime(o) {\n    return !!o && (!!o.year || !!o.quarter || !!o.month || !!o.date || !!o.day ||\n        !!o.hours || !!o.minutes || !!o.seconds || !!o.milliseconds);\n}\nexports.isDateTime = isDateTime;\nexports.MONTHS = ['january', 'february', 'march', 'april', 'may', 'june', 'july', 'august', 'september', 'october', 'november', 'december'];\nexports.SHORT_MONTHS = exports.MONTHS.map(function (m) { return m.substr(0, 3); });\nexports.DAYS = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\nexports.SHORT_DAYS = exports.DAYS.map(function (d) { return d.substr(0, 3); });\nfunction normalizeQuarter(q) {\n    if (vega_util_1.isNumber(q)) {\n        if (q > 4) {\n            log.warn(log.message.invalidTimeUnit('quarter', q));\n        }\n        // We accept 1-based quarter, so need to readjust to 0-based quarter\n        return (q - 1) + '';\n    }\n    else {\n        // Invalid quarter\n        throw new Error(log.message.invalidTimeUnit('quarter', q));\n    }\n}\nfunction normalizeMonth(m) {\n    if (vega_util_1.isNumber(m)) {\n        // We accept 1-based month, so need to readjust to 0-based month\n        return (m - 1) + '';\n    }\n    else {\n        var lowerM = m.toLowerCase();\n        var monthIndex = exports.MONTHS.indexOf(lowerM);\n        if (monthIndex !== -1) {\n            return monthIndex + ''; // 0 for january, ...\n        }\n        var shortM = lowerM.substr(0, 3);\n        var shortMonthIndex = exports.SHORT_MONTHS.indexOf(shortM);\n        if (shortMonthIndex !== -1) {\n            return shortMonthIndex + '';\n        }\n        // Invalid month\n        throw new Error(log.message.invalidTimeUnit('month', m));\n    }\n}\nfunction normalizeDay(d) {\n    if (vega_util_1.isNumber(d)) {\n        // mod so that this can be both 0-based where 0 = sunday\n        // and 1-based where 7=sunday\n        return (d % 7) + '';\n    }\n    else {\n        var lowerD = d.toLowerCase();\n        var dayIndex = exports.DAYS.indexOf(lowerD);\n        if (dayIndex !== -1) {\n            return dayIndex + ''; // 0 for january, ...\n        }\n        var shortD = lowerD.substr(0, 3);\n        var shortDayIndex = exports.SHORT_DAYS.indexOf(shortD);\n        if (shortDayIndex !== -1) {\n            return shortDayIndex + '';\n        }\n        // Invalid day\n        throw new Error(log.message.invalidTimeUnit('day', d));\n    }\n}\n/**\n * Return Vega Expression for a particular date time.\n * @param d\n * @param normalize whether to normalize quarter, month, day.\n */\nfunction dateTimeExpr(d, normalize) {\n    if (normalize === void 0) { normalize = false; }\n    var units = [];\n    if (normalize && d.day !== undefined) {\n        if (util_1.keys(d).length > 1) {\n            log.warn(log.message.droppedDay(d));\n            d = util_1.duplicate(d);\n            delete d.day;\n        }\n    }\n    if (d.year !== undefined) {\n        units.push(d.year);\n    }\n    else if (d.day !== undefined) {\n        // Set year to 2006 for working with day since January 1 2006 is a Sunday\n        units.push(SUNDAY_YEAR);\n    }\n    else {\n        units.push(0);\n    }\n    if (d.month !== undefined) {\n        var month = normalize ? normalizeMonth(d.month) : d.month;\n        units.push(month);\n    }\n    else if (d.quarter !== undefined) {\n        var quarter = normalize ? normalizeQuarter(d.quarter) : d.quarter;\n        units.push(quarter + '*3');\n    }\n    else {\n        units.push(0); // months start at zero in JS\n    }\n    if (d.date !== undefined) {\n        units.push(d.date);\n    }\n    else if (d.day !== undefined) {\n        // HACK: Day only works as a standalone unit\n        // This is only correct because we always set year to 2006 for day\n        var day = normalize ? normalizeDay(d.day) : d.day;\n        units.push(day + '+1');\n    }\n    else {\n        units.push(1); // Date starts at 1 in JS\n    }\n    // Note: can't use TimeUnit enum here as importing it will create\n    // circular dependency problem!\n    for (var _i = 0, _a = ['hours', 'minutes', 'seconds', 'milliseconds']; _i < _a.length; _i++) {\n        var timeUnit = _a[_i];\n        if (d[timeUnit] !== undefined) {\n            units.push(d[timeUnit]);\n        }\n        else {\n            units.push(0);\n        }\n    }\n    if (d.utc) {\n        return \"utc(\" + units.join(', ') + \")\";\n    }\n    else {\n        return \"datetime(\" + units.join(', ') + \")\";\n    }\n}\nexports.dateTimeExpr = dateTimeExpr;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0ZXRpbWUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZGF0ZXRpbWUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLDZCQUE2Qjs7QUFFN0IsdUNBQW1DO0FBQ25DLDJCQUE2QjtBQUM3QiwrQkFBdUM7QUFHdkM7O0dBRUc7QUFDSCxJQUFNLFdBQVcsR0FBRyxJQUFJLENBQUM7QUE4R3pCLG9CQUEyQixDQUFNO0lBQy9CLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRztRQUN4RSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDO0FBQ2pFLENBQUM7QUFIRCxnQ0FHQztBQUVZLFFBQUEsTUFBTSxHQUFHLENBQUMsU0FBUyxFQUFFLFVBQVUsRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxXQUFXLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxVQUFVLENBQUMsQ0FBQztBQUNwSSxRQUFBLFlBQVksR0FBRyxjQUFNLENBQUMsR0FBRyxDQUFDLFVBQUMsQ0FBQyxJQUFLLE9BQUEsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQWQsQ0FBYyxDQUFDLENBQUM7QUFFakQsUUFBQSxJQUFJLEdBQUcsQ0FBQyxRQUFRLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsVUFBVSxF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LElBQUksQ0FBQyxNQUFHLENBQUM7S0FDbkM7U0FBTTtRQUNMLE9BQU8sY0FBWSxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFHLENBQUM7S0FDeEM7QUFDSCxDQUFDO0FBeERELG9DQXdEQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIERhdGVUaW1lIGRlZmluaXRpb24gb2JqZWN0XG5cbmltcG9ydCB7aXNOdW1iZXJ9IGZyb20gJ3ZlZ2EtdXRpbCc7XG5pbXBvcnQgKiBhcyBsb2cgZnJvbSAnLi9sb2cnO1xuaW1wb3J0IHtkdXBsaWNhdGUsIGtleXN9IGZyb20gJy4vdXRpbCc7XG5cblxuLypcbiAqIEEgZGVzaWduYXRlZCB5ZWFyIHRoYXQgc3RhcnRzIG9uIFN1bmRheS5cbiAqL1xuY29uc3QgU1VOREFZX1lFQVIgPSAyMDA2O1xuXG4vKipcbiAqIEBtaW5pbXVtIDFcbiAqIEBtYXhpbXVtIDEyXG4gKiBAVEpTLXR5cGUgaW50ZWdlclxuICovXG5leHBvcnQgdHlwZSBNb250aCA9IG51bWJlcjtcblxuLyoqXG4gKiBAbWluaW11bSAxXG4gKiBAbWF4aW11bSA3XG4gKi9cbmV4cG9ydCB0eXBlIERheSA9IG51bWJlcjtcblxuLyoqXG4gKiBPYmplY3QgZm9yIGRlZmluaW5nIGRhdGV0aW1lIGluIFZlZ2EtTGl0ZSBGaWx0ZXIuXG4gKiBJZiBib3RoIG1vbnRoIGFuZCBxdWFydGVyIGFyZSBwcm92aWRlZCwgbW9udGggaGFzIGhpZ2hlciBwcmVjZWRlbmNlLlxuICogYGRheWAgY2Fubm90IGJlIGNvbWJpbmVkIHdpdGggb3RoZXIgZGF0ZS5cbiAqIFdlIGFjY2VwdCBzdHJpbmcgZm9yIG1vbnRoIGFuZCBkYXkgbmFtZXMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGF0ZVRpbWUge1xuICAvKipcbiAgICogSW50ZWdlciB2YWx1ZSByZXByZXNlbnRpbmcgdGhlIHllYXIuXG4gICAqIEBUSlMtdHlwZSBpbnRlZ2VyXG4gICAqL1xuICB5ZWFyPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBJbnRlZ2VyIHZhbHVlIHJlcHJlc2VudGluZyB0aGUgcXVhcnRlciBvZiB0aGUgeWVhciAoZnJvbSAxLTQpLlxuICAgKiBAbWluaW11bSAxXG4gICAqIEBtYXhpbXVtIDRcbiAgICogQFRKUy10eXBlIGludGVnZXJcbiAgICovXG4gIHF1YXJ0ZXI/OiBudW1iZXI7XG5cbiAgLyoqIE9uZSBvZjogKDEpIGludGVnZXIgdmFsdWUgcmVwcmVzZW50aW5nIHRoZSBtb250aCBmcm9tIGAxYC1gMTJgLiBgMWAgcmVwcmVzZW50cyBKYW51YXJ5OyAgKDIpIGNhc2UtaW5zZW5zaXRpdmUgbW9udGggbmFtZSAoZS5nLiwgYFwiSmFudWFyeVwiYCk7ICAoMykgY2FzZS1pbnNlbnNpdGl2ZSwgMy1jaGFyYWN0ZXIgc2hvcnQgbW9udGggbmFtZSAoZS5nLiwgYFwiSmFuXCJgKS4gKi9cbiAgbW9udGg/OiBNb250aCB8IHN0cmluZztcblxuICAvKipcbiAgICogSW50ZWdlciB2YWx1ZSByZXByZXNlbnRpbmcgdGhlIGRhdGUgZnJvbSAxLTMxLlxuICAgKiBAbWluaW11bSAxXG4gICAqIEBtYXhpbXVtIDMxXG4gICAqIEBUSlMtdHlwZSBpbnRlZ2VyXG4gICAqL1xuICBkYXRlPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBWYWx1ZSByZXByZXNlbnRpbmcgdGhlIGRheSBvZiBhIHdlZWsuICBUaGlzIGNhbiBiZSBvbmUgb2Y6ICgxKSBpbnRlZ2VyIHZhbHVlIC0tIGAxYCByZXByZXNlbnRzIE1vbmRheTsgKDIpIGNhc2UtaW5zZW5zaXRpdmUgZGF5IG5hbWUgKGUuZy4sIGBcIk1vbmRheVwiYCk7ICAoMykgY2FzZS1pbnNlbnNpdGl2ZSwgMy1jaGFyYWN0ZXIgc2hvcnQgZGF5IG5hbWUgKGUuZy4sIGBcIk1vblwiYCkuICAgPGJyLz4gKipXYXJuaW5nOioqIEEgRGF0ZVRpbWUgZGVmaW5pdGlvbiBvYmplY3Qgd2l0aCBgZGF5YCoqIHNob3VsZCBub3QgYmUgY29tYmluZWQgd2l0aCBgeWVhcmAsIGBxdWFydGVyYCwgYG1vbnRoYCwgb3IgYGRhdGVgLlxuICAgKi9cbiAgZGF5PzogRGF5IHwgc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBJbnRlZ2VyIHZhbHVlIHJlcHJlc2VudGluZyB0aGUgaG91ciBvZiBhIGRheSBmcm9tIDAtMjMuXG4gICAqIEBtaW5pbXVtIDBcbiAgICogQG1heGltdW0gMjNcbiAgICogQFRKUy10eXBlIGludGVnZXJcbiAgICovXG4gIGhvdXJzPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBJbnRlZ2VyIHZhbHVlIHJlcHJlc2VudGluZyB0aGUgbWludXRlIHNlZ21lbnQgb2YgdGltZSBmcm9tIDAtNTkuXG4gICAqIEBtaW5pbXVtIDBcbiAgICogQG1heGltdW0gNTlcbiAgICogQFRKUy10eXBlIGludGVnZXJcbiAgICovXG4gIG1pbnV0ZXM/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEludGVnZXIgdmFsdWUgcmVwcmVzZW50aW5nIHRoZSBzZWNvbmQgc2VnbWVudCAoMC01OSkgb2YgYSB0aW1lIHZhbHVlXG4gICAqIEBtaW5pbXVtIDBcbiAgICogQG1heGltdW0gNTlcbiAgICogQFRKUy10eXBlIGludGVnZXJcbiAgICovXG4gIHNlY29uZHM/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEludGVnZXIgdmFsdWUgcmVwcmVzZW50aW5nIHRoZSBtaWxsaXNlY29uZCBzZWdtZW50IG9mIHRpbWUuXG4gICAqIEBtaW5pbXVtIDBcbiAgICogQG1heGltdW0gOTk5XG4gICAqIEBUSlMtdHlwZSBpbnRlZ2VyXG4gICAqL1xuICBtaWxsaXNlY29uZHM/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEEgYm9vbGVhbiBmbGFnIGluZGljYXRpbmcgaWYgZGF0ZSB0aW1lIGlzIGluIHV0YyB0aW1lLiBJZiBmYWxzZSwgdGhlIGRhdGUgdGltZSBpcyBpbiBsb2NhbCB0aW1lXG4gICAqL1xuICB1dGM/OiBib29sZWFuO1xufVxuXG5cbi8qKlxuICogSW50ZXJuYWwgT2JqZWN0IGZvciBkZWZpbmluZyBkYXRldGltZSBleHByZXNzaW9ucy5cbiAqIFRoaXMgaXMgYW4gZXhwcmVzc2lvbiB2ZXJzaW9uIG9mIERhdGVUaW1lLlxuICogSWYgYm90aCBtb250aCBhbmQgcXVhcnRlciBhcmUgcHJvdmlkZWQsIG1vbnRoIGhhcyBoaWdoZXIgcHJlY2VkZW5jZS5cbiAqIGBkYXlgIGNhbm5vdCBiZSBjb21iaW5lZCB3aXRoIG90aGVyIGRhdGUuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGF0ZVRpbWVFeHByIHtcbiAgeWVhcj86IHN0cmluZztcbiAgcXVhcnRlcj86IHN0cmluZztcbiAgbW9udGg/OiBzdHJpbmc7XG4gIGRhdGU/OiBzdHJpbmc7XG4gIGRheT86IHN0cmluZztcbiAgaG91cnM/OiBzdHJpbmc7XG4gIG1pbnV0ZXM/OiBzdHJpbmc7XG4gIHNlY29uZHM/OiBzdHJpbmc7XG4gIG1pbGxpc2Vjb25kcz86IHN0cmluZztcbiAgdXRjPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRGF0ZVRpbWUobzogYW55KTogbyBpcyBEYXRlVGltZSB7XG4gIHJldHVybiAhIW8gJiYgKCEhby55ZWFyIHx8ICEhby5xdWFydGVyIHx8ICEhby5tb250aCB8fCAhIW8uZGF0ZSB8fCAhIW8uZGF5IHx8XG4gICAgISFvLmhvdXJzIHx8ICEhby5taW51dGVzIHx8ICEhby5zZWNvbmRzIHx8ICEhby5taWxsaXNlY29uZHMpO1xufVxuXG5leHBvcnQgY29uc3QgTU9OVEhTID0gWydqYW51YXJ5JywgJ2ZlYnJ1YXJ5JywgJ21hcmNoJywgJ2FwcmlsJywgJ21heScsICdqdW5lJywgJ2p1bHknLCAnYXVndXN0JywgJ3NlcHRlbWJlcicsICdvY3RvYmVyJywgJ25vdmVtYmVyJywgJ2RlY2VtYmVyJ107XG5leHBvcnQgY29uc3QgU0hPUlRfTU9OVEhTID0gTU9OVEhTLm1hcCgobSkgPT4gbS5zdWJzdHIoMCwgMykpO1xuXG5leHBvcnQgY29uc3QgREFZUyA9IFsnc3VuZGF5JywgJ21vbmRheScsICd0dWVzZGF5JywgJ3dlZG5lc2RheScsICd0aHVyc2RheScsICdmcmlkYXknLCAnc2F0dXJkYXknXTtcbmV4cG9ydCBjb25zdCBTSE9SVF9EQVlTID0gREFZUy5tYXAoKGQpID0+IGQuc3Vic3RyKDAsMykpO1xuXG5mdW5jdGlvbiBub3JtYWxpemVRdWFydGVyKHE6IG51bWJlciB8IHN0cmluZykge1xuICBpZiAoaXNOdW1iZXIocSkpIHtcbiAgICBpZiAocSA+IDQpIHtcbiAgICAgIGxvZy53YXJuKGxvZy5tZXNzYWdlLmludmFsaWRUaW1lVW5pdCgncXVhcnRlcicsIHEpKTtcbiAgICB9XG4gICAgLy8gV2UgYWNjZXB0IDEtYmFzZWQgcXVhcnRlciwgc28gbmVlZCB0byByZWFkanVzdCB0byAwLWJhc2VkIHF1YXJ0ZXJcbiAgICByZXR1cm4gKHEgLSAxKSArICcnO1xuICB9IGVsc2Uge1xuICAgIC8vIEludmFsaWQgcXVhcnRlclxuICAgIHRocm93IG5ldyBFcnJvcihsb2cubWVzc2FnZS5pbnZhbGlkVGltZVVuaXQoJ3F1YXJ0ZXInLCBxKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplTW9udGgobTogc3RyaW5nIHwgbnVtYmVyKSB7XG4gIGlmIChpc051bWJlcihtKSkge1xuICAgIC8vIFdlIGFjY2VwdCAxLWJhc2VkIG1vbnRoLCBzbyBuZWVkIHRvIHJlYWRqdXN0IHRvIDAtYmFzZWQgbW9udGhcbiAgICByZXR1cm4gKG0gLSAxKSArICcnO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGxvd2VyTSA9IG0udG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBtb250aEluZGV4ID0gTU9OVEhTLmluZGV4T2YobG93ZXJNKTtcbiAgICBpZiAobW9udGhJbmRleCAhPT0gLTEpIHtcbiAgICAgIHJldHVybiBtb250aEluZGV4ICsgJyc7IC8vIDAgZm9yIGphbnVhcnksIC4uLlxuICAgIH1cbiAgICBjb25zdCBzaG9ydE0gPSBsb3dlck0uc3Vic3RyKDAsIDMpO1xuICAgIGNvbnN0IHNob3J0TW9udGhJbmRleCA9IFNIT1JUX01PTlRIUy5pbmRleE9mKHNob3J0TSk7XG4gICAgaWYgKHNob3J0TW9udGhJbmRleCAhPT0gLTEpIHtcbiAgICAgIHJldHVybiBzaG9ydE1vbnRoSW5kZXggKyAnJztcbiAgICB9XG4gICAgLy8gSW52YWxpZCBtb250aFxuICAgIHRocm93IG5ldyBFcnJvcihsb2cubWVzc2FnZS5pbnZhbGlkVGltZVVuaXQoJ21vbnRoJywgbSkpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZURheShkOiBzdHJpbmcgfCBudW1iZXIpIHtcbiAgaWYgKGlzTnVtYmVyKGQpKSB7XG4gICAgLy8gbW9kIHNvIHRoYXQgdGhpcyBjYW4gYmUgYm90aCAwLWJhc2VkIHdoZXJlIDAgPSBzdW5kYXlcbiAgICAvLyBhbmQgMS1iYXNlZCB3aGVyZSA3PXN1bmRheVxuICAgIHJldHVybiAoZCAlIDcpICsgJyc7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgbG93ZXJEID0gZC50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IGRheUluZGV4ID0gREFZUy5pbmRleE9mKGxvd2VyRCk7XG4gICAgaWYgKGRheUluZGV4ICE9PSAtMSkge1xuICAgICAgcmV0dXJuIGRheUluZGV4ICsgJyc7IC8vIDAgZm9yIGphbnVhcnksIC4uLlxuICAgIH1cbiAgICBjb25zdCBzaG9ydEQgPSBsb3dlckQuc3Vic3RyKDAsIDMpO1xuICAgIGNvbnN0IHNob3J0RGF5SW5kZXggPSBTSE9SVF9EQVlTLmluZGV4T2Yoc2hvcnREKTtcbiAgICBpZiAoc2hvcnREYXlJbmRleCAhPT0gLTEpIHtcbiAgICAgIHJldHVybiBzaG9ydERheUluZGV4ICsgJyc7XG4gICAgfVxuICAgIC8vIEludmFsaWQgZGF5XG4gICAgdGhyb3cgbmV3IEVycm9yKGxvZy5tZXNzYWdlLmludmFsaWRUaW1lVW5pdCgnZGF5JywgZCkpO1xuICB9XG59XG5cbi8qKlxuICogUmV0dXJuIFZlZ2EgRXhwcmVzc2lvbiBmb3IgYSBwYXJ0aWN1bGFyIGRhdGUgdGltZS5cbiAqIEBwYXJhbSBkXG4gKiBAcGFyYW0gbm9ybWFsaXplIHdoZXRoZXIgdG8gbm9ybWFsaXplIHF1YXJ0ZXIsIG1vbnRoLCBkYXkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkYXRlVGltZUV4cHIoZDogRGF0ZVRpbWUgfCBEYXRlVGltZUV4cHIsIG5vcm1hbGl6ZSA9IGZhbHNlKSB7XG4gIGNvbnN0IHVuaXRzOiAoc3RyaW5nIHwgbnVtYmVyKVtdID0gW107XG5cbiAgaWYgKG5vcm1hbGl6ZSAmJiBkLmRheSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKGtleXMoZCkubGVuZ3RoID4gMSkge1xuICAgICAgbG9nLndhcm4obG9nLm1lc3NhZ2UuZHJvcHBlZERheShkKSk7XG4gICAgICBkID0gZHVwbGljYXRlKGQpO1xuICAgICAgZGVsZXRlIGQuZGF5O1xuICAgIH1cbiAgfVxuXG4gIGlmIChkLnllYXIgIT09IHVuZGVmaW5lZCkge1xuICAgIHVuaXRzLnB1c2goZC55ZWFyKTtcbiAgfSBlbHNlIGlmIChkLmRheSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gU2V0IHllYXIgdG8gMjAwNiBmb3Igd29ya2luZyB3aXRoIGRheSBzaW5jZSBKYW51YXJ5IDEgMjAwNiBpcyBhIFN1bmRheVxuICAgIHVuaXRzLnB1c2goU1VOREFZX1lFQVIpO1xuICB9IGVsc2Uge1xuICAgIHVuaXRzLnB1c2goMCk7XG4gIH1cblxuICBpZiAoZC5tb250aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29uc3QgbW9udGggPSBub3JtYWxpemUgPyBub3JtYWxpemVNb250aChkLm1vbnRoKSA6IGQubW9udGg7XG4gICAgdW5pdHMucHVzaChtb250aCk7XG4gIH0gZWxzZSBpZiAoZC5xdWFydGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBxdWFydGVyID0gbm9ybWFsaXplID8gbm9ybWFsaXplUXVhcnRlcihkLnF1YXJ0ZXIpIDogZC5xdWFydGVyO1xuICAgIHVuaXRzLnB1c2gocXVhcnRlciArICcqMycpO1xuICB9IGVsc2Uge1xuICAgIHVuaXRzLnB1c2goMCk7IC8vIG1vbnRocyBzdGFydCBhdCB6ZXJvIGluIEpTXG4gIH1cblxuICBpZiAoZC5kYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICB1bml0cy5wdXNoKGQuZGF0ZSk7XG4gIH0gZWxzZSBpZiAoZC5kYXkgIT09IHVuZGVmaW5lZCkge1xuICAgIC8vIEhBQ0s6IERheSBvbmx5IHdvcmtzIGFzIGEgc3RhbmRhbG9uZSB1bml0XG4gICAgLy8gVGhpcyBpcyBvbmx5IGNvcnJlY3QgYmVjYXVzZSB3ZSBhbHdheXMgc2V0IHllYXIgdG8gMjAwNiBmb3IgZGF5XG4gICAgY29uc3QgZGF5ID0gbm9ybWFsaXplID8gbm9ybWFsaXplRGF5KGQuZGF5KSA6IGQuZGF5O1xuICAgIHVuaXRzLnB1c2goZGF5ICsgJysxJyk7XG4gIH0gZWxzZSB7XG4gICAgdW5pdHMucHVzaCgxKTsgLy8gRGF0ZSBzdGFydHMgYXQgMSBpbiBKU1xuICB9XG5cbiAgLy8gTm90ZTogY2FuJ3QgdXNlIFRpbWVVbml0IGVudW0gaGVyZSBhcyBpbXBvcnRpbmcgaXQgd2lsbCBjcmVhdGVcbiAgLy8gY2lyY3VsYXIgZGVwZW5kZW5jeSBwcm9ibGVtIVxuICBmb3IgKGNvbnN0IHRpbWVVbml0IG9mIFsnaG91cnMnLCAnbWludXRlcycsICdzZWNvbmRzJywgJ21pbGxpc2Vjb25kcyddKSB7XG4gICAgaWYgKGRbdGltZVVuaXRdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHVuaXRzLnB1c2goZFt0aW1lVW5pdF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB1bml0cy5wdXNoKDApO1xuICAgIH1cbiAgfVxuXG4gIGlmIChkLnV0Yykge1xuICAgIHJldHVybiBgdXRjKCR7dW5pdHMuam9pbignLCAnKX0pYDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYGRhdGV0aW1lKCR7dW5pdHMuam9pbignLCAnKX0pYDtcbiAgfVxufVxuIl19","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar datetime_1 = require(\"./datetime\");\nvar log = require(\"./log\");\nvar util_1 = require(\"./util\");\nvar TimeUnit;\n(function (TimeUnit) {\n    TimeUnit.YEAR = 'year';\n    TimeUnit.MONTH = 'month';\n    TimeUnit.DAY = 'day';\n    TimeUnit.DATE = 'date';\n    TimeUnit.HOURS = 'hours';\n    TimeUnit.MINUTES = 'minutes';\n    TimeUnit.SECONDS = 'seconds';\n    TimeUnit.MILLISECONDS = 'milliseconds';\n    TimeUnit.YEARMONTH = 'yearmonth';\n    TimeUnit.YEARMONTHDATE = 'yearmonthdate';\n    TimeUnit.YEARMONTHDATEHOURS = 'yearmonthdatehours';\n    TimeUnit.YEARMONTHDATEHOURSMINUTES = 'yearmonthdatehoursminutes';\n    TimeUnit.YEARMONTHDATEHOURSMINUTESSECONDS = 'yearmonthdatehoursminutesseconds';\n    // MONTHDATE always include 29 February since we use year 0th (which is a leap year);\n    TimeUnit.MONTHDATE = 'monthdate';\n    TimeUnit.HOURSMINUTES = 'hoursminutes';\n    TimeUnit.HOURSMINUTESSECONDS = 'hoursminutesseconds';\n    TimeUnit.MINUTESSECONDS = 'minutesseconds';\n    TimeUnit.SECONDSMILLISECONDS = 'secondsmilliseconds';\n    TimeUnit.QUARTER = 'quarter';\n    TimeUnit.YEARQUARTER = 'yearquarter';\n    TimeUnit.QUARTERMONTH = 'quartermonth';\n    TimeUnit.YEARQUARTERMONTH = 'yearquartermonth';\n    TimeUnit.UTCYEAR = 'utcyear';\n    TimeUnit.UTCMONTH = 'utcmonth';\n    TimeUnit.UTCDAY = 'utcday';\n    TimeUnit.UTCDATE = 'utcdate';\n    TimeUnit.UTCHOURS = 'utchours';\n    TimeUnit.UTCMINUTES = 'utcminutes';\n    TimeUnit.UTCSECONDS = 'utcseconds';\n    TimeUnit.UTCMILLISECONDS = 'utcmilliseconds';\n    TimeUnit.UTCYEARMONTH = 'utcyearmonth';\n    TimeUnit.UTCYEARMONTHDATE = 'utcyearmonthdate';\n    TimeUnit.UTCYEARMONTHDATEHOURS = 'utcyearmonthdatehours';\n    TimeUnit.UTCYEARMONTHDATEHOURSMINUTES = 'utcyearmonthdatehoursminutes';\n    TimeUnit.UTCYEARMONTHDATEHOURSMINUTESSECONDS = 'utcyearmonthdatehoursminutesseconds';\n    // MONTHDATE always include 29 February since we use year 0th (which is a leap year);\n    TimeUnit.UTCMONTHDATE = 'utcmonthdate';\n    TimeUnit.UTCHOURSMINUTES = 'utchoursminutes';\n    TimeUnit.UTCHOURSMINUTESSECONDS = 'utchoursminutesseconds';\n    TimeUnit.UTCMINUTESSECONDS = 'utcminutesseconds';\n    TimeUnit.UTCSECONDSMILLISECONDS = 'utcsecondsmilliseconds';\n    TimeUnit.UTCQUARTER = 'utcquarter';\n    TimeUnit.UTCYEARQUARTER = 'utcyearquarter';\n    TimeUnit.UTCQUARTERMONTH = 'utcquartermonth';\n    TimeUnit.UTCYEARQUARTERMONTH = 'utcyearquartermonth';\n})(TimeUnit = exports.TimeUnit || (exports.TimeUnit = {}));\n/** Time Unit that only corresponds to only one part of Date objects. */\nvar LOCAL_SINGLE_TIMEUNIT_INDEX = {\n    year: 1,\n    quarter: 1,\n    month: 1,\n    day: 1,\n    date: 1,\n    hours: 1,\n    minutes: 1,\n    seconds: 1,\n    milliseconds: 1\n};\nexports.TIMEUNIT_PARTS = util_1.flagKeys(LOCAL_SINGLE_TIMEUNIT_INDEX);\nfunction isLocalSingleTimeUnit(timeUnit) {\n    return !!LOCAL_SINGLE_TIMEUNIT_INDEX[timeUnit];\n}\nexports.isLocalSingleTimeUnit = isLocalSingleTimeUnit;\nvar UTC_SINGLE_TIMEUNIT_INDEX = {\n    utcyear: 1,\n    utcquarter: 1,\n    utcmonth: 1,\n    utcday: 1,\n    utcdate: 1,\n    utchours: 1,\n    utcminutes: 1,\n    utcseconds: 1,\n    utcmilliseconds: 1\n};\nfunction isUtcSingleTimeUnit(timeUnit) {\n    return !!UTC_SINGLE_TIMEUNIT_INDEX[timeUnit];\n}\nexports.isUtcSingleTimeUnit = isUtcSingleTimeUnit;\nvar LOCAL_MULTI_TIMEUNIT_INDEX = {\n    yearquarter: 1,\n    yearquartermonth: 1,\n    yearmonth: 1,\n    yearmonthdate: 1,\n    yearmonthdatehours: 1,\n    yearmonthdatehoursminutes: 1,\n    yearmonthdatehoursminutesseconds: 1,\n    quartermonth: 1,\n    monthdate: 1,\n    hoursminutes: 1,\n    hoursminutesseconds: 1,\n    minutesseconds: 1,\n    secondsmilliseconds: 1\n};\nvar UTC_MULTI_TIMEUNIT_INDEX = {\n    utcyearquarter: 1,\n    utcyearquartermonth: 1,\n    utcyearmonth: 1,\n    utcyearmonthdate: 1,\n    utcyearmonthdatehours: 1,\n    utcyearmonthdatehoursminutes: 1,\n    utcyearmonthdatehoursminutesseconds: 1,\n    utcquartermonth: 1,\n    utcmonthdate: 1,\n    utchoursminutes: 1,\n    utchoursminutesseconds: 1,\n    utcminutesseconds: 1,\n    utcsecondsmilliseconds: 1\n};\nvar UTC_TIMEUNIT_INDEX = tslib_1.__assign({}, UTC_SINGLE_TIMEUNIT_INDEX, UTC_MULTI_TIMEUNIT_INDEX);\nfunction isUTCTimeUnit(t) {\n    return !!UTC_TIMEUNIT_INDEX[t];\n}\nexports.isUTCTimeUnit = isUTCTimeUnit;\nfunction getLocalTimeUnit(t) {\n    return t.substr(3);\n}\nexports.getLocalTimeUnit = getLocalTimeUnit;\nvar TIMEUNIT_INDEX = tslib_1.__assign({}, LOCAL_SINGLE_TIMEUNIT_INDEX, UTC_SINGLE_TIMEUNIT_INDEX, LOCAL_MULTI_TIMEUNIT_INDEX, UTC_MULTI_TIMEUNIT_INDEX);\nexports.TIMEUNITS = util_1.flagKeys(TIMEUNIT_INDEX);\nfunction isTimeUnit(t) {\n    return !!TIMEUNIT_INDEX[t];\n}\nexports.isTimeUnit = isTimeUnit;\nvar SET_DATE_METHOD = {\n    year: 'setFullYear',\n    month: 'setMonth',\n    date: 'setDate',\n    hours: 'setHours',\n    minutes: 'setMinutes',\n    seconds: 'setSeconds',\n    milliseconds: 'setMilliseconds',\n    // Day and quarter have their own special cases\n    quarter: null,\n    day: null,\n};\n/**\n * Converts a date to only have the measurements relevant to the specified unit\n * i.e. ('yearmonth', '2000-12-04 07:58:14') -> '2000-12-01 00:00:00'\n * Note: the base date is Jan 01 1900 00:00:00\n */\nfunction convert(unit, date) {\n    var isUTC = isUTCTimeUnit(unit);\n    var result = isUTC ?\n        // start with uniform date\n        new Date(Date.UTC(0, 0, 1, 0, 0, 0, 0)) :\n        new Date(0, 0, 1, 0, 0, 0, 0);\n    for (var _i = 0, TIMEUNIT_PARTS_1 = exports.TIMEUNIT_PARTS; _i < TIMEUNIT_PARTS_1.length; _i++) {\n        var timeUnitPart = TIMEUNIT_PARTS_1[_i];\n        if (containsTimeUnit(unit, timeUnitPart)) {\n            switch (timeUnitPart) {\n                case TimeUnit.DAY:\n                    throw new Error('Cannot convert to TimeUnits containing \\'day\\'');\n                case TimeUnit.QUARTER: {\n                    var _a = dateMethods('month', isUTC), getDateMethod_1 = _a.getDateMethod, setDateMethod_1 = _a.setDateMethod;\n                    // indicate quarter by setting month to be the first of the quarter i.e. may (4) -> april (3)\n                    result[setDateMethod_1]((Math.floor(date[getDateMethod_1]() / 3)) * 3);\n                    break;\n                }\n                default:\n                    var _b = dateMethods(timeUnitPart, isUTC), getDateMethod = _b.getDateMethod, setDateMethod = _b.setDateMethod;\n                    result[setDateMethod](date[getDateMethod]());\n            }\n        }\n    }\n    return result;\n}\nexports.convert = convert;\nfunction dateMethods(singleUnit, isUtc) {\n    var rawSetDateMethod = SET_DATE_METHOD[singleUnit];\n    var setDateMethod = isUtc ? 'setUTC' + rawSetDateMethod.substr(3) : rawSetDateMethod;\n    var getDateMethod = 'get' + (isUtc ? 'UTC' : '') + rawSetDateMethod.substr(3);\n    return { setDateMethod: setDateMethod, getDateMethod: getDateMethod };\n}\nfunction getTimeUnitParts(timeUnit) {\n    return exports.TIMEUNIT_PARTS.reduce(function (parts, part) {\n        if (containsTimeUnit(timeUnit, part)) {\n            return parts.concat(part);\n        }\n        return parts;\n    }, []);\n}\nexports.getTimeUnitParts = getTimeUnitParts;\n/** Returns true if fullTimeUnit contains the timeUnit, false otherwise. */\nfunction containsTimeUnit(fullTimeUnit, timeUnit) {\n    var index = fullTimeUnit.indexOf(timeUnit);\n    return index > -1 &&\n        (timeUnit !== TimeUnit.SECONDS ||\n            index === 0 ||\n            fullTimeUnit.charAt(index - 1) !== 'i' // exclude milliseconds\n        );\n}\nexports.containsTimeUnit = containsTimeUnit;\n/**\n * Returns Vega expresssion for a given timeUnit and fieldRef\n */\nfunction fieldExpr(fullTimeUnit, field) {\n    var fieldRef = \"datum\" + util_1.accessPath(field);\n    var utc = isUTCTimeUnit(fullTimeUnit) ? 'utc' : '';\n    function func(timeUnit) {\n        if (timeUnit === TimeUnit.QUARTER) {\n            // quarter starting at 0 (0,3,6,9).\n            return \"(\" + utc + \"quarter(\" + fieldRef + \")-1)\";\n        }\n        else {\n            return \"\" + utc + timeUnit + \"(\" + fieldRef + \")\";\n        }\n    }\n    var d = exports.TIMEUNIT_PARTS.reduce(function (dateExpr, tu) {\n        if (containsTimeUnit(fullTimeUnit, tu)) {\n            dateExpr[tu] = func(tu);\n        }\n        return dateExpr;\n    }, {});\n    return datetime_1.dateTimeExpr(d);\n}\nexports.fieldExpr = fieldExpr;\n/**\n * returns the signal expression used for axis labels for a time unit\n */\nfunction formatExpression(timeUnit, field, shortTimeLabels, isUTCScale) {\n    if (!timeUnit) {\n        return undefined;\n    }\n    var dateComponents = [];\n    var expression = '';\n    var hasYear = containsTimeUnit(timeUnit, TimeUnit.YEAR);\n    if (containsTimeUnit(timeUnit, TimeUnit.QUARTER)) {\n        // special expression for quarter as prefix\n        expression = \"'Q' + quarter(\" + field + \")\";\n    }\n    if (containsTimeUnit(timeUnit, TimeUnit.MONTH)) {\n        // By default use short month name\n        dateComponents.push(shortTimeLabels !== false ? '%b' : '%B');\n    }\n    if (containsTimeUnit(timeUnit, TimeUnit.DAY)) {\n        dateComponents.push(shortTimeLabels ? '%a' : '%A');\n    }\n    else if (containsTimeUnit(timeUnit, TimeUnit.DATE)) {\n        dateComponents.push('%d' + (hasYear ? ',' : '')); // add comma if there is year\n    }\n    if (hasYear) {\n        dateComponents.push(shortTimeLabels ? '%y' : '%Y');\n    }\n    var timeComponents = [];\n    if (containsTimeUnit(timeUnit, TimeUnit.HOURS)) {\n        timeComponents.push('%H');\n    }\n    if (containsTimeUnit(timeUnit, TimeUnit.MINUTES)) {\n        timeComponents.push('%M');\n    }\n    if (containsTimeUnit(timeUnit, TimeUnit.SECONDS)) {\n        timeComponents.push('%S');\n    }\n    if (containsTimeUnit(timeUnit, TimeUnit.MILLISECONDS)) {\n        timeComponents.push('%L');\n    }\n    var dateTimeComponents = [];\n    if (dateComponents.length > 0) {\n        dateTimeComponents.push(dateComponents.join(' '));\n    }\n    if (timeComponents.length > 0) {\n        dateTimeComponents.push(timeComponents.join(':'));\n    }\n    if (dateTimeComponents.length > 0) {\n        if (expression) {\n            // Add space between quarter and main time format\n            expression += \" + ' ' + \";\n        }\n        // We only use utcFormat for utc scale\n        // For utc time units, the data is already converted as a part of timeUnit transform.\n        // Thus, utc time units should use timeFormat to avoid shifting the time twice.\n        if (isUTCScale) {\n            expression += \"utcFormat(\" + field + \", '\" + dateTimeComponents.join(' ') + \"')\";\n        }\n        else {\n            expression += \"timeFormat(\" + field + \", '\" + dateTimeComponents.join(' ') + \"')\";\n        }\n    }\n    // If expression is still an empty string, return undefined instead.\n    return expression || undefined;\n}\nexports.formatExpression = formatExpression;\nfunction normalizeTimeUnit(timeUnit) {\n    if (timeUnit !== 'day' && timeUnit.indexOf('day') >= 0) {\n        log.warn(log.message.dayReplacedWithDate(timeUnit));\n        return timeUnit.replace('day', 'date');\n    }\n    return timeUnit;\n}\nexports.normalizeTimeUnit = normalizeTimeUnit;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGltZXVuaXQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvdGltZXVuaXQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsdUNBQXNEO0FBQ3RELDJCQUE2QjtBQUM3QiwrQkFBa0Q7QUFFbEQsSUFBaUIsUUFBUSxDQWlEeEI7QUFqREQsV0FBaUIsUUFBUTtJQUNWLGFBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsY0FBSyxHQUFZLE9BQU8sQ0FBQztJQUN6QixZQUFHLEdBQVUsS0FBSyxDQUFDO0lBQ25CLGFBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsY0FBSyxHQUFZLE9BQU8sQ0FBQztJQUN6QixnQkFBTyxHQUFjLFNBQVMsQ0FBQztJQUMvQixnQkFBTyxHQUFjLFNBQVMsQ0FBQztJQUMvQixxQkFBWSxHQUFtQixjQUFjLENBQUM7SUFDOUMsa0JBQVMsR0FBZ0IsV0FBVyxDQUFDO0lBQ3JDLHNCQUFhLEdBQW9CLGVBQWUsQ0FBQztJQUNqRCwyQkFBa0IsR0FBeUIsb0JBQW9CLENBQUM7SUFDaEUsa0NBQXlCLEdBQWdDLDJCQUEyQixDQUFDO0lBQ3JGLHlDQUFnQyxHQUF1QyxrQ0FBa0MsQ0FBQztJQUV2SCxxRkFBcUY7SUFDeEUsa0JBQVMsR0FBZ0IsV0FBVyxDQUFDO0lBQ3JDLHFCQUFZLEdBQW1CLGNBQWMsQ0FBQztJQUM5Qyw0QkFBbUIsR0FBMEIscUJBQXFCLENBQUM7SUFDbkUsdUJBQWMsR0FBcUIsZ0JBQWdCLENBQUM7SUFDcEQsNEJBQW1CLEdBQTBCLHFCQUFxQixDQUFDO0lBQ25FLGdCQUFPLEdBQWMsU0FBUyxDQUFDO0lBQy9CLG9CQUFXLEdBQWtCLGFBQWEsQ0FBQztJQUMzQyxxQkFBWSxHQUFtQixjQUFjLENBQUM7SUFDOUMseUJBQWdCLEdBQXVCLGtCQUFrQixDQUFDO0lBQzFELGdCQUFPLEdBQWMsU0FBUyxDQUFDO0lBQy9CLGlCQUFRLEdBQWUsVUFBVSxDQUFDO0lBQ2xDLGVBQU0sR0FBYSxRQUFRLENBQUM7SUFDNUIsZ0JBQU8sR0FBYyxTQUFTLENBQUM7SUFDL0IsaUJBQVEsR0FBZSxVQUFVLENBQUM7SUFDbEMsbUJBQVUsR0FBaUIsWUFBWSxDQUFDO0lBQ3hDLG1CQUFVLEdBQWlCLFlBQVksQ0FBQztJQUN4Qyx3QkFBZSxHQUFzQixpQkFBaUIsQ0FBQztJQUN2RCxxQkFBWSxHQUFtQixjQUFjLENBQUM7SUFDOUMseUJBQWdCLEdBQXVCLGtCQUFrQixDQUFDO0lBQzFELDhCQUFxQixHQUE0Qix1QkFBdUIsQ0FBQztJQUN6RSxxQ0FBNEIsR0FBbUMsOEJBQThCLENBQUM7SUFDOUYsNENBQW1DLEdBQTBDLHFDQUFxQyxDQUFDO0lBRWhJLHFGQUFxRjtJQUN4RSxxQkFBWSxHQUFtQixjQUFjLENBQUM7SUFDOUMsd0JBQWUsR0FBc0IsaUJBQWlCLENBQUM7SUFDdkQsK0JBQXNCLEdBQTZCLHdCQUF3QixDQUFDO0lBQzVFLDBCQUFpQixHQUF3QixtQkFBbUIsQ0FBQztJQUM3RCwrQkFBc0IsR0FBNkIsd0JBQXdCLENBQUM7SUFDNUUsbUJBQVUsR0FBaUIsWUFBWSxDQUFDO0lBQ3hDLHVCQUFjLEdBQXFCLGdCQUFnQixDQUFDO0lBQ3BELHdCQUFlLEdBQXNCLGlCQUFpQixDQUFDO0lBQ3ZELDRCQUFtQixHQUEwQixxQkFBcUIsQ0FBQztBQUNsRixDQUFDLEVBakRnQixRQUFRLEdBQVIsZ0JBQVEsS0FBUixnQkFBUSxRQWlEeEI7QUFhRCx3RUFBd0U7QUFDeEUsSUFBTSwyQkFBMkIsR0FBOEI7SUFDN0QsSUFBSSxFQUFFLENBQUM7SUFDUCxPQUFPLEVBQUUsQ0FBQztJQUNWLEtBQUssRUFBRSxDQUFDO0lBQ1IsR0FBRyxFQUFFLENBQUM7SUFDTixJQUFJLEVBQUUsQ0FBQztJQUNQLEtBQUssRUFBRSxDQUFDO0lBQ1IsT0FBTyxFQUFFLENBQUM7SUFDVixPQUFPLEVBQUUsQ0FBQztJQUNWLFlBQVksRUFBRSxDQUFDO0NBQ2hCLENBQUM7QUFFVyxRQUFBLGNBQWMsR0FBRyxlQUFRLENBQUMsMkJBQTJCLENBQUMsQ0FBQztBQUVwRSwrQkFBc0MsUUFBZ0I7SUFDcEQsT0FBTyxDQUFDLENBQUMsMkJBQTJCLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDakQsQ0FBQztBQUZELHNEQUVDO0FBYUQsSUFBTSx5QkFBeUIsR0FBNEI7SUFDekQsT0FBTyxFQUFFLENBQUM7SUFDVixVQUFVLEVBQUUsQ0FBQztJQUNiLFFBQVEsRUFBRSxDQUFDO0lBQ1gsTUFBTSxFQUFFLENBQUM7SUFDVCxPQUFPLEVBQUUsQ0FBQztJQUNWLFFBQVEsRUFBRSxDQUFDO0lBQ1gsVUFBVSxFQUFFLENBQUM7SUFDYixVQUFVLEVBQUUsQ0FBQztJQUNiLGVBQWUsRUFBRSxDQUFDO0NBQ25CLENBQUM7QUFFRiw2QkFBb0MsUUFBZ0I7SUFDbEQsT0FBTyxDQUFDLENBQUMseUJBQXlCLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDL0MsQ0FBQztBQUZELGtEQUVDO0FBY0QsSUFBTSwwQkFBMEIsR0FBNkI7SUFDM0QsV0FBVyxFQUFFLENBQUM7SUFDZCxnQkFBZ0IsRUFBRSxDQUFDO0lBRW5CLFNBQVMsRUFBRSxDQUFDO0lBQ1osYUFBYSxFQUFFLENBQUM7SUFDaEIsa0JBQWtCLEVBQUUsQ0FBQztJQUNyQix5QkFBeUIsRUFBRSxDQUFDO0lBQzVCLGdDQUFnQyxFQUFFLENBQUM7SUFFbkMsWUFBWSxFQUFFLENBQUM7SUFFZixTQUFTLEVBQUUsQ0FBQztJQUVaLFlBQVksRUFBRSxDQUFDO0lBQ2YsbUJBQW1CLEVBQUUsQ0FBQztJQUV0QixjQUFjLEVBQUUsQ0FBQztJQUVqQixtQkFBbUIsRUFBRSxDQUFDO0NBQ3ZCLENBQUM7QUFXRixJQUFNLHdCQUF3QixHQUEyQjtJQUN2RCxjQUFjLEVBQUUsQ0FBQztJQUNqQixtQkFBbUIsRUFBRSxDQUFDO0lBRXRCLFlBQVksRUFBRSxDQUFDO0lBQ2YsZ0JBQWdCLEVBQUUsQ0FBQztJQUNuQixxQkFBcUIsRUFBRSxDQUFDO0lBQ3hCLDRCQUE0QixFQUFFLENBQUM7SUFDL0IsbUNBQW1DLEVBQUUsQ0FBQztJQUV0QyxlQUFlLEVBQUUsQ0FBQztJQUVsQixZQUFZLEVBQUUsQ0FBQztJQUVmLGVBQWUsRUFBRSxDQUFDO0lBQ2xCLHNCQUFzQixFQUFFLENBQUM7SUFFekIsaUJBQWlCLEVBQUUsQ0FBQztJQUVwQixzQkFBc0IsRUFBRSxDQUFDO0NBQzFCLENBQUM7QUFRRixJQUFNLGtCQUFrQix3QkFDbkIseUJBQXlCLEVBQ3pCLHdCQUF3QixDQUM1QixDQUFDO0FBRUYsdUJBQThCLENBQVM7SUFDckMsT0FBTyxDQUFDLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDakMsQ0FBQztBQUZELHNDQUVDO0FBRUQsMEJBQWlDLENBQWM7SUFDN0MsT0FBTyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBa0IsQ0FBQztBQUN0QyxDQUFDO0FBRkQsNENBRUM7QUFJRCxJQUFNLGNBQWMsd0JBQ2YsMkJBQTJCLEVBQzNCLHlCQUF5QixFQUN6QiwwQkFBMEIsRUFDMUIsd0JBQXdCLENBQzVCLENBQUM7QUFFVyxRQUFBLFNBQVMsR0FBRyxlQUFRLENBQUMsY0FBYyxDQUFDLENBQUM7QUFFbEQsb0JBQTJCLENBQVM7SUFDbEMsT0FBTyxDQUFDLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzdCLENBQUM7QUFGRCxnQ0FFQztBQUlELElBQU0sZUFBZSxHQUFnRDtJQUNuRSxJQUFJLEVBQUUsYUFBYTtJQUNuQixLQUFLLEVBQUUsVUFBVTtJQUNqQixJQUFJLEVBQUUsU0FBUztJQUNmLEtBQUssRUFBRSxVQUFVO0lBQ2pCLE9BQU8sRUFBRSxZQUFZO0lBQ3JCLE9BQU8sRUFBRSxZQUFZO0lBQ3JCLFlBQVksRUFBRSxpQkFBaUI7SUFDL0IsK0NBQStDO0lBQy9DLE9BQU8sRUFBRSxJQUFJO0lBQ2IsR0FBRyxFQUFFLElBQUk7Q0FDVixDQUFDO0FBRUY7Ozs7R0FJRztBQUNILGlCQUF3QixJQUFjLEVBQUUsSUFBVTtJQUNoRCxJQUFNLEtBQUssR0FBRyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDbEMsSUFBTSxNQUFNLEdBQVMsS0FBSyxDQUFDLENBQUM7UUFDMUIsMEJBQTBCO1FBQzFCLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3pDLElBQUksSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzlCLEtBQTJCLFVBQWMsRUFBZCxtQkFBQSxzQkFBYyxFQUFkLDRCQUFjLEVBQWQsSUFBYztRQUFwQyxJQUFNLFlBQVksdUJBQUE7UUFDdkIsSUFBSSxnQkFBZ0IsQ0FBQyxJQUFJLEVBQUUsWUFBWSxDQUFDLEVBQUU7WUFDeEMsUUFBUSxZQUFZLEVBQUU7Z0JBQ3BCLEtBQUssUUFBUSxDQUFDLEdBQUc7b0JBQ2YsTUFBTSxJQUFJLEtBQUssQ0FBQyxnREFBZ0QsQ0FBQyxDQUFDO2dCQUNwRSxLQUFLLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQztvQkFDZixJQUFBLGdDQUE0RCxFQUEzRCxrQ0FBYSxFQUFFLGtDQUFhLENBQWdDO29CQUNuRSw2RkFBNkY7b0JBQzdGLE1BQU0sQ0FBQyxlQUFhLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLGVBQWEsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztvQkFDbkUsTUFBTTtpQkFDUDtnQkFDRDtvQkFDUSxJQUFBLHFDQUFpRSxFQUFoRSxnQ0FBYSxFQUFFLGdDQUFhLENBQXFDO29CQUN4RSxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxFQUFFLENBQUMsQ0FBQzthQUNoRDtTQUNGO0tBQ0Y7SUFDRCxPQUFPLE1BQU0sQ0FBQztBQUNoQixDQUFDO0FBeEJELDBCQXdCQztBQUVELHFCQUFxQixVQUEwQixFQUFFLEtBQWM7SUFDN0QsSUFBTSxnQkFBZ0IsR0FBRyxlQUFlLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDckQsSUFBTSxhQUFhLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxRQUFRLEdBQUcsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQztJQUN2RixJQUFNLGFBQWEsR0FBRyxLQUFLLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2hGLE9BQU8sRUFBQyxhQUFhLGVBQUEsRUFBRSxhQUFhLGVBQUEsRUFBQyxDQUFDO0FBQ3hDLENBQUM7QUFFRCwwQkFBaUMsUUFBa0I7SUFDakQsT0FBTyxzQkFBYyxDQUFDLE1BQU0sQ0FBQyxVQUFDLEtBQUssRUFBRSxJQUFJO1FBQ3ZDLElBQUksZ0JBQWdCLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxFQUFFO1lBQ3BDLE9BQU8sS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUMzQjtRQUNELE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ1QsQ0FBQztBQVBELDRDQU9DO0FBRUQsMkVBQTJFO0FBQzNFLDBCQUFpQyxZQUFzQixFQUFFLFFBQWtCO0lBQ3pFLElBQU0sS0FBSyxHQUFHLFlBQVksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDN0MsT0FBTyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ2YsQ0FDRSxRQUFRLEtBQUssUUFBUSxDQUFDLE9BQU87WUFDN0IsS0FBSyxLQUFLLENBQUM7WUFDWCxZQUFZLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsdUJBQXVCO1NBQzdELENBQUM7QUFDTixDQUFDO0FBUkQsNENBUUM7QUFFRDs7R0FFRztBQUNILG1CQUEwQixZQUFzQixFQUFFLEtBQWE7SUFDN0QsSUFBTSxRQUFRLEdBQUcsVUFBUSxpQkFBVSxDQUFDLEtBQUssQ0FBRyxDQUFDO0lBRTdDLElBQU0sR0FBRyxHQUFHLGFBQWEsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFDckQsY0FBYyxRQUFrQjtRQUM5QixJQUFJLFFBQVEsS0FBSyxRQUFRLENBQUMsT0FBTyxFQUFFO1lBQ2pDLG1DQUFtQztZQUNuQyxPQUFPLE1BQUksR0FBRyxnQkFBVyxRQUFRLFNBQU0sQ0FBQztTQUN6QzthQUFNO1lBQ0wsT0FBTyxLQUFHLEdBQUcsR0FBRyxRQUFRLFNBQUksUUFBUSxNQUFHLENBQUM7U0FDekM7SUFDSCxDQUFDO0lBRUQsSUFBTSxDQUFDLEdBQUcsc0JBQWMsQ0FBQyxNQUFNLENBQUMsVUFBQyxRQUFzQixFQUFFLEVBQVk7UUFDbkUsSUFBSSxnQkFBZ0IsQ0FBQyxZQUFZLEVBQUUsRUFBRSxDQUFDLEVBQUU7WUFDdEMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztTQUN6QjtRQUNELE9BQU8sUUFBUSxDQUFDO0lBQ2xCLENBQUMsRUFBRSxFQUF1QyxDQUFDLENBQUM7SUFFNUMsT0FBTyx1QkFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3pCLENBQUM7QUFyQkQsOEJBcUJDO0FBRUQ7O0dBRUc7QUFDSCwwQkFBaUMsUUFBa0IsRUFBRSxLQUFhLEVBQUUsZUFBd0IsRUFBRSxVQUFtQjtJQUMvRyxJQUFJLENBQUMsUUFBUSxFQUFFO1FBQ2IsT0FBTyxTQUFTLENBQUM7S0FDbEI7SUFFRCxJQUFNLGNBQWMsR0FBYSxFQUFFLENBQUM7SUFDcEMsSUFBSSxVQUFVLEdBQUcsRUFBRSxDQUFDO0lBQ3BCLElBQU0sT0FBTyxHQUFHLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7SUFFMUQsSUFBSSxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLE9BQU8sQ0FBQyxFQUFFO1FBQ2pELDJDQUEyQztRQUMxQyxVQUFVLEdBQUcsbUJBQWlCLEtBQUssTUFBRyxDQUFDO0tBQ3hDO0lBRUQsSUFBSSxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLEtBQUssQ0FBQyxFQUFFO1FBQzlDLGtDQUFrQztRQUNsQyxjQUFjLENBQUMsSUFBSSxDQUFDLGVBQWUsS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDOUQ7SUFFRCxJQUFJLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsR0FBRyxDQUFDLEVBQUU7UUFDNUMsY0FBYyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDcEQ7U0FBTSxJQUFJLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUU7UUFDcEQsY0FBYyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLDZCQUE2QjtLQUNoRjtJQUVELElBQUksT0FBTyxFQUFFO1FBQ1gsY0FBYyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDcEQ7SUFFRCxJQUFNLGNBQWMsR0FBYSxFQUFFLENBQUM7SUFFcEMsSUFBSSxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLEtBQUssQ0FBQyxFQUFFO1FBQzlDLGNBQWMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDM0I7SUFDRCxJQUFJLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsT0FBTyxDQUFDLEVBQUU7UUFDaEQsY0FBYyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUMzQjtJQUNELElBQUksZ0JBQWdCLENBQUMsUUFBUSxFQUFFLFFBQVEsQ0FBQyxPQUFPLENBQUMsRUFBRTtRQUNoRCxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQzNCO0lBQ0QsSUFBSSxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLFlBQVksQ0FBQyxFQUFFO1FBQ3JELGNBQWMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDM0I7SUFFRCxJQUFNLGtCQUFrQixHQUFhLEVBQUUsQ0FBQztJQUN4QyxJQUFJLGNBQWMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1FBQzdCLGtCQUFrQixDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7S0FDbkQ7SUFDRCxJQUFJLGNBQWMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1FBQzdCLGtCQUFrQixDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7S0FDbkQ7SUFFRCxJQUFJLGtCQUFrQixDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7UUFDakMsSUFBSSxVQUFVLEVBQUU7WUFDZCxpREFBaUQ7WUFDakQsVUFBVSxJQUFJLFdBQVcsQ0FBQztTQUMzQjtRQUVELHNDQUFzQztRQUN0QyxxRkFBcUY7UUFDckYsK0VBQStFO1FBQy9FLElBQUksVUFBVSxFQUFFO1lBQ2QsVUFBVSxJQUFJLGVBQWEsS0FBSyxXQUFNLGtCQUFrQixDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBSSxDQUFDO1NBQ3hFO2FBQU07WUFDTCxVQUFVLElBQUksZ0JBQWMsS0FBSyxXQUFNLGtCQUFrQixDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBSSxDQUFDO1NBQ3pFO0tBQ0Y7SUFFRCxvRUFBb0U7SUFDcEUsT0FBTyxVQUFVLElBQUksU0FBUyxDQUFDO0FBQ2pDLENBQUM7QUF0RUQsNENBc0VDO0FBRUQsMkJBQWtDLFFBQWtCO0lBQ2xELElBQUksUUFBUSxLQUFLLEtBQUssSUFBSSxRQUFRLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUN0RCxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsbUJBQW1CLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztRQUNwRCxPQUFPLFFBQVEsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBYSxDQUFDO0tBQ3BEO0lBQ0QsT0FBTyxRQUFRLENBQUM7QUFDbEIsQ0FBQztBQU5ELDhDQU1DIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtEYXRlVGltZUV4cHIsIGRhdGVUaW1lRXhwcn0gZnJvbSAnLi9kYXRldGltZSc7XG5pbXBvcnQgKiBhcyBsb2cgZnJvbSAnLi9sb2cnO1xuaW1wb3J0IHthY2Nlc3NQYXRoLCBGbGFnLCBmbGFnS2V5c30gZnJvbSAnLi91dGlsJztcblxuZXhwb3J0IG5hbWVzcGFjZSBUaW1lVW5pdCB7XG4gIGV4cG9ydCBjb25zdCBZRUFSOiAneWVhcicgPSAneWVhcic7XG4gIGV4cG9ydCBjb25zdCBNT05USDogJ21vbnRoJyA9ICdtb250aCc7XG4gIGV4cG9ydCBjb25zdCBEQVk6ICdkYXknID0gJ2RheSc7XG4gIGV4cG9ydCBjb25zdCBEQVRFOiAnZGF0ZScgPSAnZGF0ZSc7XG4gIGV4cG9ydCBjb25zdCBIT1VSUzogJ2hvdXJzJyA9ICdob3Vycyc7XG4gIGV4cG9ydCBjb25zdCBNSU5VVEVTOiAnbWludXRlcycgPSAnbWludXRlcyc7XG4gIGV4cG9ydCBjb25zdCBTRUNPTkRTOiAnc2Vjb25kcycgPSAnc2Vjb25kcyc7XG4gIGV4cG9ydCBjb25zdCBNSUxMSVNFQ09ORFM6ICdtaWxsaXNlY29uZHMnID0gJ21pbGxpc2Vjb25kcyc7XG4gIGV4cG9ydCBjb25zdCBZRUFSTU9OVEg6ICd5ZWFybW9udGgnID0gJ3llYXJtb250aCc7XG4gIGV4cG9ydCBjb25zdCBZRUFSTU9OVEhEQVRFOiAneWVhcm1vbnRoZGF0ZScgPSAneWVhcm1vbnRoZGF0ZSc7XG4gIGV4cG9ydCBjb25zdCBZRUFSTU9OVEhEQVRFSE9VUlM6ICd5ZWFybW9udGhkYXRlaG91cnMnID0gJ3llYXJtb250aGRhdGVob3Vycyc7XG4gIGV4cG9ydCBjb25zdCBZRUFSTU9OVEhEQVRFSE9VUlNNSU5VVEVTOiAneWVhcm1vbnRoZGF0ZWhvdXJzbWludXRlcycgPSAneWVhcm1vbnRoZGF0ZWhvdXJzbWludXRlcyc7XG4gIGV4cG9ydCBjb25zdCBZRUFSTU9OVEhEQVRFSE9VUlNNSU5VVEVTU0VDT05EUzogJ3llYXJtb250aGRhdGVob3Vyc21pbnV0ZXNzZWNvbmRzJyA9ICd5ZWFybW9udGhkYXRlaG91cnNtaW51dGVzc2Vjb25kcyc7XG5cbiAgLy8gTU9OVEhEQVRFIGFsd2F5cyBpbmNsdWRlIDI5IEZlYnJ1YXJ5IHNpbmNlIHdlIHVzZSB5ZWFyIDB0aCAod2hpY2ggaXMgYSBsZWFwIHllYXIpO1xuICBleHBvcnQgY29uc3QgTU9OVEhEQVRFOiAnbW9udGhkYXRlJyA9ICdtb250aGRhdGUnO1xuICBleHBvcnQgY29uc3QgSE9VUlNNSU5VVEVTOiAnaG91cnNtaW51dGVzJyA9ICdob3Vyc21pbnV0ZXMnO1xuICBleHBvcnQgY29uc3QgSE9VUlNNSU5VVEVTU0VDT05EUzogJ2hvdXJzbWludXRlc3NlY29uZHMnID0gJ2hvdXJzbWludXRlc3NlY29uZHMnO1xuICBleHBvcnQgY29uc3QgTUlOVVRFU1NFQ09ORFM6ICdtaW51dGVzc2Vjb25kcycgPSAnbWludXRlc3NlY29uZHMnO1xuICBleHBvcnQgY29uc3QgU0VDT05EU01JTExJU0VDT05EUzogJ3NlY29uZHNtaWxsaXNlY29uZHMnID0gJ3NlY29uZHNtaWxsaXNlY29uZHMnO1xuICBleHBvcnQgY29uc3QgUVVBUlRFUjogJ3F1YXJ0ZXInID0gJ3F1YXJ0ZXInO1xuICBleHBvcnQgY29uc3QgWUVBUlFVQVJURVI6ICd5ZWFycXVhcnRlcicgPSAneWVhcnF1YXJ0ZXInO1xuICBleHBvcnQgY29uc3QgUVVBUlRFUk1PTlRIOiAncXVhcnRlcm1vbnRoJyA9ICdxdWFydGVybW9udGgnO1xuICBleHBvcnQgY29uc3QgWUVBUlFVQVJURVJNT05USDogJ3llYXJxdWFydGVybW9udGgnID0gJ3llYXJxdWFydGVybW9udGgnO1xuICBleHBvcnQgY29uc3QgVVRDWUVBUjogJ3V0Y3llYXInID0gJ3V0Y3llYXInO1xuICBleHBvcnQgY29uc3QgVVRDTU9OVEg6ICd1dGNtb250aCcgPSAndXRjbW9udGgnO1xuICBleHBvcnQgY29uc3QgVVRDREFZOiAndXRjZGF5JyA9ICd1dGNkYXknO1xuICBleHBvcnQgY29uc3QgVVRDREFURTogJ3V0Y2RhdGUnID0gJ3V0Y2RhdGUnO1xuICBleHBvcnQgY29uc3QgVVRDSE9VUlM6ICd1dGNob3VycycgPSAndXRjaG91cnMnO1xuICBleHBvcnQgY29uc3QgVVRDTUlOVVRFUzogJ3V0Y21pbnV0ZXMnID0gJ3V0Y21pbnV0ZXMnO1xuICBleHBvcnQgY29uc3QgVVRDU0VDT05EUzogJ3V0Y3NlY29uZHMnID0gJ3V0Y3NlY29uZHMnO1xuICBleHBvcnQgY29uc3QgVVRDTUlMTElTRUNPTkRTOiAndXRjbWlsbGlzZWNvbmRzJyA9ICd1dGNtaWxsaXNlY29uZHMnO1xuICBleHBvcnQgY29uc3QgVVRDWUVBUk1PTlRIOiAndXRjeWVhcm1vbnRoJyA9ICd1dGN5ZWFybW9udGgnO1xuICBleHBvcnQgY29uc3QgVVRDWUVBUk1PTlRIREFURTogJ3V0Y3llYXJtb250aGRhdGUnID0gJ3V0Y3llYXJtb250aGRhdGUnO1xuICBleHBvcnQgY29uc3QgVVRDWUVBUk1PTlRIREFURUhPVVJTOiAndXRjeWVhcm1vbnRoZGF0ZWhvdXJzJyA9ICd1dGN5ZWFybW9udGhkYXRlaG91cnMnO1xuICBleHBvcnQgY29uc3QgVVRDWUVBUk1PTlRIREFURUhPVVJTTUlOVVRFUzogJ3V0Y3llYXJtb250aGRhdGVob3Vyc21pbnV0ZXMnID0gJ3V0Y3llYXJtb250aGRhdGVob3Vyc21pbnV0ZXMnO1xuICBleHBvcnQgY29uc3QgVVRDWUVBUk1PTlRIREFURUhPVVJTTUlOVVRFU1NFQ09ORFM6ICd1dGN5ZWFybW9udGhkYXRlaG91cnNtaW51dGVzc2Vjb25kcycgPSAndXRjeWVhcm1vbnRoZGF0ZWhvdXJzbWludXRlc3NlY29uZHMnO1xuXG4gIC8vIE1PTlRIREFURSBhbHdheXMgaW5jbHVkZSAyOSBGZWJydWFyeSBzaW5jZSB3ZSB1c2UgeWVhciAwdGggKHdoaWNoIGlzIGEgbGVhcCB5ZWFyKTtcbiAgZXhwb3J0IGNvbnN0IFVUQ01PTlRIREFURTogJ3V0Y21vbnRoZGF0ZScgPSAndXRjbW9udGhkYXRlJztcbiAgZXhwb3J0IGNvbnN0IFVUQ0hPVVJTTUlOVVRFUzogJ3V0Y2hvdXJzbWludXRlcycgPSAndXRjaG91cnNtaW51dGVzJztcbiAgZXhwb3J0IGNvbnN0IFVUQ0hPVVJTTUlOVVRFU1NFQ09ORFM6ICd1dGNob3Vyc21pbnV0ZXNzZWNvbmRzJyA9ICd1dGNob3Vyc21pbnV0ZXNzZWNvbmRzJztcbiAgZXhwb3J0IGNvbnN0IFVUQ01JTlVURVNTRUNPTkRTOiAndXRjbWludXRlc3NlY29uZHMnID0gJ3V0Y21pbnV0ZXNzZWNvbmRzJztcbiAgZXhwb3J0IGNvbnN0IFVUQ1NFQ09ORFNNSUxMSVNFQ09ORFM6ICd1dGNzZWNvbmRzbWlsbGlzZWNvbmRzJyA9ICd1dGNzZWNvbmRzbWlsbGlzZWNvbmRzJztcbiAgZXhwb3J0IGNvbnN0IFVUQ1FVQVJURVI6ICd1dGNxdWFydGVyJyA9ICd1dGNxdWFydGVyJztcbiAgZXhwb3J0IGNvbnN0IFVUQ1lFQVJRVUFSVEVSOiAndXRjeWVhcnF1YXJ0ZXInID0gJ3V0Y3llYXJxdWFydGVyJztcbiAgZXhwb3J0IGNvbnN0IFVUQ1FVQVJURVJNT05USDogJ3V0Y3F1YXJ0ZXJtb250aCcgPSAndXRjcXVhcnRlcm1vbnRoJztcbiAgZXhwb3J0IGNvbnN0IFVUQ1lFQVJRVUFSVEVSTU9OVEg6ICd1dGN5ZWFycXVhcnRlcm1vbnRoJyA9ICd1dGN5ZWFycXVhcnRlcm1vbnRoJztcbn1cblxuZXhwb3J0IHR5cGUgTG9jYWxTaW5nbGVUaW1lVW5pdCA9XG4gIHR5cGVvZiBUaW1lVW5pdC5ZRUFSIHxcbiAgdHlwZW9mIFRpbWVVbml0LlFVQVJURVIgfFxuICB0eXBlb2YgVGltZVVuaXQuTU9OVEggfFxuICB0eXBlb2YgVGltZVVuaXQuREFZIHxcbiAgdHlwZW9mIFRpbWVVbml0LkRBVEUgfFxuICB0eXBlb2YgVGltZVVuaXQuSE9VUlMgfFxuICB0eXBlb2YgVGltZVVuaXQuTUlOVVRFUyB8XG4gIHR5cGVvZiBUaW1lVW5pdC5TRUNPTkRTIHxcbiAgdHlwZW9mIFRpbWVVbml0Lk1JTExJU0VDT05EUztcblxuLyoqIFRpbWUgVW5pdCB0aGF0IG9ubHkgY29ycmVzcG9uZHMgdG8gb25seSBvbmUgcGFydCBvZiBEYXRlIG9iamVjdHMuICovXG5jb25zdCBMT0NBTF9TSU5HTEVfVElNRVVOSVRfSU5ERVg6IEZsYWc8TG9jYWxTaW5nbGVUaW1lVW5pdD4gPSB7XG4gIHllYXI6IDEsXG4gIHF1YXJ0ZXI6IDEsXG4gIG1vbnRoOiAxLFxuICBkYXk6IDEsXG4gIGRhdGU6IDEsXG4gIGhvdXJzOiAxLFxuICBtaW51dGVzOiAxLFxuICBzZWNvbmRzOiAxLFxuICBtaWxsaXNlY29uZHM6IDFcbn07XG5cbmV4cG9ydCBjb25zdCBUSU1FVU5JVF9QQVJUUyA9IGZsYWdLZXlzKExPQ0FMX1NJTkdMRV9USU1FVU5JVF9JTkRFWCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0xvY2FsU2luZ2xlVGltZVVuaXQodGltZVVuaXQ6IHN0cmluZyk6IHRpbWVVbml0IGlzIExvY2FsU2luZ2xlVGltZVVuaXQge1xuICByZXR1cm4gISFMT0NBTF9TSU5HTEVfVElNRVVOSVRfSU5ERVhbdGltZVVuaXRdO1xufVxuXG5leHBvcnQgdHlwZSBVdGNTaW5nbGVUaW1lVW5pdCA9XG4gIHR5cGVvZiBUaW1lVW5pdC5VVENZRUFSIHxcbiAgdHlwZW9mIFRpbWVVbml0LlVUQ1FVQVJURVIgfFxuICB0eXBlb2YgVGltZVVuaXQuVVRDTU9OVEggfFxuICB0eXBlb2YgVGltZVVuaXQuVVRDREFZIHxcbiAgdHlwZW9mIFRpbWVVbml0LlVUQ0RBVEUgfFxuICB0eXBlb2YgVGltZVVuaXQuVVRDSE9VUlMgfFxuICB0eXBlb2YgVGltZVVuaXQuVVRDTUlOVVRFUyB8XG4gIHR5cGVvZiBUaW1lVW5pdC5VVENTRUNPTkRTIHxcbiAgdHlwZW9mIFRpbWVVbml0LlVUQ01JTExJU0VDT05EUztcblxuY29uc3QgVVRDX1NJTkdMRV9USU1FVU5JVF9JTkRFWDogRmxhZzxVdGNTaW5nbGVUaW1lVW5pdD4gPSB7XG4gIHV0Y3llYXI6IDEsXG4gIHV0Y3F1YXJ0ZXI6IDEsXG4gIHV0Y21vbnRoOiAxLFxuICB1dGNkYXk6IDEsXG4gIHV0Y2RhdGU6IDEsXG4gIHV0Y2hvdXJzOiAxLFxuICB1dGNtaW51dGVzOiAxLFxuICB1dGNzZWNvbmRzOiAxLFxuICB1dGNtaWxsaXNlY29uZHM6IDFcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1V0Y1NpbmdsZVRpbWVVbml0KHRpbWVVbml0OiBzdHJpbmcpOiB0aW1lVW5pdCBpcyBVdGNTaW5nbGVUaW1lVW5pdCB7XG4gIHJldHVybiAhIVVUQ19TSU5HTEVfVElNRVVOSVRfSU5ERVhbdGltZVVuaXRdO1xufVxuXG5leHBvcnQgdHlwZSBTaW5nbGVUaW1lVW5pdCA9IExvY2FsU2luZ2xlVGltZVVuaXQgfCBVdGNTaW5nbGVUaW1lVW5pdDtcblxuZXhwb3J0IHR5cGUgTG9jYWxNdWx0aVRpbWVVbml0ID1cbiAgLy8gTG9jYWwgVGltZVxuICB0eXBlb2YgVGltZVVuaXQuWUVBUlFVQVJURVIgfCB0eXBlb2YgVGltZVVuaXQuWUVBUlFVQVJURVJNT05USCB8XG4gIHR5cGVvZiBUaW1lVW5pdC5ZRUFSTU9OVEggfCB0eXBlb2YgVGltZVVuaXQuWUVBUk1PTlRIREFURSB8IHR5cGVvZiBUaW1lVW5pdC5ZRUFSTU9OVEhEQVRFSE9VUlMgfCB0eXBlb2YgVGltZVVuaXQuWUVBUk1PTlRIREFURUhPVVJTTUlOVVRFU3wgdHlwZW9mIFRpbWVVbml0LllFQVJNT05USERBVEVIT1VSU01JTlVURVNTRUNPTkRTIHxcbiAgdHlwZW9mIFRpbWVVbml0LlFVQVJURVJNT05USCB8XG4gIHR5cGVvZiBUaW1lVW5pdC5NT05USERBVEUgfFxuICB0eXBlb2YgVGltZVVuaXQuSE9VUlNNSU5VVEVTIHwgdHlwZW9mIFRpbWVVbml0LkhPVVJTTUlOVVRFU1NFQ09ORFMgfFxuICB0eXBlb2YgVGltZVVuaXQuTUlOVVRFU1NFQ09ORFMgfFxuICB0eXBlb2YgVGltZVVuaXQuU0VDT05EU01JTExJU0VDT05EUztcblxuY29uc3QgTE9DQUxfTVVMVElfVElNRVVOSVRfSU5ERVg6IEZsYWc8TG9jYWxNdWx0aVRpbWVVbml0PiA9IHtcbiAgeWVhcnF1YXJ0ZXI6IDEsXG4gIHllYXJxdWFydGVybW9udGg6IDEsXG5cbiAgeWVhcm1vbnRoOiAxLFxuICB5ZWFybW9udGhkYXRlOiAxLFxuICB5ZWFybW9udGhkYXRlaG91cnM6IDEsXG4gIHllYXJtb250aGRhdGVob3Vyc21pbnV0ZXM6IDEsXG4gIHllYXJtb250aGRhdGVob3Vyc21pbnV0ZXNzZWNvbmRzOiAxLFxuXG4gIHF1YXJ0ZXJtb250aDogMSxcblxuICBtb250aGRhdGU6IDEsXG5cbiAgaG91cnNtaW51dGVzOiAxLFxuICBob3Vyc21pbnV0ZXNzZWNvbmRzOiAxLFxuXG4gIG1pbnV0ZXNzZWNvbmRzOiAxLFxuXG4gIHNlY29uZHNtaWxsaXNlY29uZHM6IDFcbn07XG5cbmV4cG9ydCB0eXBlIFV0Y011bHRpVGltZVVuaXQgPVxuICB0eXBlb2YgVGltZVVuaXQuVVRDWUVBUlFVQVJURVIgfCB0eXBlb2YgVGltZVVuaXQuVVRDWUVBUlFVQVJURVJNT05USCB8XG4gIHR5cGVvZiBUaW1lVW5pdC5VVENZRUFSTU9OVEggfCB0eXBlb2YgVGltZVVuaXQuVVRDWUVBUk1PTlRIREFURSB8IHR5cGVvZiBUaW1lVW5pdC5VVENZRUFSTU9OVEhEQVRFSE9VUlMgfCB0eXBlb2YgVGltZVVuaXQuVVRDWUVBUk1PTlRIREFURUhPVVJTTUlOVVRFU3wgdHlwZW9mIFRpbWVVbml0LlVUQ1lFQVJNT05USERBVEVIT1VSU01JTlVURVNTRUNPTkRTIHxcbiAgdHlwZW9mIFRpbWVVbml0LlVUQ1FVQVJURVJNT05USCB8XG4gIHR5cGVvZiBUaW1lVW5pdC5VVENNT05USERBVEUgfFxuICB0eXBlb2YgVGltZVVuaXQuVVRDSE9VUlNNSU5VVEVTIHwgdHlwZW9mIFRpbWVVbml0LlVUQ0hPVVJTTUlOVVRFU1NFQ09ORFMgfFxuICB0eXBlb2YgVGltZVVuaXQuVVRDTUlOVVRFU1NFQ09ORFMgfFxuICB0eXBlb2YgVGltZVVuaXQuVVRDU0VDT05EU01JTExJU0VDT05EUztcblxuY29uc3QgVVRDX01VTFRJX1RJTUVVTklUX0lOREVYOiBGbGFnPFV0Y011bHRpVGltZVVuaXQ+ID0ge1xuICB1dGN5ZWFycXVhcnRlcjogMSxcbiAgdXRjeWVhcnF1YXJ0ZXJtb250aDogMSxcblxuICB1dGN5ZWFybW9udGg6IDEsXG4gIHV0Y3llYXJtb250aGRhdGU6IDEsXG4gIHV0Y3llYXJtb250aGRhdGVob3VyczogMSxcbiAgdXRjeWVhcm1vbnRoZGF0ZWhvdXJzbWludXRlczogMSxcbiAgdXRjeWVhcm1vbnRoZGF0ZWhvdXJzbWludXRlc3NlY29uZHM6IDEsXG5cbiAgdXRjcXVhcnRlcm1vbnRoOiAxLFxuXG4gIHV0Y21vbnRoZGF0ZTogMSxcblxuICB1dGNob3Vyc21pbnV0ZXM6IDEsXG4gIHV0Y2hvdXJzbWludXRlc3NlY29uZHM6IDEsXG5cbiAgdXRjbWludXRlc3NlY29uZHM6IDEsXG5cbiAgdXRjc2Vjb25kc21pbGxpc2Vjb25kczogMVxufTtcblxuZXhwb3J0IHR5cGUgTXVsdGlUaW1lVW5pdCA9IExvY2FsTXVsdGlUaW1lVW5pdCB8IFV0Y011bHRpVGltZVVuaXQ7XG5cblxuZXhwb3J0IHR5cGUgTG9jYWxUaW1lVW5pdCA9IExvY2FsU2luZ2xlVGltZVVuaXQgfCBMb2NhbE11bHRpVGltZVVuaXQ7XG5leHBvcnQgdHlwZSBVdGNUaW1lVW5pdCA9IFV0Y1NpbmdsZVRpbWVVbml0IHwgVXRjTXVsdGlUaW1lVW5pdDtcblxuY29uc3QgVVRDX1RJTUVVTklUX0lOREVYOiBGbGFnPFV0Y1RpbWVVbml0PiA9IHtcbiAgLi4uVVRDX1NJTkdMRV9USU1FVU5JVF9JTkRFWCxcbiAgLi4uVVRDX01VTFRJX1RJTUVVTklUX0lOREVYXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gaXNVVENUaW1lVW5pdCh0OiBzdHJpbmcpOiB0IGlzIFV0Y1RpbWVVbml0IHtcbiAgcmV0dXJuICEhVVRDX1RJTUVVTklUX0lOREVYW3RdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9jYWxUaW1lVW5pdCh0OiBVdGNUaW1lVW5pdCk6IExvY2FsVGltZVVuaXQge1xuICByZXR1cm4gdC5zdWJzdHIoMykgYXMgTG9jYWxUaW1lVW5pdDtcbn1cblxuZXhwb3J0IHR5cGUgVGltZVVuaXQgPSBTaW5nbGVUaW1lVW5pdCB8IE11bHRpVGltZVVuaXQ7XG5cbmNvbnN0IFRJTUVVTklUX0lOREVYOiBGbGFnPFRpbWVVbml0PiA9IHtcbiAgLi4uTE9DQUxfU0lOR0xFX1RJTUVVTklUX0lOREVYLFxuICAuLi5VVENfU0lOR0xFX1RJTUVVTklUX0lOREVYLFxuICAuLi5MT0NBTF9NVUxUSV9USU1FVU5JVF9JTkRFWCxcbiAgLi4uVVRDX01VTFRJX1RJTUVVTklUX0lOREVYXG59O1xuXG5leHBvcnQgY29uc3QgVElNRVVOSVRTID0gZmxhZ0tleXMoVElNRVVOSVRfSU5ERVgpO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNUaW1lVW5pdCh0OiBzdHJpbmcpOiB0IGlzIFRpbWVVbml0IHtcbiAgcmV0dXJuICEhVElNRVVOSVRfSU5ERVhbdF07XG59XG5cbnR5cGUgRGF0ZU1ldGhvZE5hbWUgPSBrZXlvZiBEYXRlO1xuXG5jb25zdCBTRVRfREFURV9NRVRIT0Q6IFJlY29yZDxMb2NhbFNpbmdsZVRpbWVVbml0LCBEYXRlTWV0aG9kTmFtZT4gPSB7XG4gIHllYXI6ICdzZXRGdWxsWWVhcicsXG4gIG1vbnRoOiAnc2V0TW9udGgnLFxuICBkYXRlOiAnc2V0RGF0ZScsXG4gIGhvdXJzOiAnc2V0SG91cnMnLFxuICBtaW51dGVzOiAnc2V0TWludXRlcycsXG4gIHNlY29uZHM6ICdzZXRTZWNvbmRzJyxcbiAgbWlsbGlzZWNvbmRzOiAnc2V0TWlsbGlzZWNvbmRzJyxcbiAgLy8gRGF5IGFuZCBxdWFydGVyIGhhdmUgdGhlaXIgb3duIHNwZWNpYWwgY2FzZXNcbiAgcXVhcnRlcjogbnVsbCxcbiAgZGF5OiBudWxsLFxufTtcblxuLyoqXG4gKiBDb252ZXJ0cyBhIGRhdGUgdG8gb25seSBoYXZlIHRoZSBtZWFzdXJlbWVudHMgcmVsZXZhbnQgdG8gdGhlIHNwZWNpZmllZCB1bml0XG4gKiBpLmUuICgneWVhcm1vbnRoJywgJzIwMDAtMTItMDQgMDc6NTg6MTQnKSAtPiAnMjAwMC0xMi0wMSAwMDowMDowMCdcbiAqIE5vdGU6IHRoZSBiYXNlIGRhdGUgaXMgSmFuIDAxIDE5MDAgMDA6MDA6MDBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnQodW5pdDogVGltZVVuaXQsIGRhdGU6IERhdGUpOiBEYXRlIHtcbiAgY29uc3QgaXNVVEMgPSBpc1VUQ1RpbWVVbml0KHVuaXQpO1xuICBjb25zdCByZXN1bHQ6IERhdGUgPSBpc1VUQyA/XG4gICAgLy8gc3RhcnQgd2l0aCB1bmlmb3JtIGRhdGVcbiAgICBuZXcgRGF0ZShEYXRlLlVUQygwLCAwLCAxLCAwLCAwLCAwLCAwKSkgOlxuICAgIG5ldyBEYXRlKDAsIDAsIDEsIDAsIDAsIDAsIDApO1xuICAgIGZvciAoY29uc3QgdGltZVVuaXRQYXJ0IG9mIFRJTUVVTklUX1BBUlRTKSB7XG4gICAgaWYgKGNvbnRhaW5zVGltZVVuaXQodW5pdCwgdGltZVVuaXRQYXJ0KSkge1xuICAgICAgc3dpdGNoICh0aW1lVW5pdFBhcnQpIHtcbiAgICAgICAgY2FzZSBUaW1lVW5pdC5EQVk6XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY29udmVydCB0byBUaW1lVW5pdHMgY29udGFpbmluZyBcXCdkYXlcXCcnKTtcbiAgICAgICAgY2FzZSBUaW1lVW5pdC5RVUFSVEVSOiB7XG4gICAgICAgICAgY29uc3Qge2dldERhdGVNZXRob2QsIHNldERhdGVNZXRob2R9ID0gZGF0ZU1ldGhvZHMoJ21vbnRoJywgaXNVVEMpO1xuICAgICAgICAgIC8vIGluZGljYXRlIHF1YXJ0ZXIgYnkgc2V0dGluZyBtb250aCB0byBiZSB0aGUgZmlyc3Qgb2YgdGhlIHF1YXJ0ZXIgaS5lLiBtYXkgKDQpIC0+IGFwcmlsICgzKVxuICAgICAgICAgIHJlc3VsdFtzZXREYXRlTWV0aG9kXSgoTWF0aC5mbG9vcihkYXRlW2dldERhdGVNZXRob2RdKCkgLyAzKSkgKiAzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGNvbnN0IHtnZXREYXRlTWV0aG9kLCBzZXREYXRlTWV0aG9kfSA9IGRhdGVNZXRob2RzKHRpbWVVbml0UGFydCwgaXNVVEMpO1xuICAgICAgICAgIHJlc3VsdFtzZXREYXRlTWV0aG9kXShkYXRlW2dldERhdGVNZXRob2RdKCkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBkYXRlTWV0aG9kcyhzaW5nbGVVbml0OiBTaW5nbGVUaW1lVW5pdCwgaXNVdGM6IGJvb2xlYW4pIHtcbiAgY29uc3QgcmF3U2V0RGF0ZU1ldGhvZCA9IFNFVF9EQVRFX01FVEhPRFtzaW5nbGVVbml0XTtcbiAgY29uc3Qgc2V0RGF0ZU1ldGhvZCA9IGlzVXRjID8gJ3NldFVUQycgKyByYXdTZXREYXRlTWV0aG9kLnN1YnN0cigzKSA6IHJhd1NldERhdGVNZXRob2Q7XG4gIGNvbnN0IGdldERhdGVNZXRob2QgPSAnZ2V0JyArIChpc1V0YyA/ICdVVEMnIDogJycpICsgcmF3U2V0RGF0ZU1ldGhvZC5zdWJzdHIoMyk7XG4gIHJldHVybiB7c2V0RGF0ZU1ldGhvZCwgZ2V0RGF0ZU1ldGhvZH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUaW1lVW5pdFBhcnRzKHRpbWVVbml0OiBUaW1lVW5pdCkge1xuICByZXR1cm4gVElNRVVOSVRfUEFSVFMucmVkdWNlKChwYXJ0cywgcGFydCkgPT4ge1xuICAgIGlmIChjb250YWluc1RpbWVVbml0KHRpbWVVbml0LCBwYXJ0KSkge1xuICAgICAgcmV0dXJuIHBhcnRzLmNvbmNhdChwYXJ0KTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnRzO1xuICB9LCBbXSk7XG59XG5cbi8qKiBSZXR1cm5zIHRydWUgaWYgZnVsbFRpbWVVbml0IGNvbnRhaW5zIHRoZSB0aW1lVW5pdCwgZmFsc2Ugb3RoZXJ3aXNlLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zVGltZVVuaXQoZnVsbFRpbWVVbml0OiBUaW1lVW5pdCwgdGltZVVuaXQ6IFRpbWVVbml0KSB7XG4gIGNvbnN0IGluZGV4ID0gZnVsbFRpbWVVbml0LmluZGV4T2YodGltZVVuaXQpO1xuICByZXR1cm4gaW5kZXggPiAtMSAmJlxuICAgIChcbiAgICAgIHRpbWVVbml0ICE9PSBUaW1lVW5pdC5TRUNPTkRTIHx8XG4gICAgICBpbmRleCA9PT0gMCB8fFxuICAgICAgZnVsbFRpbWVVbml0LmNoYXJBdChpbmRleC0xKSAhPT0gJ2knIC8vIGV4Y2x1ZGUgbWlsbGlzZWNvbmRzXG4gICAgKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIFZlZ2EgZXhwcmVzc3Npb24gZm9yIGEgZ2l2ZW4gdGltZVVuaXQgYW5kIGZpZWxkUmVmXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaWVsZEV4cHIoZnVsbFRpbWVVbml0OiBUaW1lVW5pdCwgZmllbGQ6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IGZpZWxkUmVmID0gYGRhdHVtJHthY2Nlc3NQYXRoKGZpZWxkKX1gO1xuXG4gIGNvbnN0IHV0YyA9IGlzVVRDVGltZVVuaXQoZnVsbFRpbWVVbml0KSA/ICd1dGMnIDogJyc7XG4gIGZ1bmN0aW9uIGZ1bmModGltZVVuaXQ6IFRpbWVVbml0KSB7XG4gICAgaWYgKHRpbWVVbml0ID09PSBUaW1lVW5pdC5RVUFSVEVSKSB7XG4gICAgICAvLyBxdWFydGVyIHN0YXJ0aW5nIGF0IDAgKDAsMyw2LDkpLlxuICAgICAgcmV0dXJuIGAoJHt1dGN9cXVhcnRlcigke2ZpZWxkUmVmfSktMSlgO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYCR7dXRjfSR7dGltZVVuaXR9KCR7ZmllbGRSZWZ9KWA7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZCA9IFRJTUVVTklUX1BBUlRTLnJlZHVjZSgoZGF0ZUV4cHI6IERhdGVUaW1lRXhwciwgdHU6IFRpbWVVbml0KSA9PiB7XG4gICAgaWYgKGNvbnRhaW5zVGltZVVuaXQoZnVsbFRpbWVVbml0LCB0dSkpIHtcbiAgICAgIGRhdGVFeHByW3R1XSA9IGZ1bmModHUpO1xuICAgIH1cbiAgICByZXR1cm4gZGF0ZUV4cHI7XG4gIH0sIHt9IGFzIHtba2V5IGluIFNpbmdsZVRpbWVVbml0XTogc3RyaW5nfSk7XG5cbiAgcmV0dXJuIGRhdGVUaW1lRXhwcihkKTtcbn1cblxuLyoqXG4gKiByZXR1cm5zIHRoZSBzaWduYWwgZXhwcmVzc2lvbiB1c2VkIGZvciBheGlzIGxhYmVscyBmb3IgYSB0aW1lIHVuaXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdEV4cHJlc3Npb24odGltZVVuaXQ6IFRpbWVVbml0LCBmaWVsZDogc3RyaW5nLCBzaG9ydFRpbWVMYWJlbHM6IGJvb2xlYW4sIGlzVVRDU2NhbGU6IGJvb2xlYW4pOiBzdHJpbmcge1xuICBpZiAoIXRpbWVVbml0KSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIGNvbnN0IGRhdGVDb21wb25lbnRzOiBzdHJpbmdbXSA9IFtdO1xuICBsZXQgZXhwcmVzc2lvbiA9ICcnO1xuICBjb25zdCBoYXNZZWFyID0gY29udGFpbnNUaW1lVW5pdCh0aW1lVW5pdCwgVGltZVVuaXQuWUVBUik7XG5cbiAgaWYgKGNvbnRhaW5zVGltZVVuaXQodGltZVVuaXQsIFRpbWVVbml0LlFVQVJURVIpKSB7XG4gICAvLyBzcGVjaWFsIGV4cHJlc3Npb24gZm9yIHF1YXJ0ZXIgYXMgcHJlZml4XG4gICAgZXhwcmVzc2lvbiA9IGAnUScgKyBxdWFydGVyKCR7ZmllbGR9KWA7XG4gIH1cblxuICBpZiAoY29udGFpbnNUaW1lVW5pdCh0aW1lVW5pdCwgVGltZVVuaXQuTU9OVEgpKSB7XG4gICAgLy8gQnkgZGVmYXVsdCB1c2Ugc2hvcnQgbW9udGggbmFtZVxuICAgIGRhdGVDb21wb25lbnRzLnB1c2goc2hvcnRUaW1lTGFiZWxzICE9PSBmYWxzZSA/ICclYicgOiAnJUInKTtcbiAgfVxuXG4gIGlmIChjb250YWluc1RpbWVVbml0KHRpbWVVbml0LCBUaW1lVW5pdC5EQVkpKSB7XG4gICAgZGF0ZUNvbXBvbmVudHMucHVzaChzaG9ydFRpbWVMYWJlbHMgPyAnJWEnIDogJyVBJyk7XG4gIH0gZWxzZSBpZiAoY29udGFpbnNUaW1lVW5pdCh0aW1lVW5pdCwgVGltZVVuaXQuREFURSkpIHtcbiAgICBkYXRlQ29tcG9uZW50cy5wdXNoKCclZCcgKyAoaGFzWWVhciA/ICcsJyA6ICcnKSk7IC8vIGFkZCBjb21tYSBpZiB0aGVyZSBpcyB5ZWFyXG4gIH1cblxuICBpZiAoaGFzWWVhcikge1xuICAgIGRhdGVDb21wb25lbnRzLnB1c2goc2hvcnRUaW1lTGFiZWxzID8gJyV5JyA6ICclWScpO1xuICB9XG5cbiAgY29uc3QgdGltZUNvbXBvbmVudHM6IHN0cmluZ1tdID0gW107XG5cbiAgaWYgKGNvbnRhaW5zVGltZVVuaXQodGltZVVuaXQsIFRpbWVVbml0LkhPVVJTKSkge1xuICAgIHRpbWVDb21wb25lbnRzLnB1c2goJyVIJyk7XG4gIH1cbiAgaWYgKGNvbnRhaW5zVGltZVVuaXQodGltZVVuaXQsIFRpbWVVbml0Lk1JTlVURVMpKSB7XG4gICAgdGltZUNvbXBvbmVudHMucHVzaCgnJU0nKTtcbiAgfVxuICBpZiAoY29udGFpbnNUaW1lVW5pdCh0aW1lVW5pdCwgVGltZVVuaXQuU0VDT05EUykpIHtcbiAgICB0aW1lQ29tcG9uZW50cy5wdXNoKCclUycpO1xuICB9XG4gIGlmIChjb250YWluc1RpbWVVbml0KHRpbWVVbml0LCBUaW1lVW5pdC5NSUxMSVNFQ09ORFMpKSB7XG4gICAgdGltZUNvbXBvbmVudHMucHVzaCgnJUwnKTtcbiAgfVxuXG4gIGNvbnN0IGRhdGVUaW1lQ29tcG9uZW50czogc3RyaW5nW10gPSBbXTtcbiAgaWYgKGRhdGVDb21wb25lbnRzLmxlbmd0aCA+IDApIHtcbiAgICBkYXRlVGltZUNvbXBvbmVudHMucHVzaChkYXRlQ29tcG9uZW50cy5qb2luKCcgJykpO1xuICB9XG4gIGlmICh0aW1lQ29tcG9uZW50cy5sZW5ndGggPiAwKSB7XG4gICAgZGF0ZVRpbWVDb21wb25lbnRzLnB1c2godGltZUNvbXBvbmVudHMuam9pbignOicpKTtcbiAgfVxuXG4gIGlmIChkYXRlVGltZUNvbXBvbmVudHMubGVuZ3RoID4gMCkge1xuICAgIGlmIChleHByZXNzaW9uKSB7XG4gICAgICAvLyBBZGQgc3BhY2UgYmV0d2VlbiBxdWFydGVyIGFuZCBtYWluIHRpbWUgZm9ybWF0XG4gICAgICBleHByZXNzaW9uICs9IGAgKyAnICcgKyBgO1xuICAgIH1cblxuICAgIC8vIFdlIG9ubHkgdXNlIHV0Y0Zvcm1hdCBmb3IgdXRjIHNjYWxlXG4gICAgLy8gRm9yIHV0YyB0aW1lIHVuaXRzLCB0aGUgZGF0YSBpcyBhbHJlYWR5IGNvbnZlcnRlZCBhcyBhIHBhcnQgb2YgdGltZVVuaXQgdHJhbnNmb3JtLlxuICAgIC8vIFRodXMsIHV0YyB0aW1lIHVuaXRzIHNob3VsZCB1c2UgdGltZUZvcm1hdCB0byBhdm9pZCBzaGlmdGluZyB0aGUgdGltZSB0d2ljZS5cbiAgICBpZiAoaXNVVENTY2FsZSkge1xuICAgICAgZXhwcmVzc2lvbiArPSBgdXRjRm9ybWF0KCR7ZmllbGR9LCAnJHtkYXRlVGltZUNvbXBvbmVudHMuam9pbignICcpfScpYDtcbiAgICB9IGVsc2Uge1xuICAgICAgZXhwcmVzc2lvbiArPSBgdGltZUZvcm1hdCgke2ZpZWxkfSwgJyR7ZGF0ZVRpbWVDb21wb25lbnRzLmpvaW4oJyAnKX0nKWA7XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgZXhwcmVzc2lvbiBpcyBzdGlsbCBhbiBlbXB0eSBzdHJpbmcsIHJldHVybiB1bmRlZmluZWQgaW5zdGVhZC5cbiAgcmV0dXJuIGV4cHJlc3Npb24gfHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplVGltZVVuaXQodGltZVVuaXQ6IFRpbWVVbml0KTogVGltZVVuaXQge1xuICBpZiAodGltZVVuaXQgIT09ICdkYXknICYmIHRpbWVVbml0LmluZGV4T2YoJ2RheScpID49IDApIHtcbiAgICBsb2cud2Fybihsb2cubWVzc2FnZS5kYXlSZXBsYWNlZFdpdGhEYXRlKHRpbWVVbml0KSk7XG4gICAgcmV0dXJuIHRpbWVVbml0LnJlcGxhY2UoJ2RheScsICdkYXRlJykgYXMgVGltZVVuaXQ7XG4gIH1cbiAgcmV0dXJuIHRpbWVVbml0O1xufVxuIl19","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/** Constants and utilities for data type */\n/** Data type based on level of measurement */\nvar Type;\n(function (Type) {\n    Type.QUANTITATIVE = 'quantitative';\n    Type.ORDINAL = 'ordinal';\n    Type.TEMPORAL = 'temporal';\n    Type.NOMINAL = 'nominal';\n    Type.LATITUDE = 'latitude';\n    Type.LONGITUDE = 'longitude';\n    Type.GEOJSON = 'geojson';\n})(Type = exports.Type || (exports.Type = {}));\nvar TYPE_INDEX = {\n    quantitative: 1,\n    ordinal: 1,\n    temporal: 1,\n    nominal: 1,\n    latitude: 1,\n    longitude: 1,\n    geojson: 1\n};\nfunction isType(t) {\n    return !!TYPE_INDEX[t];\n}\nexports.isType = isType;\nexports.QUANTITATIVE = Type.QUANTITATIVE;\nexports.ORDINAL = Type.ORDINAL;\nexports.TEMPORAL = Type.TEMPORAL;\nexports.NOMINAL = Type.NOMINAL;\nexports.GEOJSON = Type.GEOJSON;\n/**\n * Get full, lowercase type name for a given type.\n * @param  type\n * @return Full type name.\n */\nfunction getFullName(type) {\n    if (type) {\n        type = type.toLowerCase();\n        switch (type) {\n            case 'q':\n            case exports.QUANTITATIVE:\n                return 'quantitative';\n            case 't':\n            case exports.TEMPORAL:\n                return 'temporal';\n            case 'o':\n            case exports.ORDINAL:\n                return 'ordinal';\n            case 'n':\n            case exports.NOMINAL:\n                return 'nominal';\n            case Type.LATITUDE:\n                return 'latitude';\n            case Type.LONGITUDE:\n                return 'longitude';\n            case exports.GEOJSON:\n                return 'geojson';\n        }\n    }\n    // If we get invalid input, return undefined type.\n    return undefined;\n}\nexports.getFullName = getFullName;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHlwZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90eXBlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQ0EsNENBQTRDO0FBQzVDLDhDQUE4QztBQUU5QyxJQUFpQixJQUFJLENBU3BCO0FBVEQsV0FBaUIsSUFBSTtJQUNOLGlCQUFZLEdBQW1CLGNBQWMsQ0FBQztJQUM5QyxZQUFPLEdBQWMsU0FBUyxDQUFDO0lBQy9CLGFBQVEsR0FBZSxVQUFVLENBQUM7SUFDbEMsWUFBTyxHQUFjLFNBQVMsQ0FBQztJQUUvQixhQUFRLEdBQWUsVUFBVSxDQUFDO0lBQ2xDLGNBQVMsR0FBZ0IsV0FBVyxDQUFDO0lBQ3JDLFlBQU8sR0FBYyxTQUFTLENBQUM7QUFDOUMsQ0FBQyxFQVRnQixJQUFJLEdBQUosWUFBSSxLQUFKLFlBQUksUUFTcEI7QUFNRCxJQUFNLFVBQVUsR0FBZTtJQUM3QixZQUFZLEVBQUUsQ0FBQztJQUNmLE9BQU8sRUFBRSxDQUFDO0lBQ1YsUUFBUSxFQUFFLENBQUM7SUFDWCxPQUFPLEVBQUUsQ0FBQztJQUNWLFFBQVEsRUFBRSxDQUFDO0lBQ1gsU0FBUyxFQUFFLENBQUM7SUFDWixPQUFPLEVBQUUsQ0FBQztDQUNYLENBQUM7QUFFRixnQkFBdUIsQ0FBTTtJQUMzQixPQUFPLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDekIsQ0FBQztBQUZELHdCQUVDO0FBRVksUUFBQSxZQUFZLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQztBQUNqQyxRQUFBLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO0FBQ3ZCLFFBQUEsUUFBUSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUM7QUFDekIsUUFBQSxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztBQUV2QixRQUFBLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO0FBRXBDOzs7O0dBSUc7QUFDSCxxQkFBNEIsSUFBaUI7SUFDM0MsSUFBSSxJQUFJLEVBQUU7UUFDUixJQUFJLEdBQUcsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQzFCLFFBQVEsSUFBSSxFQUFFO1lBQ1osS0FBSyxHQUFHLENBQUM7WUFDVCxLQUFLLG9CQUFZO2dCQUNmLE9BQU8sY0FBYyxDQUFDO1lBQ3hCLEtBQUssR0FBRyxDQUFDO1lBQ1QsS0FBSyxnQkFBUTtnQkFDWCxPQUFPLFVBQVUsQ0FBQztZQUNwQixLQUFLLEdBQUcsQ0FBQztZQUNULEtBQUssZUFBTztnQkFDVixPQUFPLFNBQVMsQ0FBQztZQUNuQixLQUFLLEdBQUcsQ0FBQztZQUNULEtBQUssZUFBTztnQkFDVixPQUFPLFNBQVMsQ0FBQztZQUNuQixLQUFLLElBQUksQ0FBQyxRQUFRO2dCQUNoQixPQUFPLFVBQVUsQ0FBQztZQUNwQixLQUFLLElBQUksQ0FBQyxTQUFTO2dCQUNqQixPQUFPLFdBQVcsQ0FBQztZQUNyQixLQUFLLGVBQU87Z0JBQ1YsT0FBTyxTQUFTLENBQUM7U0FDcEI7S0FDRjtJQUNELGtEQUFrRDtJQUNsRCxPQUFPLFNBQVMsQ0FBQztBQUNuQixDQUFDO0FBMUJELGtDQTBCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7RmxhZ30gZnJvbSAnLi91dGlsJztcbi8qKiBDb25zdGFudHMgYW5kIHV0aWxpdGllcyBmb3IgZGF0YSB0eXBlICovXG4vKiogRGF0YSB0eXBlIGJhc2VkIG9uIGxldmVsIG9mIG1lYXN1cmVtZW50ICovXG5cbmV4cG9ydCBuYW1lc3BhY2UgVHlwZSB7XG4gIGV4cG9ydCBjb25zdCBRVUFOVElUQVRJVkU6ICdxdWFudGl0YXRpdmUnID0gJ3F1YW50aXRhdGl2ZSc7XG4gIGV4cG9ydCBjb25zdCBPUkRJTkFMOiAnb3JkaW5hbCcgPSAnb3JkaW5hbCc7XG4gIGV4cG9ydCBjb25zdCBURU1QT1JBTDogJ3RlbXBvcmFsJyA9ICd0ZW1wb3JhbCc7XG4gIGV4cG9ydCBjb25zdCBOT01JTkFMOiAnbm9taW5hbCcgPSAnbm9taW5hbCc7XG5cbiAgZXhwb3J0IGNvbnN0IExBVElUVURFOiAnbGF0aXR1ZGUnID0gJ2xhdGl0dWRlJztcbiAgZXhwb3J0IGNvbnN0IExPTkdJVFVERTogJ2xvbmdpdHVkZScgPSAnbG9uZ2l0dWRlJztcbiAgZXhwb3J0IGNvbnN0IEdFT0pTT046ICdnZW9qc29uJyA9ICdnZW9qc29uJztcbn1cbmV4cG9ydCB0eXBlIEJhc2ljVHlwZSA9IHR5cGVvZiBUeXBlLlFVQU5USVRBVElWRSB8IHR5cGVvZiBUeXBlLk9SRElOQUwgfCB0eXBlb2YgVHlwZS5URU1QT1JBTCB8IHR5cGVvZiBUeXBlLk5PTUlOQUw7XG5leHBvcnQgdHlwZSBHZW9UeXBlID0gdHlwZW9mIFR5cGUuTEFUSVRVREUgfCB0eXBlb2YgVHlwZS5MT05HSVRVREUgfCB0eXBlb2YgVHlwZS5HRU9KU09OO1xuXG5leHBvcnQgdHlwZSBUeXBlID0gQmFzaWNUeXBlIHwgR2VvVHlwZTtcblxuY29uc3QgVFlQRV9JTkRFWDogRmxhZzxUeXBlPiA9IHtcbiAgcXVhbnRpdGF0aXZlOiAxLFxuICBvcmRpbmFsOiAxLFxuICB0ZW1wb3JhbDogMSxcbiAgbm9taW5hbDogMSxcbiAgbGF0aXR1ZGU6IDEsXG4gIGxvbmdpdHVkZTogMSxcbiAgZ2VvanNvbjogMVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzVHlwZSh0OiBhbnkpOiB0IGlzIFR5cGUge1xuICByZXR1cm4gISFUWVBFX0lOREVYW3RdO1xufVxuXG5leHBvcnQgY29uc3QgUVVBTlRJVEFUSVZFID0gVHlwZS5RVUFOVElUQVRJVkU7XG5leHBvcnQgY29uc3QgT1JESU5BTCA9IFR5cGUuT1JESU5BTDtcbmV4cG9ydCBjb25zdCBURU1QT1JBTCA9IFR5cGUuVEVNUE9SQUw7XG5leHBvcnQgY29uc3QgTk9NSU5BTCA9IFR5cGUuTk9NSU5BTDtcblxuZXhwb3J0IGNvbnN0IEdFT0pTT04gPSBUeXBlLkdFT0pTT047XG5cbi8qKlxuICogR2V0IGZ1bGwsIGxvd2VyY2FzZSB0eXBlIG5hbWUgZm9yIGEgZ2l2ZW4gdHlwZS5cbiAqIEBwYXJhbSAgdHlwZVxuICogQHJldHVybiBGdWxsIHR5cGUgbmFtZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEZ1bGxOYW1lKHR5cGU6IFR5cGV8c3RyaW5nKTogVHlwZSB7XG4gIGlmICh0eXBlKSB7XG4gICAgdHlwZSA9IHR5cGUudG9Mb3dlckNhc2UoKTtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ3EnOlxuICAgICAgY2FzZSBRVUFOVElUQVRJVkU6XG4gICAgICAgIHJldHVybiAncXVhbnRpdGF0aXZlJztcbiAgICAgIGNhc2UgJ3QnOlxuICAgICAgY2FzZSBURU1QT1JBTDpcbiAgICAgICAgcmV0dXJuICd0ZW1wb3JhbCc7XG4gICAgICBjYXNlICdvJzpcbiAgICAgIGNhc2UgT1JESU5BTDpcbiAgICAgICAgcmV0dXJuICdvcmRpbmFsJztcbiAgICAgIGNhc2UgJ24nOlxuICAgICAgY2FzZSBOT01JTkFMOlxuICAgICAgICByZXR1cm4gJ25vbWluYWwnO1xuICAgICAgY2FzZSBUeXBlLkxBVElUVURFOlxuICAgICAgICByZXR1cm4gJ2xhdGl0dWRlJztcbiAgICAgIGNhc2UgVHlwZS5MT05HSVRVREU6XG4gICAgICAgIHJldHVybiAnbG9uZ2l0dWRlJztcbiAgICAgIGNhc2UgR0VPSlNPTjpcbiAgICAgICAgcmV0dXJuICdnZW9qc29uJztcbiAgICB9XG4gIH1cbiAgLy8gSWYgd2UgZ2V0IGludmFsaWQgaW5wdXQsIHJldHVybiB1bmRlZmluZWQgdHlwZS5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbiJdfQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar property_1 = require(\"./property\");\nvar util_1 = require(\"./util\");\nvar axis_1 = require(\"vega-lite/build/src/axis\");\nvar channel_1 = require(\"vega-lite/build/src/channel\");\nvar mark_1 = require(\"vega-lite/build/src/mark\");\nvar scale_1 = require(\"vega-lite/build/src/scale\");\nvar legend_1 = require(\"vega-lite/build/src/legend\");\nvar timeunit_1 = require(\"vega-lite/build/src/timeunit\");\nvar type_1 = require(\"vega-lite/build/src/type\");\nexports.SHORT_WILDCARD = '?';\nfunction isWildcard(prop) {\n    return isShortWildcard(prop) || isWildcardDef(prop);\n}\nexports.isWildcard = isWildcard;\nfunction isShortWildcard(prop) {\n    return prop === exports.SHORT_WILDCARD;\n}\nexports.isShortWildcard = isShortWildcard;\nfunction isWildcardDef(prop) {\n    return prop !== undefined && prop != null && (!!prop.enum || !!prop.name) && !util_1.isArray(prop);\n}\nexports.isWildcardDef = isWildcardDef;\nfunction initWildcard(prop, defaultName, defaultEnumValues) {\n    return util_1.extend({}, {\n        name: defaultName,\n        enum: defaultEnumValues\n    }, prop === exports.SHORT_WILDCARD ? {} : prop);\n}\nexports.initWildcard = initWildcard;\n/**\n * Initial short names from list of full camelCaseNames.\n * For each camelCaseNames, return unique short names based on initial (e.g., `ccn`)\n */\nfunction initNestedPropName(fullNames) {\n    var index = {};\n    var has = {};\n    var _loop_1 = function (fullName) {\n        var initialIndices = [0];\n        for (var i = 0; i < fullName.length; i++) {\n            if (fullName.charAt(i).toUpperCase() === fullName.charAt(i)) {\n                initialIndices.push(i);\n            }\n        }\n        var shortName = initialIndices.map(function (i) { return fullName.charAt(i); }).join('').toLowerCase();\n        if (!has[shortName]) {\n            index[fullName] = shortName;\n            has[shortName] = true;\n            return \"continue\";\n        }\n        // If duplicate, add last character and try again!\n        if (initialIndices[initialIndices.length - 1] !== fullName.length - 1) {\n            shortName = initialIndices.concat([fullName.length - 1]).map(function (i) { return fullName.charAt(i); }).join('').toLowerCase();\n            if (!has[shortName]) {\n                index[fullName] = shortName;\n                has[shortName] = true;\n                return \"continue\";\n            }\n        }\n        for (var i = 1; !index[fullName]; i++) {\n            var shortNameWithNo = shortName + '_' + i;\n            if (!has[shortNameWithNo]) {\n                index[fullName] = shortNameWithNo;\n                has[shortNameWithNo] = true;\n                break;\n            }\n        }\n    };\n    for (var _i = 0, fullNames_1 = fullNames; _i < fullNames_1.length; _i++) {\n        var fullName = fullNames_1[_i];\n        _loop_1(fullName);\n    }\n    return index;\n}\nexports.DEFAULT_NAME = {\n    mark: 'm',\n    channel: 'c',\n    aggregate: 'a',\n    autoCount: '#',\n    hasFn: 'h',\n    bin: 'b',\n    sort: 'so',\n    stack: 'st',\n    scale: 's',\n    format: 'f',\n    axis: 'ax',\n    legend: 'l',\n    value: 'v',\n    timeUnit: 'tu',\n    field: 'f',\n    type: 't',\n    binProps: {\n        maxbins: 'mb',\n        min: 'mi',\n        max: 'ma',\n        base: 'b',\n        step: 's',\n        steps: 'ss',\n        minstep: 'ms',\n        divide: 'd'\n    },\n    sortProps: {\n        field: 'f',\n        op: 'o',\n        order: 'or'\n    },\n    scaleProps: initNestedPropName(scale_1.SCALE_PROPERTIES),\n    axisProps: initNestedPropName(axis_1.AXIS_PROPERTIES),\n    legendProps: initNestedPropName(legend_1.LEGEND_PROPERTIES)\n};\nfunction getDefaultName(prop) {\n    if (property_1.isEncodingNestedProp(prop)) {\n        return exports.DEFAULT_NAME[prop.parent] + '-' + exports.DEFAULT_NAME[prop.parent + 'Props'][prop.child];\n    }\n    if (exports.DEFAULT_NAME[prop]) {\n        return exports.DEFAULT_NAME[prop];\n    }\n    /* istanbul ignore next */\n    throw new Error('Default name undefined for ' + prop);\n}\nexports.getDefaultName = getDefaultName;\nvar DEFAULT_BOOLEAN_ENUM = [false, true];\nvar DEFAULT_BIN_PROPS_ENUM = {\n    maxbins: [5, 10, 20],\n    extent: [undefined],\n    base: [10],\n    step: [undefined],\n    steps: [undefined],\n    minstep: [undefined],\n    divide: [[5, 2]]\n};\nvar DEFAULT_SORT_PROPS = {\n    field: [undefined],\n    op: ['min', 'mean'],\n    order: ['ascending', 'descending']\n};\nvar DEFAULT_SCALE_PROPS_ENUM = {\n    type: [undefined, scale_1.ScaleType.LOG],\n    domain: [undefined],\n    base: [undefined],\n    exponent: [1, 2],\n    clamp: DEFAULT_BOOLEAN_ENUM,\n    nice: DEFAULT_BOOLEAN_ENUM,\n    reverse: DEFAULT_BOOLEAN_ENUM,\n    round: DEFAULT_BOOLEAN_ENUM,\n    zero: DEFAULT_BOOLEAN_ENUM,\n    padding: [undefined],\n    paddingInner: [undefined],\n    paddingOuter: [undefined],\n    interpolate: [undefined],\n    range: [undefined],\n    rangeStep: [17, 21],\n    scheme: [undefined],\n};\nvar DEFAULT_AXIS_PROPS_ENUM = {\n    zindex: [1, 0],\n    offset: [undefined],\n    orient: [undefined],\n    values: [undefined],\n    encoding: [undefined],\n    domain: DEFAULT_BOOLEAN_ENUM,\n    grid: DEFAULT_BOOLEAN_ENUM,\n    format: [undefined],\n    labels: DEFAULT_BOOLEAN_ENUM,\n    labelAngle: [undefined],\n    labelOverlap: [undefined],\n    labelPadding: [undefined],\n    labelBound: [undefined],\n    labelFlush: [undefined],\n    maxExtent: [undefined],\n    minExtent: [undefined],\n    position: [undefined],\n    ticks: DEFAULT_BOOLEAN_ENUM,\n    tickCount: [undefined],\n    tickSize: [undefined],\n    title: [undefined],\n    titleMaxLength: [undefined],\n    titlePadding: [undefined]\n};\nvar DEFAULT_LEGEND_PROPS_ENUM = {\n    entryPadding: [undefined],\n    orient: ['left', 'right'],\n    offset: [undefined],\n    padding: [undefined],\n    format: [undefined],\n    values: [undefined],\n    tickCount: [undefined],\n    title: [undefined],\n    type: [undefined],\n    zindex: [undefined]\n};\n// Use FullEnumIndex to make sure we have all properties specified here!\nexports.DEFAULT_ENUM_INDEX = {\n    mark: [mark_1.Mark.POINT, mark_1.Mark.BAR, mark_1.Mark.LINE, mark_1.Mark.AREA, mark_1.Mark.RECT, mark_1.Mark.TICK, mark_1.Mark.TEXT],\n    channel: [channel_1.X, channel_1.Y, channel_1.ROW, channel_1.COLUMN, channel_1.SIZE, channel_1.COLOR],\n    aggregate: [undefined, 'mean'],\n    autoCount: DEFAULT_BOOLEAN_ENUM,\n    bin: DEFAULT_BOOLEAN_ENUM,\n    hasFn: DEFAULT_BOOLEAN_ENUM,\n    timeUnit: [undefined, timeunit_1.TimeUnit.YEAR, timeunit_1.TimeUnit.MONTH, timeunit_1.TimeUnit.MINUTES, timeunit_1.TimeUnit.SECONDS],\n    field: [undefined],\n    type: [type_1.Type.NOMINAL, type_1.Type.ORDINAL, type_1.Type.QUANTITATIVE, type_1.Type.TEMPORAL],\n    sort: ['ascending', 'descending'],\n    stack: ['zero', 'normalize', 'center', null],\n    value: [undefined],\n    format: [undefined],\n    scale: [true],\n    axis: DEFAULT_BOOLEAN_ENUM,\n    legend: DEFAULT_BOOLEAN_ENUM,\n    binProps: DEFAULT_BIN_PROPS_ENUM,\n    sortProps: DEFAULT_SORT_PROPS,\n    scaleProps: DEFAULT_SCALE_PROPS_ENUM,\n    axisProps: DEFAULT_AXIS_PROPS_ENUM,\n    legendProps: DEFAULT_LEGEND_PROPS_ENUM\n};\n// TODO: rename this to getDefaultEnum\nfunction getDefaultEnumValues(prop, schema, opt) {\n    if (prop === 'field' || (property_1.isEncodingNestedProp(prop) && prop.parent === 'sort' && prop.child === 'field')) {\n        // For field, by default enumerate all fields\n        return schema.fieldNames();\n    }\n    var val;\n    if (property_1.isEncodingNestedProp(prop)) {\n        val = opt.enum[prop.parent + 'Props'][prop.child];\n    }\n    else {\n        val = opt.enum[prop];\n    }\n    if (val !== undefined) {\n        return val;\n    }\n    /* istanbul ignore next */\n    throw new Error('No default enumValues for ' + JSON.stringify(prop));\n}\nexports.getDefaultEnumValues = getDefaultEnumValues;\n//# sourceMappingURL=wildcard.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar channel_1 = require(\"vega-lite/build/src/channel\");\nvar property_1 = require(\"./property\");\nvar wildcard_1 = require(\"./wildcard\");\nexports.DEFAULT_QUERY_CONFIG = {\n    verbose: false,\n    defaultSpecConfig: {\n        line: { point: true },\n        scale: { useUnaggregatedDomain: true }\n    },\n    propertyPrecedence: property_1.DEFAULT_PROP_PRECEDENCE.map(property_1.toKey),\n    enum: wildcard_1.DEFAULT_ENUM_INDEX,\n    numberNominalProportion: 0.05,\n    numberNominalLimit: 40,\n    // CONSTRAINTS\n    constraintManuallySpecifiedValue: false,\n    // Spec Constraints -- See description inside src/constraints/spec.ts\n    autoAddCount: false,\n    hasAppropriateGraphicTypeForMark: true,\n    omitAggregate: false,\n    omitAggregatePlotWithDimensionOnlyOnFacet: true,\n    omitAggregatePlotWithoutDimension: false,\n    omitBarLineAreaWithOcclusion: true,\n    omitBarTickWithSize: true,\n    omitMultipleNonPositionalChannels: true,\n    omitRaw: false,\n    omitRawContinuousFieldForAggregatePlot: true,\n    omitRepeatedField: true,\n    omitNonPositionalOrFacetOverPositionalChannels: true,\n    omitTableWithOcclusionIfAutoAddCount: true,\n    omitVerticalDotPlot: false,\n    omitInvalidStackSpec: true,\n    omitNonSumStack: true,\n    preferredBinAxis: channel_1.Channel.X,\n    preferredTemporalAxis: channel_1.Channel.X,\n    preferredOrdinalAxis: channel_1.Channel.Y,\n    preferredNominalAxis: channel_1.Channel.Y,\n    preferredFacet: channel_1.Channel.ROW,\n    // Field Encoding Constraints -- See description inside src/constraint/field.ts\n    minCardinalityForBin: 15,\n    maxCardinalityForCategoricalColor: 20,\n    maxCardinalityForFacet: 20,\n    maxCardinalityForShape: 6,\n    timeUnitShouldHaveVariation: true,\n    typeMatchesSchemaType: true,\n    // STYLIZE\n    stylize: true,\n    smallRangeStepForHighCardinalityOrFacet: { maxCardinality: 10, rangeStep: 12 },\n    nominalColorScaleForHighCardinality: { maxCardinality: 10, palette: 'category20' },\n    xAxisOnTopForHighYCardinalityWithoutColumn: { maxCardinality: 30 },\n    // RANKING PREFERENCE\n    maxGoodCardinalityForFacet: 5,\n    maxGoodCardinalityForColor: 7,\n    // HIGH CARDINALITY STRINGS\n    minPercentUniqueForKey: .8,\n    minCardinalityForKey: 50,\n};\nfunction extendConfig(opt) {\n    return __assign({}, exports.DEFAULT_QUERY_CONFIG, opt, { enum: extendEnumIndex(opt.enum) });\n}\nexports.extendConfig = extendConfig;\nfunction extendEnumIndex(enumIndex) {\n    var enumOpt = __assign({}, wildcard_1.DEFAULT_ENUM_INDEX, enumIndex, { binProps: extendNestedEnumIndex(enumIndex, 'bin'), scaleProps: extendNestedEnumIndex(enumIndex, 'scale'), axisProps: extendNestedEnumIndex(enumIndex, 'axis'), legendProps: extendNestedEnumIndex(enumIndex, 'legend') });\n    return enumOpt;\n}\nfunction extendNestedEnumIndex(enumIndex, prop) {\n    return __assign({}, wildcard_1.DEFAULT_ENUM_INDEX[prop + 'Props'], enumIndex[prop + 'Props']);\n}\n//# sourceMappingURL=config.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar vega_util_1 = require(\"vega-util\");\nvar util_1 = require(\"./util\");\nvar AGGREGATE_OP_INDEX = {\n    argmax: 1,\n    argmin: 1,\n    average: 1,\n    count: 1,\n    distinct: 1,\n    max: 1,\n    mean: 1,\n    median: 1,\n    min: 1,\n    missing: 1,\n    q1: 1,\n    q3: 1,\n    ci0: 1,\n    ci1: 1,\n    stderr: 1,\n    stdev: 1,\n    stdevp: 1,\n    sum: 1,\n    valid: 1,\n    values: 1,\n    variance: 1,\n    variancep: 1,\n};\nexports.AGGREGATE_OPS = util_1.flagKeys(AGGREGATE_OP_INDEX);\nfunction isAggregateOp(a) {\n    return !!AGGREGATE_OP_INDEX[a];\n}\nexports.isAggregateOp = isAggregateOp;\nexports.COUNTING_OPS = ['count', 'valid', 'missing', 'distinct'];\nfunction isCountingAggregateOp(aggregate) {\n    return aggregate && util_1.contains(exports.COUNTING_OPS, aggregate);\n}\nexports.isCountingAggregateOp = isCountingAggregateOp;\n/** Additive-based aggregation operations.  These can be applied to stack. */\nexports.SUM_OPS = [\n    'count',\n    'sum',\n    'distinct',\n    'valid',\n    'missing'\n];\n/**\n * Aggregation operators that always produce values within the range [domainMin, domainMax].\n */\nexports.SHARED_DOMAIN_OPS = [\n    'mean',\n    'average',\n    'median',\n    'q1',\n    'q3',\n    'min',\n    'max',\n];\nexports.SHARED_DOMAIN_OP_INDEX = vega_util_1.toSet(exports.SHARED_DOMAIN_OPS);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWdncmVnYXRlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2FnZ3JlZ2F0ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBLHVDQUFnQztBQUNoQywrQkFBZ0Q7QUFFaEQsSUFBTSxrQkFBa0IsR0FBc0I7SUFDNUMsTUFBTSxFQUFFLENBQUM7SUFDVCxNQUFNLEVBQUUsQ0FBQztJQUNULE9BQU8sRUFBRSxDQUFDO0lBQ1YsS0FBSyxFQUFFLENBQUM7SUFDUixRQUFRLEVBQUUsQ0FBQztJQUNYLEdBQUcsRUFBRSxDQUFDO0lBQ04sSUFBSSxFQUFFLENBQUM7SUFDUCxNQUFNLEVBQUUsQ0FBQztJQUNULEdBQUcsRUFBRSxDQUFDO0lBQ04sT0FBTyxFQUFFLENBQUM7SUFDVixFQUFFLEVBQUUsQ0FBQztJQUNMLEVBQUUsRUFBRSxDQUFDO0lBQ0wsR0FBRyxFQUFFLENBQUM7SUFDTixHQUFHLEVBQUUsQ0FBQztJQUNOLE1BQU0sRUFBRSxDQUFDO0lBQ1QsS0FBSyxFQUFFLENBQUM7SUFDUixNQUFNLEVBQUUsQ0FBQztJQUNULEdBQUcsRUFBRSxDQUFDO0lBQ04sS0FBSyxFQUFFLENBQUM7SUFDUixNQUFNLEVBQUUsQ0FBQztJQUNULFFBQVEsRUFBRSxDQUFDO0lBQ1gsU0FBUyxFQUFFLENBQUM7Q0FDYixDQUFDO0FBRVcsUUFBQSxhQUFhLEdBQUcsZUFBUSxDQUFDLGtCQUFrQixDQUFDLENBQUM7QUFFMUQsdUJBQThCLENBQVM7SUFDckMsT0FBTyxDQUFDLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDakMsQ0FBQztBQUZELHNDQUVDO0FBRVksUUFBQSxZQUFZLEdBQWtCLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsVUFBVSxDQUFDLENBQUM7QUFFckYsK0JBQXNDLFNBQWlCO0lBQ3JELE9BQU8sU0FBUyxJQUFJLGVBQVEsQ0FBQyxvQkFBWSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQ3hELENBQUM7QUFGRCxzREFFQztBQUVELDZFQUE2RTtBQUNoRSxRQUFBLE9BQU8sR0FBa0I7SUFDbEMsT0FBTztJQUNQLEtBQUs7SUFDTCxVQUFVO0lBQ1YsT0FBTztJQUNQLFNBQVM7Q0FDWixDQUFDO0FBRUY7O0dBRUc7QUFDVSxRQUFBLGlCQUFpQixHQUFrQjtJQUM1QyxNQUFNO0lBQ04sU0FBUztJQUNULFFBQVE7SUFDUixJQUFJO0lBQ0osSUFBSTtJQUNKLEtBQUs7SUFDTCxLQUFLO0NBQ1IsQ0FBQztBQUVXLFFBQUEsc0JBQXNCLEdBQUcsaUJBQUssQ0FBQyx5QkFBaUIsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtBZ2dyZWdhdGVPcH0gZnJvbSAndmVnYSc7XG5pbXBvcnQge3RvU2V0fSBmcm9tICd2ZWdhLXV0aWwnO1xuaW1wb3J0IHtjb250YWlucywgRmxhZywgZmxhZ0tleXN9IGZyb20gJy4vdXRpbCc7XG5cbmNvbnN0IEFHR1JFR0FURV9PUF9JTkRFWDogRmxhZzxBZ2dyZWdhdGVPcD4gPSB7XG4gIGFyZ21heDogMSxcbiAgYXJnbWluOiAxLFxuICBhdmVyYWdlOiAxLFxuICBjb3VudDogMSxcbiAgZGlzdGluY3Q6IDEsXG4gIG1heDogMSxcbiAgbWVhbjogMSxcbiAgbWVkaWFuOiAxLFxuICBtaW46IDEsXG4gIG1pc3Npbmc6IDEsXG4gIHExOiAxLFxuICBxMzogMSxcbiAgY2kwOiAxLFxuICBjaTE6IDEsXG4gIHN0ZGVycjogMSxcbiAgc3RkZXY6IDEsXG4gIHN0ZGV2cDogMSxcbiAgc3VtOiAxLFxuICB2YWxpZDogMSxcbiAgdmFsdWVzOiAxLFxuICB2YXJpYW5jZTogMSxcbiAgdmFyaWFuY2VwOiAxLFxufTtcblxuZXhwb3J0IGNvbnN0IEFHR1JFR0FURV9PUFMgPSBmbGFnS2V5cyhBR0dSRUdBVEVfT1BfSU5ERVgpO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNBZ2dyZWdhdGVPcChhOiBzdHJpbmcpOiBhIGlzIEFnZ3JlZ2F0ZU9wIHtcbiAgcmV0dXJuICEhQUdHUkVHQVRFX09QX0lOREVYW2FdO1xufVxuXG5leHBvcnQgY29uc3QgQ09VTlRJTkdfT1BTOiBBZ2dyZWdhdGVPcFtdID0gWydjb3VudCcsICd2YWxpZCcsICdtaXNzaW5nJywgJ2Rpc3RpbmN0J107XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0NvdW50aW5nQWdncmVnYXRlT3AoYWdncmVnYXRlOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuIGFnZ3JlZ2F0ZSAmJiBjb250YWlucyhDT1VOVElOR19PUFMsIGFnZ3JlZ2F0ZSk7XG59XG5cbi8qKiBBZGRpdGl2ZS1iYXNlZCBhZ2dyZWdhdGlvbiBvcGVyYXRpb25zLiAgVGhlc2UgY2FuIGJlIGFwcGxpZWQgdG8gc3RhY2suICovXG5leHBvcnQgY29uc3QgU1VNX09QUzogQWdncmVnYXRlT3BbXSA9IFtcbiAgICAnY291bnQnLFxuICAgICdzdW0nLFxuICAgICdkaXN0aW5jdCcsXG4gICAgJ3ZhbGlkJyxcbiAgICAnbWlzc2luZydcbl07XG5cbi8qKlxuICogQWdncmVnYXRpb24gb3BlcmF0b3JzIHRoYXQgYWx3YXlzIHByb2R1Y2UgdmFsdWVzIHdpdGhpbiB0aGUgcmFuZ2UgW2RvbWFpbk1pbiwgZG9tYWluTWF4XS5cbiAqL1xuZXhwb3J0IGNvbnN0IFNIQVJFRF9ET01BSU5fT1BTOiBBZ2dyZWdhdGVPcFtdID0gW1xuICAgICdtZWFuJyxcbiAgICAnYXZlcmFnZScsXG4gICAgJ21lZGlhbicsXG4gICAgJ3ExJyxcbiAgICAncTMnLFxuICAgICdtaW4nLFxuICAgICdtYXgnLFxuXTtcblxuZXhwb3J0IGNvbnN0IFNIQVJFRF9ET01BSU5fT1BfSU5ERVggPSB0b1NldChTSEFSRURfRE9NQUlOX09QUyk7XG4iXX0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar vega_util_1 = require(\"vega-util\");\nvar channel_1 = require(\"./channel\");\nvar util_1 = require(\"./util\");\nfunction binToString(bin) {\n    if (vega_util_1.isBoolean(bin)) {\n        return 'bin';\n    }\n    return 'bin' + util_1.keys(bin).map(function (p) { return util_1.varName(\"_\" + p + \"_\" + bin[p]); }).join('');\n}\nexports.binToString = binToString;\nfunction autoMaxBins(channel) {\n    switch (channel) {\n        case channel_1.ROW:\n        case channel_1.COLUMN:\n        case channel_1.SIZE:\n        case channel_1.COLOR:\n        case channel_1.FILL:\n        case channel_1.STROKE:\n        case channel_1.OPACITY:\n        // Facets and Size shouldn't have too many bins\n        // We choose 6 like shape to simplify the rule\n        case channel_1.SHAPE:\n            return 6; // Vega's \"shape\" has 6 distinct values\n        default:\n            return 10;\n    }\n}\nexports.autoMaxBins = autoMaxBins;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmluLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2Jpbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHVDQUFvQztBQUNwQyxxQ0FBMEY7QUFDMUYsK0JBQXFDO0FBNkRyQyxxQkFBNEIsR0FBd0I7SUFDbEQsSUFBSSxxQkFBUyxDQUFDLEdBQUcsQ0FBQyxFQUFFO1FBQ2xCLE9BQU8sS0FBSyxDQUFDO0tBQ2Q7SUFDRCxPQUFPLEtBQUssR0FBRyxXQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLFVBQUEsQ0FBQyxJQUFJLE9BQUEsY0FBTyxDQUFDLE1BQUksQ0FBQyxTQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUcsQ0FBQyxFQUExQixDQUEwQixDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ3pFLENBQUM7QUFMRCxrQ0FLQztBQUVELHFCQUE0QixPQUFnQjtJQUMxQyxRQUFRLE9BQU8sRUFBRTtRQUNmLEtBQUssYUFBRyxDQUFDO1FBQ1QsS0FBSyxnQkFBTSxDQUFDO1FBQ1osS0FBSyxjQUFJLENBQUM7UUFDVixLQUFLLGVBQUssQ0FBQztRQUNYLEtBQUssY0FBSSxDQUFDO1FBQ1YsS0FBSyxnQkFBTSxDQUFDO1FBQ1osS0FBSyxpQkFBTyxDQUFDO1FBQ1gsK0NBQStDO1FBQy9DLDhDQUE4QztRQUNoRCxLQUFLLGVBQUs7WUFDUixPQUFPLENBQUMsQ0FBQyxDQUFDLHVDQUF1QztRQUNuRDtZQUNFLE9BQU8sRUFBRSxDQUFDO0tBQ2I7QUFDSCxDQUFDO0FBaEJELGtDQWdCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7aXNCb29sZWFufSBmcm9tICd2ZWdhLXV0aWwnO1xuaW1wb3J0IHtDaGFubmVsLCBDT0xPUiwgQ09MVU1OLCBGSUxMLCBPUEFDSVRZLCBST1csIFNIQVBFLCBTSVpFLCBTVFJPS0V9IGZyb20gJy4vY2hhbm5lbCc7XG5pbXBvcnQge2tleXMsIHZhck5hbWV9IGZyb20gJy4vdXRpbCc7XG5cblxuZXhwb3J0IGludGVyZmFjZSBCYXNlQmluIHtcbiAgLyoqXG4gICAqIFRoZSBudW1iZXIgYmFzZSB0byB1c2UgZm9yIGF1dG9tYXRpYyBiaW4gZGV0ZXJtaW5hdGlvbiAoZGVmYXVsdCBpcyBiYXNlIDEwKS5cbiAgICpcbiAgICogX19EZWZhdWx0IHZhbHVlOl9fIGAxMGBcbiAgICpcbiAgICovXG4gIGJhc2U/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBBbiBleGFjdCBzdGVwIHNpemUgdG8gdXNlIGJldHdlZW4gYmlucy5cbiAgICpcbiAgICogX19Ob3RlOl9fIElmIHByb3ZpZGVkLCBvcHRpb25zIHN1Y2ggYXMgbWF4YmlucyB3aWxsIGJlIGlnbm9yZWQuXG4gICAqL1xuICBzdGVwPzogbnVtYmVyO1xuICAvKipcbiAgICogQW4gYXJyYXkgb2YgYWxsb3dhYmxlIHN0ZXAgc2l6ZXMgdG8gY2hvb3NlIGZyb20uXG4gICAqIEBtaW5JdGVtcyAxXG4gICAqL1xuICBzdGVwcz86IG51bWJlcltdO1xuICAvKipcbiAgICogQSBtaW5pbXVtIGFsbG93YWJsZSBzdGVwIHNpemUgKHBhcnRpY3VsYXJseSB1c2VmdWwgZm9yIGludGVnZXIgdmFsdWVzKS5cbiAgICovXG4gIG1pbnN0ZXA/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBTY2FsZSBmYWN0b3JzIGluZGljYXRpbmcgYWxsb3dhYmxlIHN1YmRpdmlzaW9ucy4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgWzUsIDJdLCB3aGljaCBpbmRpY2F0ZXMgdGhhdCBmb3IgYmFzZSAxMCBudW1iZXJzICh0aGUgZGVmYXVsdCBiYXNlKSwgdGhlIG1ldGhvZCBtYXkgY29uc2lkZXIgZGl2aWRpbmcgYmluIHNpemVzIGJ5IDUgYW5kL29yIDIuIEZvciBleGFtcGxlLCBmb3IgYW4gaW5pdGlhbCBzdGVwIHNpemUgb2YgMTAsIHRoZSBtZXRob2QgY2FuIGNoZWNrIGlmIGJpbiBzaXplcyBvZiAyICg9IDEwLzUpLCA1ICg9IDEwLzIpLCBvciAxICg9IDEwLyg1KjIpKSBtaWdodCBhbHNvIHNhdGlzZnkgdGhlIGdpdmVuIGNvbnN0cmFpbnRzLlxuICAgKlxuICAgKiBfX0RlZmF1bHQgdmFsdWU6X18gYFs1LCAyXWBcbiAgICpcbiAgICogQG1pbkl0ZW1zIDFcbiAgICovXG4gIGRpdmlkZT86IG51bWJlcltdO1xuICAvKipcbiAgICogTWF4aW11bSBudW1iZXIgb2YgYmlucy5cbiAgICpcbiAgICogX19EZWZhdWx0IHZhbHVlOl9fIGA2YCBmb3IgYHJvd2AsIGBjb2x1bW5gIGFuZCBgc2hhcGVgIGNoYW5uZWxzOyBgMTBgIGZvciBvdGhlciBjaGFubmVsc1xuICAgKlxuICAgKiBAbWluaW11bSAyXG4gICAqL1xuICBtYXhiaW5zPzogbnVtYmVyO1xuICAvKipcbiAgICogSWYgdHJ1ZSAodGhlIGRlZmF1bHQpLCBhdHRlbXB0cyB0byBtYWtlIHRoZSBiaW4gYm91bmRhcmllcyB1c2UgaHVtYW4tZnJpZW5kbHkgYm91bmRhcmllcywgc3VjaCBhcyBtdWx0aXBsZXMgb2YgdGVuLlxuICAgKi9cbiAgbmljZT86IGJvb2xlYW47XG59XG5cblxuLyoqXG4gKiBCaW5uaW5nIHByb3BlcnRpZXMgb3IgYm9vbGVhbiBmbGFnIGZvciBkZXRlcm1pbmluZyB3aGV0aGVyIHRvIGJpbiBkYXRhIG9yIG5vdC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCaW5QYXJhbXMgZXh0ZW5kcyBCYXNlQmluIHtcbiAgLyoqXG4gICAqIEEgdHdvLWVsZW1lbnQgKGBbbWluLCBtYXhdYCkgYXJyYXkgaW5kaWNhdGluZyB0aGUgcmFuZ2Ugb2YgZGVzaXJlZCBiaW4gdmFsdWVzLlxuICAgKiBAbWluSXRlbXMgMlxuICAgKiBAbWF4SXRlbXMgMlxuICAgKi9cbiAgZXh0ZW50PzogbnVtYmVyW107ICAvLyBWZ0JpblRyYW5zZm9ybSB1c2VzIGEgZGlmZmVyZW50IGV4dGVudCBzbyB3ZSBuZWVkIHRvIHB1bGwgdGhpcyBvdXQuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBiaW5Ub1N0cmluZyhiaW46IEJpblBhcmFtcyB8IGJvb2xlYW4pIHtcbiAgaWYgKGlzQm9vbGVhbihiaW4pKSB7XG4gICAgcmV0dXJuICdiaW4nO1xuICB9XG4gIHJldHVybiAnYmluJyArIGtleXMoYmluKS5tYXAocCA9PiB2YXJOYW1lKGBfJHtwfV8ke2JpbltwXX1gKSkuam9pbignJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhdXRvTWF4QmlucyhjaGFubmVsOiBDaGFubmVsKTogbnVtYmVyIHtcbiAgc3dpdGNoIChjaGFubmVsKSB7XG4gICAgY2FzZSBST1c6XG4gICAgY2FzZSBDT0xVTU46XG4gICAgY2FzZSBTSVpFOlxuICAgIGNhc2UgQ09MT1I6XG4gICAgY2FzZSBGSUxMOlxuICAgIGNhc2UgU1RST0tFOlxuICAgIGNhc2UgT1BBQ0lUWTpcbiAgICAgIC8vIEZhY2V0cyBhbmQgU2l6ZSBzaG91bGRuJ3QgaGF2ZSB0b28gbWFueSBiaW5zXG4gICAgICAvLyBXZSBjaG9vc2UgNiBsaWtlIHNoYXBlIHRvIHNpbXBsaWZ5IHRoZSBydWxlXG4gICAgY2FzZSBTSEFQRTpcbiAgICAgIHJldHVybiA2OyAvLyBWZWdhJ3MgXCJzaGFwZVwiIGhhcyA2IGRpc3RpbmN0IHZhbHVlc1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gMTA7XG4gIH1cbn1cbiJdfQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar vega_util_1 = require(\"vega-util\");\nvar aggregate_1 = require(\"./aggregate\");\nvar bin_1 = require(\"./bin\");\nvar channel_1 = require(\"./channel\");\nvar log = require(\"./log\");\nvar timeunit_1 = require(\"./timeunit\");\nvar type_1 = require(\"./type\");\nvar util_1 = require(\"./util\");\nfunction isConditionalSelection(c) {\n    return c['selection'];\n}\nexports.isConditionalSelection = isConditionalSelection;\nfunction isRepeatRef(field) {\n    return field && !vega_util_1.isString(field) && 'repeat' in field;\n}\nexports.isRepeatRef = isRepeatRef;\nfunction toFieldDefBase(fieldDef) {\n    var field = fieldDef.field, timeUnit = fieldDef.timeUnit, bin = fieldDef.bin, aggregate = fieldDef.aggregate;\n    return tslib_1.__assign({}, (timeUnit ? { timeUnit: timeUnit } : {}), (bin ? { bin: bin } : {}), (aggregate ? { aggregate: aggregate } : {}), { field: field });\n}\nexports.toFieldDefBase = toFieldDefBase;\nfunction isConditionalDef(channelDef) {\n    return !!channelDef && !!channelDef.condition;\n}\nexports.isConditionalDef = isConditionalDef;\n/**\n * Return if a channelDef is a ConditionalValueDef with ConditionFieldDef\n */\nfunction hasConditionalFieldDef(channelDef) {\n    return !!channelDef && !!channelDef.condition && !vega_util_1.isArray(channelDef.condition) && isFieldDef(channelDef.condition);\n}\nexports.hasConditionalFieldDef = hasConditionalFieldDef;\nfunction hasConditionalValueDef(channelDef) {\n    return !!channelDef && !!channelDef.condition && (vega_util_1.isArray(channelDef.condition) || isValueDef(channelDef.condition));\n}\nexports.hasConditionalValueDef = hasConditionalValueDef;\nfunction isFieldDef(channelDef) {\n    return !!channelDef && (!!channelDef['field'] || channelDef['aggregate'] === 'count');\n}\nexports.isFieldDef = isFieldDef;\nfunction isStringFieldDef(fieldDef) {\n    return isFieldDef(fieldDef) && vega_util_1.isString(fieldDef.field);\n}\nexports.isStringFieldDef = isStringFieldDef;\nfunction isValueDef(channelDef) {\n    return channelDef && 'value' in channelDef && channelDef['value'] !== undefined;\n}\nexports.isValueDef = isValueDef;\nfunction isScaleFieldDef(channelDef) {\n    return !!channelDef && (!!channelDef['scale'] || !!channelDef['sort']);\n}\nexports.isScaleFieldDef = isScaleFieldDef;\nfunction vgField(fieldDef, opt) {\n    if (opt === void 0) { opt = {}; }\n    var field = fieldDef.field;\n    var prefix = opt.prefix;\n    var suffix = opt.suffix;\n    if (isCount(fieldDef)) {\n        field = 'count_*';\n    }\n    else {\n        var fn = undefined;\n        if (!opt.nofn) {\n            if (fieldDef.bin) {\n                fn = bin_1.binToString(fieldDef.bin);\n                suffix = opt.binSuffix || '';\n            }\n            else if (fieldDef.aggregate) {\n                fn = String(opt.aggregate || fieldDef.aggregate);\n            }\n            else if (fieldDef.timeUnit) {\n                fn = String(fieldDef.timeUnit);\n            }\n        }\n        if (fn) {\n            field = fn + \"_\" + field;\n        }\n    }\n    if (suffix) {\n        field = field + \"_\" + suffix;\n    }\n    if (prefix) {\n        field = prefix + \"_\" + field;\n    }\n    if (opt.expr) {\n        field = \"\" + opt.expr + util_1.accessPath(field);\n    }\n    return field;\n}\nexports.vgField = vgField;\nfunction isDiscrete(fieldDef) {\n    switch (fieldDef.type) {\n        case 'nominal':\n        case 'ordinal':\n        case 'geojson':\n            return true;\n        case 'quantitative':\n            return !!fieldDef.bin;\n        case 'latitude':\n        case 'longitude':\n        case 'temporal':\n            return false;\n    }\n    throw new Error(log.message.invalidFieldType(fieldDef.type));\n}\nexports.isDiscrete = isDiscrete;\nfunction isContinuous(fieldDef) {\n    return !isDiscrete(fieldDef);\n}\nexports.isContinuous = isContinuous;\nfunction isCount(fieldDef) {\n    return fieldDef.aggregate === 'count';\n}\nexports.isCount = isCount;\nfunction verbalTitleFormatter(fieldDef, config) {\n    var field = fieldDef.field, bin = fieldDef.bin, timeUnit = fieldDef.timeUnit, aggregate = fieldDef.aggregate;\n    if (aggregate === 'count') {\n        return config.countTitle;\n    }\n    else if (bin) {\n        return field + \" (binned)\";\n    }\n    else if (timeUnit) {\n        var units = timeunit_1.getTimeUnitParts(timeUnit).join('-');\n        return field + \" (\" + units + \")\";\n    }\n    else if (aggregate) {\n        return util_1.titlecase(aggregate) + \" of \" + field;\n    }\n    return field;\n}\nexports.verbalTitleFormatter = verbalTitleFormatter;\nfunction functionalTitleFormatter(fieldDef, config) {\n    var fn = fieldDef.aggregate || fieldDef.timeUnit || (fieldDef.bin && 'bin');\n    if (fn) {\n        return fn.toUpperCase() + '(' + fieldDef.field + ')';\n    }\n    else {\n        return fieldDef.field;\n    }\n}\nexports.functionalTitleFormatter = functionalTitleFormatter;\nexports.defaultTitleFormatter = function (fieldDef, config) {\n    switch (config.fieldTitle) {\n        case 'plain':\n            return fieldDef.field;\n        case 'functional':\n            return functionalTitleFormatter(fieldDef, config);\n        default:\n            return verbalTitleFormatter(fieldDef, config);\n    }\n};\nvar titleFormatter = exports.defaultTitleFormatter;\nfunction setTitleFormatter(formatter) {\n    titleFormatter = formatter;\n}\nexports.setTitleFormatter = setTitleFormatter;\nfunction resetTitleFormatter() {\n    setTitleFormatter(exports.defaultTitleFormatter);\n}\nexports.resetTitleFormatter = resetTitleFormatter;\nfunction title(fieldDef, config) {\n    return titleFormatter(fieldDef, config);\n}\nexports.title = title;\nfunction defaultType(fieldDef, channel) {\n    if (fieldDef.timeUnit) {\n        return 'temporal';\n    }\n    if (fieldDef.bin) {\n        return 'quantitative';\n    }\n    switch (channel_1.rangeType(channel)) {\n        case 'continuous':\n            return 'quantitative';\n        case 'discrete':\n            return 'nominal';\n        case 'flexible': // color\n            return 'nominal';\n        default:\n            return 'quantitative';\n    }\n}\nexports.defaultType = defaultType;\n/**\n * Returns the fieldDef -- either from the outer channelDef or from the condition of channelDef.\n * @param channelDef\n */\nfunction getFieldDef(channelDef) {\n    if (isFieldDef(channelDef)) {\n        return channelDef;\n    }\n    else if (hasConditionalFieldDef(channelDef)) {\n        return channelDef.condition;\n    }\n    return undefined;\n}\nexports.getFieldDef = getFieldDef;\n/**\n * Convert type to full, lowercase type, or augment the fieldDef with a default type if missing.\n */\nfunction normalize(channelDef, channel) {\n    if (vega_util_1.isString(channelDef) || vega_util_1.isNumber(channelDef) || vega_util_1.isBoolean(channelDef)) {\n        var primitiveType = vega_util_1.isString(channelDef) ? 'string' :\n            vega_util_1.isNumber(channelDef) ? 'number' : 'boolean';\n        log.warn(log.message.primitiveChannelDef(channel, primitiveType, channelDef));\n        return { value: channelDef };\n    }\n    // If a fieldDef contains a field, we need type.\n    if (isFieldDef(channelDef)) {\n        return normalizeFieldDef(channelDef, channel);\n    }\n    else if (hasConditionalFieldDef(channelDef)) {\n        return tslib_1.__assign({}, channelDef, { \n            // Need to cast as normalizeFieldDef normally return FieldDef, but here we know that it is definitely Condition<FieldDef>\n            condition: normalizeFieldDef(channelDef.condition, channel) });\n    }\n    return channelDef;\n}\nexports.normalize = normalize;\nfunction normalizeFieldDef(fieldDef, channel) {\n    // Drop invalid aggregate\n    if (fieldDef.aggregate && !aggregate_1.isAggregateOp(fieldDef.aggregate)) {\n        var aggregate = fieldDef.aggregate, fieldDefWithoutAggregate = tslib_1.__rest(fieldDef, [\"aggregate\"]);\n        log.warn(log.message.invalidAggregate(fieldDef.aggregate));\n        fieldDef = fieldDefWithoutAggregate;\n    }\n    // Normalize Time Unit\n    if (fieldDef.timeUnit) {\n        fieldDef = tslib_1.__assign({}, fieldDef, { timeUnit: timeunit_1.normalizeTimeUnit(fieldDef.timeUnit) });\n    }\n    // Normalize bin\n    if (fieldDef.bin) {\n        fieldDef = tslib_1.__assign({}, fieldDef, { bin: normalizeBin(fieldDef.bin, channel) });\n    }\n    // Normalize Type\n    if (fieldDef.type) {\n        var fullType = type_1.getFullName(fieldDef.type);\n        if (fieldDef.type !== fullType) {\n            // convert short type to full type\n            fieldDef = tslib_1.__assign({}, fieldDef, { type: fullType });\n        }\n        if (fieldDef.type !== 'quantitative') {\n            if (aggregate_1.isCountingAggregateOp(fieldDef.aggregate)) {\n                log.warn(log.message.invalidFieldTypeForCountAggregate(fieldDef.type, fieldDef.aggregate));\n                fieldDef = tslib_1.__assign({}, fieldDef, { type: 'quantitative' });\n            }\n        }\n    }\n    else {\n        // If type is empty / invalid, then augment with default type\n        var newType = defaultType(fieldDef, channel);\n        log.warn(log.message.emptyOrInvalidFieldType(fieldDef.type, channel, newType));\n        fieldDef = tslib_1.__assign({}, fieldDef, { type: newType });\n    }\n    var _a = channelCompatibility(fieldDef, channel), compatible = _a.compatible, warning = _a.warning;\n    if (!compatible) {\n        log.warn(warning);\n    }\n    return fieldDef;\n}\nexports.normalizeFieldDef = normalizeFieldDef;\nfunction normalizeBin(bin, channel) {\n    if (vega_util_1.isBoolean(bin)) {\n        return { maxbins: bin_1.autoMaxBins(channel) };\n    }\n    else if (!bin.maxbins && !bin.step) {\n        return tslib_1.__assign({}, bin, { maxbins: bin_1.autoMaxBins(channel) });\n    }\n    else {\n        return bin;\n    }\n}\nexports.normalizeBin = normalizeBin;\nvar COMPATIBLE = { compatible: true };\nfunction channelCompatibility(fieldDef, channel) {\n    switch (channel) {\n        case 'row':\n        case 'column':\n            if (isContinuous(fieldDef) && !fieldDef.timeUnit) {\n                // TODO:(https://github.com/vega/vega-lite/issues/2011):\n                // with timeUnit it's not always strictly continuous\n                return {\n                    compatible: false,\n                    warning: log.message.facetChannelShouldBeDiscrete(channel)\n                };\n            }\n            return COMPATIBLE;\n        case 'x':\n        case 'y':\n        case 'color':\n        case 'fill':\n        case 'stroke':\n        case 'text':\n        case 'detail':\n        case 'key':\n        case 'tooltip':\n        case 'href':\n            return COMPATIBLE;\n        case 'longitude':\n        case 'longitude2':\n        case 'latitude':\n        case 'latitude2':\n            if (fieldDef.type !== type_1.QUANTITATIVE) {\n                return {\n                    compatible: false,\n                    warning: \"Channel \" + channel + \" should not be used with \" + fieldDef.type + \" field.\"\n                };\n            }\n            return COMPATIBLE;\n        case 'opacity':\n        case 'size':\n        case 'x2':\n        case 'y2':\n            if (isDiscrete(fieldDef) && !fieldDef.bin) {\n                return {\n                    compatible: false,\n                    warning: \"Channel \" + channel + \" should not be used with discrete field.\"\n                };\n            }\n            return COMPATIBLE;\n        case 'shape':\n            if (fieldDef.type !== 'nominal' && fieldDef.type !== 'geojson') {\n                return {\n                    compatible: false,\n                    warning: 'Shape channel should be used with nominal data or geojson only'\n                };\n            }\n            return COMPATIBLE;\n        case 'order':\n            if (fieldDef.type === 'nominal') {\n                return {\n                    compatible: false,\n                    warning: \"Channel order is inappropriate for nominal field, which has no inherent order.\"\n                };\n            }\n            return COMPATIBLE;\n    }\n    throw new Error('channelCompatability not implemented for channel ' + channel);\n}\nexports.channelCompatibility = channelCompatibility;\nfunction isNumberFieldDef(fieldDef) {\n    return fieldDef.type === 'quantitative' || !!fieldDef.bin;\n}\nexports.isNumberFieldDef = isNumberFieldDef;\nfunction isTimeFieldDef(fieldDef) {\n    return fieldDef.type === 'temporal' || !!fieldDef.timeUnit;\n}\nexports.isTimeFieldDef = isTimeFieldDef;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmllbGRkZWYuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZmllbGRkZWYudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBRUEsdUNBQWlFO0FBQ2pFLHlDQUFpRTtBQUVqRSw2QkFBMEQ7QUFDMUQscUNBQTZDO0FBSzdDLDJCQUE2QjtBQU03Qix1Q0FBeUU7QUFDekUsK0JBQXVEO0FBQ3ZELCtCQUE2QztBQStCN0MsZ0NBQTBDLENBQWlCO0lBQ3pELE9BQU8sQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBQ3hCLENBQUM7QUFGRCx3REFFQztBQWdERCxxQkFBNEIsS0FBWTtJQUN0QyxPQUFPLEtBQUssSUFBSSxDQUFDLG9CQUFRLENBQUMsS0FBSyxDQUFDLElBQUksUUFBUSxJQUFJLEtBQUssQ0FBQztBQUN4RCxDQUFDO0FBRkQsa0NBRUM7QUFnREQsd0JBQStCLFFBQTBCO0lBQ2hELElBQUEsc0JBQUssRUFBRSw0QkFBUSxFQUFFLGtCQUFHLEVBQUUsOEJBQVMsQ0FBYTtJQUNuRCw0QkFDSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBQyxRQUFRLFVBQUEsRUFBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFDNUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUMsR0FBRyxLQUFBLEVBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQ2xCLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFDLFNBQVMsV0FBQSxFQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUNqQyxLQUFLLE9BQUEsSUFDTDtBQUNKLENBQUM7QUFSRCx3Q0FRQztBQWlHRCwwQkFBb0MsVUFBeUI7SUFDM0QsT0FBTyxDQUFDLENBQUMsVUFBVSxJQUFJLENBQUMsQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDO0FBQ2hELENBQUM7QUFGRCw0Q0FFQztBQUVEOztHQUVHO0FBQ0gsZ0NBQTBDLFVBQXlCO0lBQ2pFLE9BQU8sQ0FB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QUN0RCxPQUFPLFFBQVEsQ0FBQyxJQUFJLEtBQUssY0FBYyxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDO0FBQzVELENBQUM7QUFGRCw0Q0FFQztBQUVELHdCQUErQixRQUF1QjtJQUNwRCxPQUFPLFFBQVEsQ0FBQyxJQUFJLEtBQUssVUFBVSxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDO0FBQzdELENBQUM7QUFGRCx3Q0FFQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIERlY2xhcmF0aW9uIGFuZCB1dGlsaXR5IGZvciB2YXJpYW50cyBvZiBhIGZpZWxkIGRlZmluaXRpb24gb2JqZWN0XG5pbXBvcnQge0FnZ3JlZ2F0ZU9wfSBmcm9tICd2ZWdhJztcbmltcG9ydCB7aXNBcnJheSwgaXNCb29sZWFuLCBpc051bWJlciwgaXNTdHJpbmd9IGZyb20gJ3ZlZ2EtdXRpbCc7XG5pbXBvcnQge2lzQWdncmVnYXRlT3AsIGlzQ291bnRpbmdBZ2dyZWdhdGVPcH0gZnJvbSAnLi9hZ2dyZWdhdGUnO1xuaW1wb3J0IHtBeGlzfSBmcm9tICcuL2F4aXMnO1xuaW1wb3J0IHthdXRvTWF4QmlucywgQmluUGFyYW1zLCBiaW5Ub1N0cmluZ30gZnJvbSAnLi9iaW4nO1xuaW1wb3J0IHtDaGFubmVsLCByYW5nZVR5cGV9IGZyb20gJy4vY2hhbm5lbCc7XG5pbXBvcnQge0NvbXBvc2l0ZUFnZ3JlZ2F0ZX0gZnJvbSAnLi9jb21wb3NpdGVtYXJrJztcbmltcG9ydCB7Q29uZmlnfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQge1RpdGxlTWl4aW5zfSBmcm9tICcuL2d1aWRlJztcbmltcG9ydCB7TGVnZW5kfSBmcm9tICcuL2xlZ2VuZCc7XG5pbXBvcnQgKiBhcyBsb2cgZnJvbSAnLi9sb2cnO1xuaW1wb3J0IHtMb2dpY2FsT3BlcmFuZH0gZnJvbSAnLi9sb2dpY2FsJztcbmltcG9ydCB7UHJlZGljYXRlfSBmcm9tICcuL3ByZWRpY2F0ZSc7XG5pbXBvcnQge1NjYWxlfSBmcm9tICcuL3NjYWxlJztcbmltcG9ydCB7U29ydEZpZWxkLCBTb3J0T3JkZXJ9IGZyb20gJy4vc29ydCc7XG5pbXBvcnQge1N0YWNrT2Zmc2V0fSBmcm9tICcuL3N0YWNrJztcbmltcG9ydCB7Z2V0VGltZVVuaXRQYXJ0cywgbm9ybWFsaXplVGltZVVuaXQsIFRpbWVVbml0fSBmcm9tICcuL3RpbWV1bml0JztcbmltcG9ydCB7Z2V0RnVsbE5hbWUsIFFVQU5USVRBVElWRSwgVHlwZX0gZnJvbSAnLi90eXBlJztcbmltcG9ydCB7YWNjZXNzUGF0aCwgdGl0bGVjYXNlfSBmcm9tICcuL3V0aWwnO1xuXG4vKipcbiAqIERlZmluaXRpb24gb2JqZWN0IGZvciBhIGNvbnN0YW50IHZhbHVlIG9mIGFuIGVuY29kaW5nIGNoYW5uZWwuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVmFsdWVEZWYge1xuICAvKipcbiAgICogQSBjb25zdGFudCB2YWx1ZSBpbiB2aXN1YWwgZG9tYWluIChlLmcuLCBgXCJyZWRcImAgLyBcIiMwMDk5ZmZcIiBmb3IgY29sb3IsIHZhbHVlcyBiZXR3ZWVuIGAwYCB0byBgMWAgZm9yIG9wYWNpdHkpLlxuICAgKi9cbiAgdmFsdWU6IG51bWJlciB8IHN0cmluZyB8IGJvb2xlYW47XG59XG5cbi8qKlxuICogR2VuZXJpYyB0eXBlIGZvciBjb25kaXRpb25hbCBjaGFubmVsRGVmLlxuICogRiBkZWZpbmVzIHRoZSB1bmRlcmx5aW5nIEZpZWxkRGVmIHR5cGUuXG4gKi9cbmV4cG9ydCB0eXBlIENoYW5uZWxEZWZXaXRoQ29uZGl0aW9uPEYgZXh0ZW5kcyBGaWVsZERlZjxhbnk+PiA9IEZpZWxkRGVmV2l0aENvbmRpdGlvbjxGPiB8IFZhbHVlRGVmV2l0aENvbmRpdGlvbjxGPjtcblxuZXhwb3J0IHR5cGUgQ29uZGl0aW9uYWw8VD4gPSBDb25kaXRpb25hbFByZWRpY2F0ZTxUPiB8IENvbmRpdGlvbmFsU2VsZWN0aW9uPFQ+O1xuXG5leHBvcnQgdHlwZSBDb25kaXRpb25hbFByZWRpY2F0ZTxUPiA9IHtcbiAgdGVzdDogTG9naWNhbE9wZXJhbmQ8UHJlZGljYXRlPjtcbn0gJiBUO1xuXG5leHBvcnQgdHlwZSBDb25kaXRpb25hbFNlbGVjdGlvbjxUPiA9IHtcbiAgLyoqXG4gICAqIEEgW3NlbGVjdGlvbiBuYW1lXShodHRwczovL3ZlZ2EuZ2l0aHViLmlvL3ZlZ2EtbGl0ZS9kb2NzL3NlbGVjdGlvbi5odG1sKSwgb3IgYSBzZXJpZXMgb2YgW2NvbXBvc2VkIHNlbGVjdGlvbnNdKGh0dHBzOi8vdmVnYS5naXRodWIuaW8vdmVnYS1saXRlL2RvY3Mvc2VsZWN0aW9uLmh0bWwjY29tcG9zZSkuXG4gICAqL1xuICBzZWxlY3Rpb246IExvZ2ljYWxPcGVyYW5kPHN0cmluZz47XG59ICYgVDtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29uZGl0aW9uYWxTZWxlY3Rpb248VD4oYzogQ29uZGl0aW9uYWw8VD4pOiBjIGlzIENvbmRpdGlvbmFsU2VsZWN0aW9uPFQ+IHtcbiAgcmV0dXJuIGNbJ3NlbGVjdGlvbiddO1xufVxuXG4vKipcbiAqIEEgRmllbGREZWYgd2l0aCBDb25kaXRpb248VmFsdWVEZWY+XG4gKiB7XG4gKiAgIGNvbmRpdGlvbjoge3ZhbHVlOiAuLi59LFxuICogICBmaWVsZDogLi4uLFxuICogICAuLi5cbiAqIH1cbiAqL1xuZXhwb3J0IHR5cGUgRmllbGREZWZXaXRoQ29uZGl0aW9uPEYgZXh0ZW5kcyBGaWVsZERlZjxhbnk+PiA9IEYgJiB7XG4gIC8qKlxuICAgKiBPbmUgb3IgbW9yZSB2YWx1ZSBkZWZpbml0aW9uKHMpIHdpdGggYSBzZWxlY3Rpb24gcHJlZGljYXRlLlxuICAgKlxuICAgKiBfX05vdGU6X18gQSBmaWVsZCBkZWZpbml0aW9uJ3MgYGNvbmRpdGlvbmAgcHJvcGVydHkgY2FuIG9ubHkgY29udGFpbiBbdmFsdWUgZGVmaW5pdGlvbnNdKGh0dHBzOi8vdmVnYS5naXRodWIuaW8vdmVnYS1saXRlL2RvY3MvZW5jb2RpbmcuaHRtbCN2YWx1ZS1kZWYpXG4gICAqIHNpbmNlIFZlZ2EtTGl0ZSBvbmx5IGFsbG93cyBhdCBtb3N0IG9uZSBlbmNvZGVkIGZpZWxkIHBlciBlbmNvZGluZyBjaGFubmVsLlxuICAgKi9cbiAgY29uZGl0aW9uPzogQ29uZGl0aW9uYWw8VmFsdWVEZWY+IHwgQ29uZGl0aW9uYWw8VmFsdWVEZWY+W107XG59O1xuXG4vKipcbiAqIEEgVmFsdWVEZWYgd2l0aCBDb25kaXRpb248VmFsdWVEZWYgfCBGaWVsZERlZj5cbiAqIHtcbiAqICAgY29uZGl0aW9uOiB7ZmllbGQ6IC4uLn0gfCB7dmFsdWU6IC4uLn0sXG4gKiAgIHZhbHVlOiAuLi4sXG4gKiB9XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVmFsdWVEZWZXaXRoQ29uZGl0aW9uPEYgZXh0ZW5kcyBGaWVsZERlZjxhbnk+PiB7XG4gIC8qKlxuICAgKiBBIGZpZWxkIGRlZmluaXRpb24gb3Igb25lIG9yIG1vcmUgdmFsdWUgZGVmaW5pdGlvbihzKSB3aXRoIGEgc2VsZWN0aW9uIHByZWRpY2F0ZS5cbiAgICovXG4gIGNvbmRpdGlvbj86IENvbmRpdGlvbmFsPEY+IHwgQ29uZGl0aW9uYWw8VmFsdWVEZWY+IHwgQ29uZGl0aW9uYWw8VmFsdWVEZWY+W107XG5cbiAgLyoqXG4gICAqIEEgY29uc3RhbnQgdmFsdWUgaW4gdmlzdWFsIGRvbWFpbi5cbiAgICovXG4gIHZhbHVlPzogbnVtYmVyIHwgc3RyaW5nIHwgYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBSZWZlcmVuY2UgdG8gYSByZXBlYXRlZCB2YWx1ZS5cbiAqL1xuZXhwb3J0IHR5cGUgUmVwZWF0UmVmID0ge1xuICByZXBlYXQ6ICdyb3cnIHwgJ2NvbHVtbidcbn07XG5cbmV4cG9ydCB0eXBlIEZpZWxkID0gc3RyaW5nIHwgUmVwZWF0UmVmO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNSZXBlYXRSZWYoZmllbGQ6IEZpZWxkKTogZmllbGQgaXMgUmVwZWF0UmVmIHtcbiAgcmV0dXJuIGZpZWxkICYmICFpc1N0cmluZyhmaWVsZCkgJiYgJ3JlcGVhdCcgaW4gZmllbGQ7XG59XG5cbi8qKiBAaGlkZSAqL1xuZXhwb3J0IHR5cGUgSGlkZGVuQ29tcG9zaXRlQWdncmVnYXRlID0gQ29tcG9zaXRlQWdncmVnYXRlO1xuXG5leHBvcnQgdHlwZSBBZ2dyZWdhdGUgPSBBZ2dyZWdhdGVPcCB8IEhpZGRlbkNvbXBvc2l0ZUFnZ3JlZ2F0ZTtcblxuZXhwb3J0IGludGVyZmFjZSBGaWVsZERlZkJhc2U8Rj4ge1xuXG4gIC8qKlxuICAgKiBfX1JlcXVpcmVkLl9fIEEgc3RyaW5nIGRlZmluaW5nIHRoZSBuYW1lIG9mIHRoZSBmaWVsZCBmcm9tIHdoaWNoIHRvIHB1bGwgYSBkYXRhIHZhbHVlXG4gICAqIG9yIGFuIG9iamVjdCBkZWZpbmluZyBpdGVyYXRlZCB2YWx1ZXMgZnJvbSB0aGUgW2ByZXBlYXRgXShodHRwczovL3ZlZ2EuZ2l0aHViLmlvL3ZlZ2EtbGl0ZS9kb2NzL3JlcGVhdC5odG1sKSBvcGVyYXRvci5cbiAgICpcbiAgICogX19Ob3RlOl9fIERvdHMgKGAuYCkgYW5kIGJyYWNrZXRzIChgW2AgYW5kIGBdYCkgY2FuIGJlIHVzZWQgdG8gYWNjZXNzIG5lc3RlZCBvYmplY3RzIChlLmcuLCBgXCJmaWVsZFwiOiBcImZvby5iYXJcImAgYW5kIGBcImZpZWxkXCI6IFwiZm9vWydiYXInXVwiYCkuXG4gICAqIElmIGZpZWxkIG5hbWVzIGNvbnRhaW4gZG90cyBvciBicmFja2V0cyBidXQgYXJlIG5vdCBuZXN0ZWQsIHlvdSBjYW4gdXNlIGBcXFxcYCB0byBlc2NhcGUgZG90cyBhbmQgYnJhY2tldHMgKGUuZy4sIGBcImFcXFxcLmJcImAgYW5kIGBcImFcXFxcWzBcXFxcXVwiYCkuXG4gICAqIFNlZSBtb3JlIGRldGFpbHMgYWJvdXQgZXNjYXBpbmcgaW4gdGhlIFtmaWVsZCBkb2N1bWVudGF0aW9uXShodHRwczovL3ZlZ2EuZ2l0aHViLmlvL3ZlZ2EtbGl0ZS9kb2NzL2ZpZWxkLmh0bWwpLlxuICAgKlxuICAgKiBfX05vdGU6X18gYGZpZWxkYCBpcyBub3QgcmVxdWlyZWQgaWYgYGFnZ3JlZ2F0ZWAgaXMgYGNvdW50YC5cbiAgICovXG4gIGZpZWxkPzogRjtcblxuICAvLyBmdW5jdGlvblxuXG4gIC8qKlxuICAgKiBUaW1lIHVuaXQgKGUuZy4sIGB5ZWFyYCwgYHllYXJtb250aGAsIGBtb250aGAsIGBob3Vyc2ApIGZvciBhIHRlbXBvcmFsIGZpZWxkLlxuICAgKiBvciBbYSB0ZW1wb3JhbCBmaWVsZCB0aGF0IGdldHMgY2FzdGVkIGFzIG9yZGluYWxdKGh0dHBzOi8vdmVnYS5naXRodWIuaW8vdmVnYS1saXRlL2RvY3MvdHlwZS5odG1sI2Nhc3QpLlxuICAgKlxuICAgKiBfX0RlZmF1bHQgdmFsdWU6X18gYHVuZGVmaW5lZGAgKE5vbmUpXG4gICAqL1xuICB0aW1lVW5pdD86IFRpbWVVbml0O1xuXG4gIC8qKlxuICAgKiBBIGZsYWcgZm9yIGJpbm5pbmcgYSBgcXVhbnRpdGF0aXZlYCBmaWVsZCwgb3IgW2FuIG9iamVjdCBkZWZpbmluZyBiaW5uaW5nIHBhcmFtZXRlcnNdKGh0dHBzOi8vdmVnYS5naXRodWIuaW8vdmVnYS1saXRlL2RvY3MvYmluLmh0bWwjcGFyYW1zKS5cbiAgICogSWYgYHRydWVgLCBkZWZhdWx0IFtiaW5uaW5nIHBhcmFtZXRlcnNdKGh0dHBzOi8vdmVnYS5naXRodWIuaW8vdmVnYS1saXRlL2RvY3MvYmluLmh0bWwpIHdpbGwgYmUgYXBwbGllZC5cbiAgICpcbiAgICogX19EZWZhdWx0IHZhbHVlOl9fIGBmYWxzZWBcbiAgICovXG4gIGJpbj86IGJvb2xlYW4gfCBCaW5QYXJhbXM7XG5cbiAgLyoqXG4gICAqIEFnZ3JlZ2F0aW9uIGZ1bmN0aW9uIGZvciB0aGUgZmllbGRcbiAgICogKGUuZy4sIGBtZWFuYCwgYHN1bWAsIGBtZWRpYW5gLCBgbWluYCwgYG1heGAsIGBjb3VudGApLlxuICAgKlxuICAgKiBfX0RlZmF1bHQgdmFsdWU6X18gYHVuZGVmaW5lZGAgKE5vbmUpXG4gICAqL1xuICBhZ2dyZWdhdGU/OiBBZ2dyZWdhdGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0ZpZWxkRGVmQmFzZShmaWVsZERlZjogRmllbGREZWY8c3RyaW5nPik6IEZpZWxkRGVmQmFzZTxzdHJpbmc+IHtcbiAgY29uc3Qge2ZpZWxkLCB0aW1lVW5pdCwgYmluLCBhZ2dyZWdhdGV9ID0gZmllbGREZWY7XG4gIHJldHVybiB7XG4gICAgLi4uKHRpbWVVbml0ID8ge3RpbWVVbml0fSA6IHt9KSxcbiAgICAuLi4oYmluID8ge2Jpbn0gOiB7fSksXG4gICAgLi4uKGFnZ3JlZ2F0ZSA/IHthZ2dyZWdhdGV9IDoge30pLFxuICAgIGZpZWxkXG4gIH07XG59XG5cbi8qKlxuICogIERlZmluaXRpb24gb2JqZWN0IGZvciBhIGRhdGEgZmllbGQsIGl0cyB0eXBlIGFuZCB0cmFuc2Zvcm1hdGlvbiBvZiBhbiBlbmNvZGluZyBjaGFubmVsLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEZpZWxkRGVmPEY+IGV4dGVuZHMgRmllbGREZWZCYXNlPEY+LCBUaXRsZU1peGlucyB7XG4gIC8qKlxuICAgKiBUaGUgZW5jb2RlZCBmaWVsZCdzIHR5cGUgb2YgbWVhc3VyZW1lbnQgKGBcInF1YW50aXRhdGl2ZVwiYCwgYFwidGVtcG9yYWxcImAsIGBcIm9yZGluYWxcImAsIG9yIGBcIm5vbWluYWxcImApLlxuICAgKiBJdCBjYW4gYWxzbyBiZSBhIGBcImdlb2pzb25cImAgdHlwZSBmb3IgZW5jb2RpbmcgWydnZW9zaGFwZSddKGdlb3NoYXBlLmh0bWwpLlxuICAgKi9cbiAgLy8gKiBvciBhbiBpbml0aWFsIGNoYXJhY3RlciBvZiB0aGUgdHlwZSBuYW1lIChgXCJRXCJgLCBgXCJUXCJgLCBgXCJPXCJgLCBgXCJOXCJgKS5cbiAgLy8gKiBUaGlzIHByb3BlcnR5IGlzIGNhc2UtaW5zZW5zaXRpdmUuXG4gIHR5cGU6IFR5cGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2NhbGVGaWVsZERlZjxGPiBleHRlbmRzIEZpZWxkRGVmPEY+IHtcbiAgLyoqXG4gICAqIEFuIG9iamVjdCBkZWZpbmluZyBwcm9wZXJ0aWVzIG9mIHRoZSBjaGFubmVsJ3Mgc2NhbGUsIHdoaWNoIGlzIHRoZSBmdW5jdGlvbiB0aGF0IHRyYW5zZm9ybXMgdmFsdWVzIGluIHRoZSBkYXRhIGRvbWFpbiAobnVtYmVycywgZGF0ZXMsIHN0cmluZ3MsIGV0YykgdG8gdmlzdWFsIHZhbHVlcyAocGl4ZWxzLCBjb2xvcnMsIHNpemVzKSBvZiB0aGUgZW5jb2RpbmcgY2hhbm5lbHMuXG4gICAqXG4gICAqIElmIGBudWxsYCwgdGhlIHNjYWxlIHdpbGwgYmUgW2Rpc2FibGVkIGFuZCB0aGUgZGF0YSB2YWx1ZSB3aWxsIGJlIGRpcmVjdGx5IGVuY29kZWRdKGh0dHBzOi8vdmVnYS5naXRodWIuaW8vdmVnYS1saXRlL2RvY3Mvc2NhbGUuaHRtbCNkaXNhYmxlKS5cbiAgICpcbiAgICogX19EZWZhdWx0IHZhbHVlOl9fIElmIHVuZGVmaW5lZCwgZGVmYXVsdCBbc2NhbGUgcHJvcGVydGllc10oaHR0cHM6Ly92ZWdhLmdpdGh1Yi5pby92ZWdhLWxpdGUvZG9jcy9zY2FsZS5odG1sKSBhcmUgYXBwbGllZC5cbiAgICovXG4gIHNjYWxlPzogU2NhbGUgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBTb3J0IG9yZGVyIGZvciB0aGUgZW5jb2RlZCBmaWVsZC5cbiAgICogU3VwcG9ydGVkIGBzb3J0YCB2YWx1ZXMgaW5jbHVkZSBgXCJhc2NlbmRpbmdcImAsIGBcImRlc2NlbmRpbmdcImAsIGBudWxsYCAobm8gc29ydGluZyksIG9yIGFuIGFycmF5IHNwZWNpZnlpbmcgdGhlIHByZWZlcnJlZCBvcmRlciBvZiB2YWx1ZXMuXG4gICAqIEZvciBmaWVsZHMgd2l0aCBkaXNjcmV0ZSBkb21haW5zLCBgc29ydGAgY2FuIGFsc28gYmUgYSBbc29ydCBmaWVsZCBkZWZpbml0aW9uIG9iamVjdF0oaHR0cHM6Ly92ZWdhLmdpdGh1Yi5pby92ZWdhLWxpdGUvZG9jcy9zb3J0Lmh0bWwjc29ydC1maWVsZCkuXG4gICAqIEZvciBgc29ydGAgYXMgYW4gW2FycmF5IHNwZWNpZnlpbmcgdGhlIHByZWZlcnJlZCBvcmRlciBvZiB2YWx1ZXNdKGh0dHBzOi8vdmVnYS5naXRodWIuaW8vdmVnYS1saXRlL2RvY3Mvc29ydC5odG1sI3NvcnQtYXJyYXkpLCB0aGUgc29ydCBvcmRlciB3aWxsIG9iZXkgdGhlIHZhbHVlcyBpbiB0aGUgYXJyYXksIGZvbGxvd2VkIGJ5IGFueSB1bnNwZWNpZmllZCB2YWx1ZXMgaW4gdGhlaXIgb3JpZ2luYWwgb3JkZXIuXG4gICAqXG4gICAqIF9fRGVmYXVsdCB2YWx1ZTpfXyBgXCJhc2NlbmRpbmdcImBcbiAgICovXG4gIHNvcnQ/OiBzdHJpbmdbXSB8IFNvcnRPcmRlciB8IFNvcnRGaWVsZDxGPiB8IG51bGw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUG9zaXRpb25GaWVsZERlZjxGPiBleHRlbmRzIFNjYWxlRmllbGREZWY8Rj4ge1xuICAvKipcbiAgICogQW4gb2JqZWN0IGRlZmluaW5nIHByb3BlcnRpZXMgb2YgYXhpcydzIGdyaWRsaW5lcywgdGlja3MgYW5kIGxhYmVscy5cbiAgICogSWYgYG51bGxgLCB0aGUgYXhpcyBmb3IgdGhlIGVuY29kaW5nIGNoYW5uZWwgd2lsbCBiZSByZW1vdmVkLlxuICAgKlxuICAgKiBfX0RlZmF1bHQgdmFsdWU6X18gSWYgdW5kZWZpbmVkLCBkZWZhdWx0IFtheGlzIHByb3BlcnRpZXNdKGh0dHBzOi8vdmVnYS5naXRodWIuaW8vdmVnYS1saXRlL2RvY3MvYXhpcy5odG1sKSBhcmUgYXBwbGllZC5cbiAgICovXG4gIGF4aXM/OiBBeGlzIHwgbnVsbDtcblxuICAvKipcbiAgICogVHlwZSBvZiBzdGFja2luZyBvZmZzZXQgaWYgdGhlIGZpZWxkIHNob3VsZCBiZSBzdGFja2VkLlxuICAgKiBgc3RhY2tgIGlzIG9ubHkgYXBwbGljYWJsZSBmb3IgYHhgIGFuZCBgeWAgY2hhbm5lbHMgd2l0aCBjb250aW51b3VzIGRvbWFpbnMuXG4gICAqIEZvciBleGFtcGxlLCBgc3RhY2tgIG9mIGB5YCBjYW4gYmUgdXNlZCB0byBjdXN0b21pemUgc3RhY2tpbmcgZm9yIGEgdmVydGljYWwgYmFyIGNoYXJ0LlxuICAgKlxuICAgKiBgc3RhY2tgIGNhbiBiZSBvbmUgb2YgdGhlIGZvbGxvd2luZyB2YWx1ZXM6XG4gICAqIC0gYFwiemVyb1wiYDogc3RhY2tpbmcgd2l0aCBiYXNlbGluZSBvZmZzZXQgYXQgemVybyB2YWx1ZSBvZiB0aGUgc2NhbGUgKGZvciBjcmVhdGluZyB0eXBpY2FsIHN0YWNrZWQgW2Jhcl0oaHR0cHM6Ly92ZWdhLmdpdGh1Yi5pby92ZWdhLWxpdGUvZG9jcy9zdGFjay5odG1sI2JhcikgYW5kIFthcmVhXShodHRwczovL3ZlZ2EuZ2l0aHViLmlvL3ZlZ2EtbGl0ZS9kb2NzL3N0YWNrLmh0bWwjYXJlYSkgY2hhcnQpLlxuICAgKiAtIGBcIm5vcm1hbGl6ZVwiYCAtIHN0YWNraW5nIHdpdGggbm9ybWFsaXplZCBkb21haW4gKGZvciBjcmVhdGluZyBbbm9ybWFsaXplZCBzdGFja2VkIGJhciBhbmQgYXJlYSBjaGFydHNdKGh0dHBzOi8vdmVnYS5naXRodWIuaW8vdmVnYS1saXRlL2RvY3Mvc3RhY2suaHRtbCNub3JtYWxpemVkKS4gPGJyLz5cbiAgICogLWBcImNlbnRlclwiYCAtIHN0YWNraW5nIHdpdGggY2VudGVyIGJhc2VsaW5lIChmb3IgW3N0cmVhbWdyYXBoXShodHRwczovL3ZlZ2EuZ2l0aHViLmlvL3ZlZ2EtbGl0ZS9kb2NzL3N0YWNrLmh0bWwjc3RyZWFtZ3JhcGgpKS5cbiAgICogLSBgbnVsbGAgLSBOby1zdGFja2luZy4gVGhpcyB3aWxsIHByb2R1Y2UgbGF5ZXJlZCBbYmFyXShodHRwczovL3ZlZ2EuZ2l0aHViLmlvL3ZlZ2EtbGl0ZS9kb2NzL3N0YWNrLmh0bWwjbGF5ZXJlZC1iYXItY2hhcnQpIGFuZCBhcmVhIGNoYXJ0LlxuICAgKlxuICAgKiBfX0RlZmF1bHQgdmFsdWU6X18gYHplcm9gIGZvciBwbG90cyB3aXRoIGFsbCBvZiB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIHRydWU6XG4gICAqICgxKSB0aGUgbWFyayBpcyBgYmFyYCBvciBgYXJlYWA7XG4gICAqICgyKSB0aGUgc3RhY2tlZCBtZWFzdXJlIGNoYW5uZWwgKHggb3IgeSkgaGFzIGEgbGluZWFyIHNjYWxlO1xuICAgKiAoMykgQXQgbGVhc3Qgb25lIG9mIG5vbi1wb3NpdGlvbiBjaGFubmVscyBtYXBwZWQgdG8gYW4gdW5hZ2dyZWdhdGVkIGZpZWxkIHRoYXQgaXMgZGlmZmVyZW50IGZyb20geCBhbmQgeS4gIE90aGVyd2lzZSwgYG51bGxgIGJ5IGRlZmF1bHQuXG4gICAqL1xuICBzdGFjaz86IFN0YWNrT2Zmc2V0IHwgbnVsbDtcbn1cblxuLyoqXG4gKiBGaWVsZCBkZWZpbml0aW9uIG9mIGEgbWFyayBwcm9wZXJ0eSwgd2hpY2ggY2FuIGNvbnRhaW4gYSBsZWdlbmQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTWFya1Byb3BGaWVsZERlZjxGPiBleHRlbmRzIFNjYWxlRmllbGREZWY8Rj4ge1xuICAgLyoqXG4gICAgKiBBbiBvYmplY3QgZGVmaW5pbmcgcHJvcGVydGllcyBvZiB0aGUgbGVnZW5kLlxuICAgICogSWYgYG51bGxgLCB0aGUgbGVnZW5kIGZvciB0aGUgZW5jb2RpbmcgY2hhbm5lbCB3aWxsIGJlIHJlbW92ZWQuXG4gICAgKlxuICAgICogX19EZWZhdWx0IHZhbHVlOl9fIElmIHVuZGVmaW5lZCwgZGVmYXVsdCBbbGVnZW5kIHByb3BlcnRpZXNdKGh0dHBzOi8vdmVnYS5naXRodWIuaW8vdmVnYS1saXRlL2RvY3MvbGVnZW5kLmh0bWwpIGFyZSBhcHBsaWVkLlxuICAgICovXG4gIGxlZ2VuZD86IExlZ2VuZCB8IG51bGw7XG59XG5cbi8vIERldGFpbFxuXG4vLyBPcmRlciBQYXRoIGhhdmUgbm8gc2NhbGVcblxuZXhwb3J0IGludGVyZmFjZSBPcmRlckZpZWxkRGVmPEY+IGV4dGVuZHMgRmllbGREZWY8Rj4ge1xuICAvKipcbiAgICogVGhlIHNvcnQgb3JkZXIuIE9uZSBvZiBgXCJhc2NlbmRpbmdcImAgKGRlZmF1bHQpIG9yIGBcImRlc2NlbmRpbmdcImAuXG4gICAqL1xuICBzb3J0PzogU29ydE9yZGVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRleHRGaWVsZERlZjxGPiBleHRlbmRzIEZpZWxkRGVmPEY+IHtcbiAgLyoqXG4gICAqIFRoZSBbZm9ybWF0dGluZyBwYXR0ZXJuXShodHRwczovL3ZlZ2EuZ2l0aHViLmlvL3ZlZ2EtbGl0ZS9kb2NzL2Zvcm1hdC5odG1sKSBmb3IgYSB0ZXh0IGZpZWxkLiBJZiBub3QgZGVmaW5lZCwgdGhpcyB3aWxsIGJlIGRldGVybWluZWQgYXV0b21hdGljYWxseS5cbiAgICovXG4gIGZvcm1hdD86IHN0cmluZztcbn1cblxuZXhwb3J0IHR5cGUgQ2hhbm5lbERlZjxGPiA9IENoYW5uZWxEZWZXaXRoQ29uZGl0aW9uPEZpZWxkRGVmPEY+PjtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29uZGl0aW9uYWxEZWY8Rj4oY2hhbm5lbERlZjogQ2hhbm5lbERlZjxGPik6IGNoYW5uZWxEZWYgaXMgQ2hhbm5lbERlZldpdGhDb25kaXRpb248RmllbGREZWY8Rj4+IHtcbiAgcmV0dXJuICEhY2hhbm5lbERlZiAmJiAhIWNoYW5uZWxEZWYuY29uZGl0aW9uO1xufVxuXG4vKipcbiAqIFJldHVybiBpZiBhIGNoYW5uZWxEZWYgaXMgYSBDb25kaXRpb25hbFZhbHVlRGVmIHdpdGggQ29uZGl0aW9uRmllbGREZWZcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc0NvbmRpdGlvbmFsRmllbGREZWY8Rj4oY2hhbm5lbERlZjogQ2hhbm5lbERlZjxGPik6IGNoYW5uZWxEZWYgaXMgKFZhbHVlRGVmICYge2NvbmRpdGlvbjogQ29uZGl0aW9uYWw8RmllbGREZWY8Rj4+fSkge1xuICByZXR1cm4gISFjaGFubmVsRGVmICYmICEhY2hhbm5lbERlZi5jb25kaXRpb24gJiYgIWlzQXJyYXkoY2hhbm5lbERlZi5jb25kaXRpb24pICYmIGlzRmllbGREZWYoY2hhbm5lbERlZi5jb25kaXRpb24pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFzQ29uZGl0aW9uYWxWYWx1ZURlZjxGPihjaGFubmVsRGVmOiBDaGFubmVsRGVmPEY+KTogY2hhbm5lbERlZiBpcyAoVmFsdWVEZWYgJiB7Y29uZGl0aW9uOiBDb25kaXRpb25hbDxWYWx1ZURlZj4gfCBDb25kaXRpb25hbDxWYWx1ZURlZj5bXX0pIHtcbiAgcmV0dXJuICEhY2hhbm5lbERlZiAmJiAhIWNoYW5uZWxEZWYuY29uZGl0aW9uICYmIChcbiAgICBpc0FycmF5KGNoYW5uZWxEZWYuY29uZGl0aW9uKSB8fCBpc1ZhbHVlRGVmKGNoYW5uZWxEZWYuY29uZGl0aW9uKVxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNGaWVsZERlZjxGPihjaGFubmVsRGVmOiBDaGFubmVsRGVmPEY+KTogY2hhbm5lbERlZiBpcyBGaWVsZERlZjxGPiB8IFBvc2l0aW9uRmllbGREZWY8Rj4gfCBTY2FsZUZpZWxkRGVmPEY+IHwgTWFya1Byb3BGaWVsZERlZjxGPiB8IE9yZGVyRmllbGREZWY8Rj4gfCBUZXh0RmllbGREZWY8Rj4ge1xuICByZXR1cm4gISFjaGFubmVsRGVmICYmICghIWNoYW5uZWxEZWZbJ2ZpZWxkJ10gfHwgY2hhbm5lbERlZlsnYWdncmVnYXRlJ10gPT09ICdjb3VudCcpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNTdHJpbmdGaWVsZERlZihmaWVsZERlZjogQ2hhbm5lbERlZjxzdHJpbmd8UmVwZWF0UmVmPik6IGZpZWxkRGVmIGlzIEZpZWxkRGVmPHN0cmluZz4ge1xuICByZXR1cm4gaXNGaWVsZERlZihmaWVsZERlZikgJiYgaXNTdHJpbmcoZmllbGREZWYuZmllbGQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNWYWx1ZURlZjxGPihjaGFubmVsRGVmOiBDaGFubmVsRGVmPEY+KTogY2hhbm5lbERlZiBpcyBWYWx1ZURlZiB7XG4gIHJldHVybiBjaGFubmVsRGVmICYmICd2YWx1ZScgaW4gY2hhbm5lbERlZiAmJiBjaGFubmVsRGVmWyd2YWx1ZSddICE9PSB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1NjYWxlRmllbGREZWYoY2hhbm5lbERlZjogQ2hhbm5lbERlZjxhbnk+KTogY2hhbm5lbERlZiBpcyBTY2FsZUZpZWxkRGVmPGFueT4ge1xuICByZXR1cm4gISFjaGFubmVsRGVmICYmICghIWNoYW5uZWxEZWZbJ3NjYWxlJ10gfHwgISFjaGFubmVsRGVmWydzb3J0J10pO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZpZWxkUmVmT3B0aW9uIHtcbiAgLyoqIGV4Y2x1ZGUgYmluLCBhZ2dyZWdhdGUsIHRpbWVVbml0ICovXG4gIG5vZm4/OiBib29sZWFuO1xuICAvKiogV3JhcCB0aGUgZmllbGQgd2l0aCBkYXR1bSBvciBwYXJlbnQgKGUuZy4sIGRhdHVtWycuLi4nXSBmb3IgVmVnYSBFeHByZXNzaW9uICovXG4gIGV4cHI/OiAnZGF0dW0nIHwgJ3BhcmVudCc7XG4gIC8qKiBwcmVwZW5kIGZuIHdpdGggY3VzdG9tIGZ1bmN0aW9uIHByZWZpeCAqL1xuICBwcmVmaXg/OiBzdHJpbmc7XG4gIC8qKiBhcHBlbmQgc3VmZml4IHRvIHRoZSBmaWVsZCByZWYgZm9yIGJpbiAoZGVmYXVsdD0nc3RhcnQnKSAqL1xuICBiaW5TdWZmaXg/OiAnZW5kJyB8ICdyYW5nZScgfCAnbWlkJztcbiAgLyoqIGFwcGVuZCBzdWZmaXggdG8gdGhlIGZpZWxkIHJlZiAoZ2VuZXJhbCkgKi9cbiAgc3VmZml4Pzogc3RyaW5nO1xuICAvKiogT3ZlcnJyaWRlIHdoaWNoIGFnZ3JlZ2F0ZSB0byB1c2UuIE5lZWRlZCBmb3IgdW5hZ2dyZWdhdGVkIGRvbWFpbi4gKi9cbiAgYWdncmVnYXRlPzogQWdncmVnYXRlT3A7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2Z0ZpZWxkKGZpZWxkRGVmOiBGaWVsZERlZkJhc2U8c3RyaW5nPiwgb3B0OiBGaWVsZFJlZk9wdGlvbiA9IHt9KTogc3RyaW5nIHtcbiAgbGV0IGZpZWxkID0gZmllbGREZWYuZmllbGQ7XG4gIGNvbnN0IHByZWZpeCA9IG9wdC5wcmVmaXg7XG4gIGxldCBzdWZmaXggPSBvcHQuc3VmZml4O1xuXG4gIGlmIChpc0NvdW50KGZpZWxkRGVmKSkge1xuICAgIGZpZWxkID0gJ2NvdW50XyonO1xuICB9IGVsc2Uge1xuICAgIGxldCBmbjogc3RyaW5nID0gdW5kZWZpbmVkO1xuXG4gICAgaWYgKCFvcHQubm9mbikge1xuICAgICAgaWYgKGZpZWxkRGVmLmJpbikge1xuICAgICAgICBmbiA9IGJpblRvU3RyaW5nKGZpZWxkRGVmLmJpbik7XG4gICAgICAgIHN1ZmZpeCA9IG9wdC5iaW5TdWZmaXggfHwgJyc7XG4gICAgICB9IGVsc2UgaWYgKGZpZWxkRGVmLmFnZ3JlZ2F0ZSkge1xuICAgICAgICBmbiA9IFN0cmluZyhvcHQuYWdncmVnYXRlIHx8IGZpZWxkRGVmLmFnZ3JlZ2F0ZSk7XG4gICAgICB9IGVsc2UgaWYgKGZpZWxkRGVmLnRpbWVVbml0KSB7XG4gICAgICAgIGZuID0gU3RyaW5nKGZpZWxkRGVmLnRpbWVVbml0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZm4pIHtcbiAgICAgIGZpZWxkID0gYCR7Zm59XyR7ZmllbGR9YDtcbiAgICB9XG4gIH1cblxuICBpZiAoc3VmZml4KSB7XG4gICAgZmllbGQgPSBgJHtmaWVsZH1fJHtzdWZmaXh9YDtcbiAgfVxuXG4gIGlmIChwcmVmaXgpIHtcbiAgICBmaWVsZCA9IGAke3ByZWZpeH1fJHtmaWVsZH1gO1xuICB9XG5cbiAgaWYgKG9wdC5leHByKSB7XG4gICAgZmllbGQgPSBgJHtvcHQuZXhwcn0ke2FjY2Vzc1BhdGgoZmllbGQpfWA7XG4gIH1cblxuICByZXR1cm4gZmllbGQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Rpc2NyZXRlKGZpZWxkRGVmOiBGaWVsZERlZjxGaWVsZD4pIHtcbiAgc3dpdGNoIChmaWVsZERlZi50eXBlKSB7XG4gICAgY2FzZSAnbm9taW5hbCc6XG4gICAgY2FzZSAnb3JkaW5hbCc6XG4gICAgY2FzZSAnZ2VvanNvbic6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBjYXNlICdxdWFudGl0YXRpdmUnOlxuICAgICAgcmV0dXJuICEhZmllbGREZWYuYmluO1xuICAgIGNhc2UgJ2xhdGl0dWRlJzpcbiAgICBjYXNlICdsb25naXR1ZGUnOlxuICAgIGNhc2UgJ3RlbXBvcmFsJzpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IobG9nLm1lc3NhZ2UuaW52YWxpZEZpZWxkVHlwZShmaWVsZERlZi50eXBlKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbnRpbnVvdXMoZmllbGREZWY6IEZpZWxkRGVmPEZpZWxkPikge1xuICByZXR1cm4gIWlzRGlzY3JldGUoZmllbGREZWYpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNDb3VudChmaWVsZERlZjogRmllbGREZWZCYXNlPEZpZWxkPikge1xuICByZXR1cm4gZmllbGREZWYuYWdncmVnYXRlID09PSAnY291bnQnO1xufVxuXG5leHBvcnQgdHlwZSBGaWVsZFRpdGxlRm9ybWF0dGVyID0gKGZpZWxkRGVmOiBGaWVsZERlZkJhc2U8c3RyaW5nPiwgY29uZmlnOiBDb25maWcpID0+IHN0cmluZztcblxuZXhwb3J0IGZ1bmN0aW9uIHZlcmJhbFRpdGxlRm9ybWF0dGVyKGZpZWxkRGVmOiBGaWVsZERlZkJhc2U8c3RyaW5nPiwgY29uZmlnOiBDb25maWcpIHtcbiAgY29uc3Qge2ZpZWxkOiBmaWVsZCwgYmluLCB0aW1lVW5pdCwgYWdncmVnYXRlfSA9IGZpZWxkRGVmO1xuICBpZiAoYWdncmVnYXRlID09PSAnY291bnQnKSB7XG4gICAgcmV0dXJuIGNvbmZpZy5jb3VudFRpdGxlO1xuICB9IGVsc2UgaWYgKGJpbikge1xuICAgIHJldHVybiBgJHtmaWVsZH0gKGJpbm5lZClgO1xuICB9IGVsc2UgaWYgKHRpbWVVbml0KSB7XG4gICAgY29uc3QgdW5pdHMgPSBnZXRUaW1lVW5pdFBhcnRzKHRpbWVVbml0KS5qb2luKCctJyk7XG4gICAgcmV0dXJuIGAke2ZpZWxkfSAoJHt1bml0c30pYDtcbiAgfSBlbHNlIGlmIChhZ2dyZWdhdGUpIHtcbiAgICByZXR1cm4gYCR7dGl0bGVjYXNlKGFnZ3JlZ2F0ZSl9IG9mICR7ZmllbGR9YDtcbiAgfVxuICByZXR1cm4gZmllbGQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmdW5jdGlvbmFsVGl0bGVGb3JtYXR0ZXIoZmllbGREZWY6IEZpZWxkRGVmQmFzZTxzdHJpbmc+LCBjb25maWc6IENvbmZpZykge1xuICBjb25zdCBmbiA9IGZpZWxkRGVmLmFnZ3JlZ2F0ZSB8fCBmaWVsZERlZi50aW1lVW5pdCB8fCAoZmllbGREZWYuYmluICYmICdiaW4nKTtcbiAgaWYgKGZuKSB7XG4gICAgcmV0dXJuIGZuLnRvVXBwZXJDYXNlKCkgKyAnKCcgKyBmaWVsZERlZi5maWVsZCArICcpJztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmllbGREZWYuZmllbGQ7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRUaXRsZUZvcm1hdHRlcjogRmllbGRUaXRsZUZvcm1hdHRlciA9IChmaWVsZERlZjogRmllbGREZWZCYXNlPHN0cmluZz4sIGNvbmZpZzogQ29uZmlnKSA9PiB7XG4gIHN3aXRjaCAoY29uZmlnLmZpZWxkVGl0bGUpIHtcbiAgICBjYXNlICdwbGFpbic6XG4gICAgICByZXR1cm4gZmllbGREZWYuZmllbGQ7XG4gICAgY2FzZSAnZnVuY3Rpb25hbCc6XG4gICAgICByZXR1cm4gZnVuY3Rpb25hbFRpdGxlRm9ybWF0dGVyKGZpZWxkRGVmLCBjb25maWcpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gdmVyYmFsVGl0bGVGb3JtYXR0ZXIoZmllbGREZWYsIGNvbmZpZyk7XG4gIH1cbn07XG5cbmxldCB0aXRsZUZvcm1hdHRlciA9IGRlZmF1bHRUaXRsZUZvcm1hdHRlcjtcblxuZXhwb3J0IGZ1bmN0aW9uIHNldFRpdGxlRm9ybWF0dGVyKGZvcm1hdHRlcjogRmllbGRUaXRsZUZvcm1hdHRlcikge1xuICB0aXRsZUZvcm1hdHRlciA9IGZvcm1hdHRlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0VGl0bGVGb3JtYXR0ZXIoKSB7XG4gIHNldFRpdGxlRm9ybWF0dGVyKGRlZmF1bHRUaXRsZUZvcm1hdHRlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0aXRsZShmaWVsZERlZjogRmllbGREZWZCYXNlPHN0cmluZz4sIGNvbmZpZzogQ29uZmlnKSB7XG4gIHJldHVybiB0aXRsZUZvcm1hdHRlcihmaWVsZERlZiwgY29uZmlnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRUeXBlKGZpZWxkRGVmOiBGaWVsZERlZjxGaWVsZD4sIGNoYW5uZWw6IENoYW5uZWwpOiBUeXBlIHtcbiAgaWYgKGZpZWxkRGVmLnRpbWVVbml0KSB7XG4gICAgcmV0dXJuICd0ZW1wb3JhbCc7XG4gIH1cbiAgaWYgKGZpZWxkRGVmLmJpbikge1xuICAgIHJldHVybiAncXVhbnRpdGF0aXZlJztcbiAgfVxuICBzd2l0Y2ggKHJhbmdlVHlwZShjaGFubmVsKSkge1xuICAgIGNhc2UgJ2NvbnRpbnVvdXMnOlxuICAgICAgcmV0dXJuICdxdWFudGl0YXRpdmUnO1xuICAgIGNhc2UgJ2Rpc2NyZXRlJzpcbiAgICAgIHJldHVybiAnbm9taW5hbCc7XG4gICAgY2FzZSAnZmxleGlibGUnOiAvLyBjb2xvclxuICAgICAgcmV0dXJuICdub21pbmFsJztcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICdxdWFudGl0YXRpdmUnO1xuICB9XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZmllbGREZWYgLS0gZWl0aGVyIGZyb20gdGhlIG91dGVyIGNoYW5uZWxEZWYgb3IgZnJvbSB0aGUgY29uZGl0aW9uIG9mIGNoYW5uZWxEZWYuXG4gKiBAcGFyYW0gY2hhbm5lbERlZlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmllbGREZWY8Rj4oY2hhbm5lbERlZjogQ2hhbm5lbERlZjxGPik6IEZpZWxkRGVmPEY+IHtcbiAgaWYgKGlzRmllbGREZWYoY2hhbm5lbERlZikpIHtcbiAgICByZXR1cm4gY2hhbm5lbERlZjtcbiAgfSBlbHNlIGlmIChoYXNDb25kaXRpb25hbEZpZWxkRGVmKGNoYW5uZWxEZWYpKSB7XG4gICAgcmV0dXJuIGNoYW5uZWxEZWYuY29uZGl0aW9uO1xuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQ29udmVydCB0eXBlIHRvIGZ1bGwsIGxvd2VyY2FzZSB0eXBlLCBvciBhdWdtZW50IHRoZSBmaWVsZERlZiB3aXRoIGEgZGVmYXVsdCB0eXBlIGlmIG1pc3NpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemUoY2hhbm5lbERlZjogQ2hhbm5lbERlZjxzdHJpbmc+LCBjaGFubmVsOiBDaGFubmVsKTogQ2hhbm5lbERlZjxhbnk+IHtcbiAgaWYgKGlzU3RyaW5nKGNoYW5uZWxEZWYpIHx8IGlzTnVtYmVyKGNoYW5uZWxEZWYpIHx8IGlzQm9vbGVhbihjaGFubmVsRGVmKSkge1xuICAgIGNvbnN0IHByaW1pdGl2ZVR5cGUgPSBpc1N0cmluZyhjaGFubmVsRGVmKSA/ICdzdHJpbmcnIDpcbiAgICAgIGlzTnVtYmVyKGNoYW5uZWxEZWYpID8gJ251bWJlcicgOiAnYm9vbGVhbic7XG4gICAgbG9nLndhcm4obG9nLm1lc3NhZ2UucHJpbWl0aXZlQ2hhbm5lbERlZihjaGFubmVsLCBwcmltaXRpdmVUeXBlLCBjaGFubmVsRGVmKSk7XG4gICAgcmV0dXJuIHt2YWx1ZTogY2hhbm5lbERlZn07XG4gIH1cblxuICAvLyBJZiBhIGZpZWxkRGVmIGNvbnRhaW5zIGEgZmllbGQsIHdlIG5lZWQgdHlwZS5cbiAgaWYgKGlzRmllbGREZWYoY2hhbm5lbERlZikpIHtcbiAgICByZXR1cm4gbm9ybWFsaXplRmllbGREZWYoY2hhbm5lbERlZiwgY2hhbm5lbCk7XG4gIH0gZWxzZSBpZiAoaGFzQ29uZGl0aW9uYWxGaWVsZERlZihjaGFubmVsRGVmKSkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5jaGFubmVsRGVmLFxuICAgICAgLy8gTmVlZCB0byBjYXN0IGFzIG5vcm1hbGl6ZUZpZWxkRGVmIG5vcm1hbGx5IHJldHVybiBGaWVsZERlZiwgYnV0IGhlcmUgd2Uga25vdyB0aGF0IGl0IGlzIGRlZmluaXRlbHkgQ29uZGl0aW9uPEZpZWxkRGVmPlxuICAgICAgY29uZGl0aW9uOiBub3JtYWxpemVGaWVsZERlZihjaGFubmVsRGVmLmNvbmRpdGlvbiwgY2hhbm5lbCkgYXMgQ29uZGl0aW9uYWw8RmllbGREZWY8c3RyaW5nPj5cbiAgICB9O1xuICB9XG4gIHJldHVybiBjaGFubmVsRGVmO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZUZpZWxkRGVmKGZpZWxkRGVmOiBGaWVsZERlZjxzdHJpbmc+LCBjaGFubmVsOiBDaGFubmVsKSB7XG4gIC8vIERyb3AgaW52YWxpZCBhZ2dyZWdhdGVcbiAgaWYgKGZpZWxkRGVmLmFnZ3JlZ2F0ZSAmJiAhaXNBZ2dyZWdhdGVPcChmaWVsZERlZi5hZ2dyZWdhdGUpKSB7XG4gICAgY29uc3Qge2FnZ3JlZ2F0ZSwgLi4uZmllbGREZWZXaXRob3V0QWdncmVnYXRlfSA9IGZpZWxkRGVmO1xuICAgIGxvZy53YXJuKGxvZy5tZXNzYWdlLmludmFsaWRBZ2dyZWdhdGUoZmllbGREZWYuYWdncmVnYXRlKSk7XG4gICAgZmllbGREZWYgPSBmaWVsZERlZldpdGhvdXRBZ2dyZWdhdGU7XG4gIH1cblxuICAvLyBOb3JtYWxpemUgVGltZSBVbml0XG4gIGlmIChmaWVsZERlZi50aW1lVW5pdCkge1xuICAgIGZpZWxkRGVmID0ge1xuICAgICAgLi4uZmllbGREZWYsXG4gICAgICB0aW1lVW5pdDogbm9ybWFsaXplVGltZVVuaXQoZmllbGREZWYudGltZVVuaXQpXG4gICAgfTtcbiAgfVxuXG4gIC8vIE5vcm1hbGl6ZSBiaW5cbiAgaWYgKGZpZWxkRGVmLmJpbikge1xuICAgIGZpZWxkRGVmID0ge1xuICAgICAgLi4uZmllbGREZWYsXG4gICAgICBiaW46IG5vcm1hbGl6ZUJpbihmaWVsZERlZi5iaW4sIGNoYW5uZWwpXG4gICAgfTtcbiAgfVxuXG4gIC8vIE5vcm1hbGl6ZSBUeXBlXG4gIGlmIChmaWVsZERlZi50eXBlKSB7XG4gICAgY29uc3QgZnVsbFR5cGUgPSBnZXRGdWxsTmFtZShmaWVsZERlZi50eXBlKTtcbiAgICBpZiAoZmllbGREZWYudHlwZSAhPT0gZnVsbFR5cGUpIHtcbiAgICAgIC8vIGNvbnZlcnQgc2hvcnQgdHlwZSB0byBmdWxsIHR5cGVcbiAgICAgIGZpZWxkRGVmID0ge1xuICAgICAgICAuLi5maWVsZERlZixcbiAgICAgICAgdHlwZTogZnVsbFR5cGVcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChmaWVsZERlZi50eXBlICE9PSAncXVhbnRpdGF0aXZlJykge1xuICAgICAgaWYgKGlzQ291bnRpbmdBZ2dyZWdhdGVPcChmaWVsZERlZi5hZ2dyZWdhdGUpKSB7XG4gICAgICAgIGxvZy53YXJuKGxvZy5tZXNzYWdlLmludmFsaWRGaWVsZFR5cGVGb3JDb3VudEFnZ3JlZ2F0ZShmaWVsZERlZi50eXBlLCBmaWVsZERlZi5hZ2dyZWdhdGUpKTtcbiAgICAgICAgZmllbGREZWYgPSB7XG4gICAgICAgICAgLi4uZmllbGREZWYsXG4gICAgICAgICAgdHlwZTogJ3F1YW50aXRhdGl2ZSdcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gSWYgdHlwZSBpcyBlbXB0eSAvIGludmFsaWQsIHRoZW4gYXVnbWVudCB3aXRoIGRlZmF1bHQgdHlwZVxuICAgIGNvbnN0IG5ld1R5cGUgPSBkZWZhdWx0VHlwZShmaWVsZERlZiwgY2hhbm5lbCk7XG4gICAgbG9nLndhcm4obG9nLm1lc3NhZ2UuZW1wdHlPckludmFsaWRGaWVsZFR5cGUoZmllbGREZWYudHlwZSwgY2hhbm5lbCwgbmV3VHlwZSkpO1xuICAgIGZpZWxkRGVmID0ge1xuICAgICAgICAuLi5maWVsZERlZixcbiAgICAgIHR5cGU6IG5ld1R5cGVcbiAgICB9O1xuICB9XG5cbiAgY29uc3Qge2NvbXBhdGlibGUsIHdhcm5pbmd9ID0gY2hhbm5lbENvbXBhdGliaWxpdHkoZmllbGREZWYsIGNoYW5uZWwpO1xuICBpZiAoIWNvbXBhdGlibGUpIHtcbiAgICBsb2cud2Fybih3YXJuaW5nKTtcbiAgfVxuICByZXR1cm4gZmllbGREZWY7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVCaW4oYmluOiBCaW5QYXJhbXN8Ym9vbGVhbiwgY2hhbm5lbDogQ2hhbm5lbCkge1xuICBpZiAoaXNCb29sZWFuKGJpbikpIHtcbiAgICByZXR1cm4ge21heGJpbnM6IGF1dG9NYXhCaW5zKGNoYW5uZWwpfTtcbiAgfSBlbHNlIGlmICghYmluLm1heGJpbnMgJiYgIWJpbi5zdGVwKSB7XG4gICAgcmV0dXJuIHsuLi5iaW4sIG1heGJpbnM6IGF1dG9NYXhCaW5zKGNoYW5uZWwpfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYmluO1xuICB9XG59XG5cbmNvbnN0IENPTVBBVElCTEUgPSB7Y29tcGF0aWJsZTogdHJ1ZX07XG5leHBvcnQgZnVuY3Rpb24gY2hhbm5lbENvbXBhdGliaWxpdHkoZmllbGREZWY6IEZpZWxkRGVmPEZpZWxkPiwgY2hhbm5lbDogQ2hhbm5lbCk6IHtjb21wYXRpYmxlOiBib29sZWFuOyB3YXJuaW5nPzogc3RyaW5nO30ge1xuICBzd2l0Y2ggKGNoYW5uZWwpIHtcbiAgICBjYXNlICdyb3cnOlxuICAgIGNhc2UgJ2NvbHVtbic6XG4gICAgICBpZiAoaXNDb250aW51b3VzKGZpZWxkRGVmKSAmJiAhZmllbGREZWYudGltZVVuaXQpIHtcbiAgICAgICAgLy8gVE9ETzooaHR0cHM6Ly9naXRodWIuY29tL3ZlZ2EvdmVnYS1saXRlL2lzc3Vlcy8yMDExKTpcbiAgICAgICAgLy8gd2l0aCB0aW1lVW5pdCBpdCdzIG5vdCBhbHdheXMgc3RyaWN0bHkgY29udGludW91c1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGNvbXBhdGlibGU6IGZhbHNlLFxuICAgICAgICAgIHdhcm5pbmc6IGxvZy5tZXNzYWdlLmZhY2V0Q2hhbm5lbFNob3VsZEJlRGlzY3JldGUoY2hhbm5lbClcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBDT01QQVRJQkxFO1xuXG4gICAgY2FzZSAneCc6XG4gICAgY2FzZSAneSc6XG4gICAgY2FzZSAnY29sb3InOlxuICAgIGNhc2UgJ2ZpbGwnOlxuICAgIGNhc2UgJ3N0cm9rZSc6XG4gICAgY2FzZSAndGV4dCc6XG4gICAgY2FzZSAnZGV0YWlsJzpcbiAgICBjYXNlICdrZXknOlxuICAgIGNhc2UgJ3Rvb2x0aXAnOlxuICAgIGNhc2UgJ2hyZWYnOlxuICAgICAgcmV0dXJuIENPTVBBVElCTEU7XG5cbiAgICBjYXNlICdsb25naXR1ZGUnOlxuICAgIGNhc2UgJ2xvbmdpdHVkZTInOlxuICAgIGNhc2UgJ2xhdGl0dWRlJzpcbiAgICBjYXNlICdsYXRpdHVkZTInOlxuICAgICAgaWYgKGZpZWxkRGVmLnR5cGUgIT09IFFVQU5USVRBVElWRSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGNvbXBhdGlibGU6IGZhbHNlLFxuICAgICAgICAgIHdhcm5pbmc6IGBDaGFubmVsICR7Y2hhbm5lbH0gc2hvdWxkIG5vdCBiZSB1c2VkIHdpdGggJHtmaWVsZERlZi50eXBlfSBmaWVsZC5gXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gQ09NUEFUSUJMRTtcblxuICAgIGNhc2UgJ29wYWNpdHknOlxuICAgIGNhc2UgJ3NpemUnOlxuICAgIGNhc2UgJ3gyJzpcbiAgICBjYXNlICd5Mic6XG4gICAgICBpZiAoaXNEaXNjcmV0ZShmaWVsZERlZikgJiYgIWZpZWxkRGVmLmJpbikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGNvbXBhdGlibGU6IGZhbHNlLFxuICAgICAgICAgIHdhcm5pbmc6IGBDaGFubmVsICR7Y2hhbm5lbH0gc2hvdWxkIG5vdCBiZSB1c2VkIHdpdGggZGlzY3JldGUgZmllbGQuYFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIENPTVBBVElCTEU7XG5cbiAgICBjYXNlICdzaGFwZSc6XG4gICAgICBpZiAoZmllbGREZWYudHlwZSAhPT0gJ25vbWluYWwnICYmIGZpZWxkRGVmLnR5cGUgIT09ICdnZW9qc29uJykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGNvbXBhdGlibGU6IGZhbHNlLFxuICAgICAgICAgIHdhcm5pbmc6ICdTaGFwZSBjaGFubmVsIHNob3VsZCBiZSB1c2VkIHdpdGggbm9taW5hbCBkYXRhIG9yIGdlb2pzb24gb25seSdcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBDT01QQVRJQkxFO1xuXG4gICAgY2FzZSAnb3JkZXInOlxuICAgICAgaWYgKGZpZWxkRGVmLnR5cGUgPT09ICdub21pbmFsJykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGNvbXBhdGlibGU6IGZhbHNlLFxuICAgICAgICAgIHdhcm5pbmc6IGBDaGFubmVsIG9yZGVyIGlzIGluYXBwcm9wcmlhdGUgZm9yIG5vbWluYWwgZmllbGQsIHdoaWNoIGhhcyBubyBpbmhlcmVudCBvcmRlci5gXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gQ09NUEFUSUJMRTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoJ2NoYW5uZWxDb21wYXRhYmlsaXR5IG5vdCBpbXBsZW1lbnRlZCBmb3IgY2hhbm5lbCAnICsgY2hhbm5lbCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc051bWJlckZpZWxkRGVmKGZpZWxkRGVmOiBGaWVsZERlZjxhbnk+KSB7XG4gIHJldHVybiBmaWVsZERlZi50eXBlID09PSAncXVhbnRpdGF0aXZlJyB8fCAhIWZpZWxkRGVmLmJpbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVGltZUZpZWxkRGVmKGZpZWxkRGVmOiBGaWVsZERlZjxhbnk+KSB7XG4gIHJldHVybiBmaWVsZERlZi50eXBlID09PSAndGVtcG9yYWwnIHx8ICEhZmllbGREZWYudGltZVVuaXQ7XG59XG4iXX0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar type_1 = require(\"vega-lite/build/src/type\");\nvar ExpandedType;\n(function (ExpandedType) {\n    ExpandedType.QUANTITATIVE = type_1.Type.QUANTITATIVE;\n    ExpandedType.ORDINAL = type_1.Type.ORDINAL;\n    ExpandedType.TEMPORAL = type_1.Type.TEMPORAL;\n    ExpandedType.NOMINAL = type_1.Type.NOMINAL;\n    ExpandedType.KEY = 'key';\n})(ExpandedType = exports.ExpandedType || (exports.ExpandedType = {}));\nfunction isDiscrete(fieldType) {\n    return fieldType === type_1.Type.ORDINAL || fieldType === type_1.Type.NOMINAL || fieldType === ExpandedType.KEY;\n}\nexports.isDiscrete = isDiscrete;\n//# sourceMappingURL=expandedtype.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar channel_1 = require(\"../../channel\");\nvar log = require(\"../../log\");\nvar scale_1 = require(\"../../scale\");\nvar scale_2 = require(\"../../scale\");\nvar type_1 = require(\"../../type\");\nvar util = require(\"../../util\");\nvar util_1 = require(\"../../util\");\n/**\n * Determine if there is a specified scale type and if it is appropriate,\n * or determine default type if type is unspecified or inappropriate.\n */\n// NOTE: CompassQL uses this method.\nfunction scaleType(specifiedType, channel, fieldDef, mark, scaleConfig) {\n    var defaultScaleType = defaultType(channel, fieldDef, mark, scaleConfig);\n    if (!channel_1.isScaleChannel(channel)) {\n        // There is no scale for these channels\n        return null;\n    }\n    if (specifiedType !== undefined) {\n        // Check if explicitly specified scale type is supported by the channel\n        if (!scale_1.channelSupportScaleType(channel, specifiedType)) {\n            log.warn(log.message.scaleTypeNotWorkWithChannel(channel, specifiedType, defaultScaleType));\n            return defaultScaleType;\n        }\n        // Check if explicitly specified scale type is supported by the data type\n        if (!fieldDefMatchScaleType(specifiedType, fieldDef)) {\n            log.warn(log.message.scaleTypeNotWorkWithFieldDef(specifiedType, defaultScaleType));\n            return defaultScaleType;\n        }\n        return specifiedType;\n    }\n    return defaultScaleType;\n}\nexports.scaleType = scaleType;\n/**\n * Determine appropriate default scale type.\n */\n// NOTE: Voyager uses this method.\nfunction defaultType(channel, fieldDef, mark, scaleConfig) {\n    switch (fieldDef.type) {\n        case 'nominal':\n        case 'ordinal':\n            if (channel_1.isColorChannel(channel) || channel_1.rangeType(channel) === 'discrete') {\n                if (channel === 'shape' && fieldDef.type === 'ordinal') {\n                    log.warn(log.message.discreteChannelCannotEncode(channel, 'ordinal'));\n                }\n                return 'ordinal';\n            }\n            if (util.contains(['x', 'y'], channel)) {\n                if (util.contains(['rect', 'bar', 'rule'], mark)) {\n                    // The rect/bar mark should fit into a band.\n                    // For rule, using band scale to make rule align with axis ticks better https://github.com/vega/vega-lite/issues/3429\n                    return 'band';\n                }\n                if (mark === 'bar') {\n                    return 'band';\n                }\n            }\n            // Otherwise, use ordinal point scale so we can easily get center positions of the marks.\n            return 'point';\n        case 'temporal':\n            if (channel_1.isColorChannel(channel)) {\n                return 'sequential';\n            }\n            else if (channel_1.rangeType(channel) === 'discrete') {\n                log.warn(log.message.discreteChannelCannotEncode(channel, 'temporal'));\n                // TODO: consider using quantize (equivalent to binning) once we have it\n                return 'ordinal';\n            }\n            return 'time';\n        case 'quantitative':\n            if (channel_1.isColorChannel(channel)) {\n                if (fieldDef.bin) {\n                    return 'bin-ordinal';\n                }\n                // Use `sequential` as the default color scale for continuous data\n                // since it supports both array range and scheme range.\n                return 'sequential';\n            }\n            else if (channel_1.rangeType(channel) === 'discrete') {\n                log.warn(log.message.discreteChannelCannotEncode(channel, 'quantitative'));\n                // TODO: consider using quantize (equivalent to binning) once we have it\n                return 'ordinal';\n            }\n            // x and y use a linear scale because selections don't work with bin scales.\n            // Binned scales apply discretization but pan/zoom apply transformations to a [min, max] extent domain.\n            if (fieldDef.bin && channel !== 'x' && channel !== 'y') {\n                return 'bin-linear';\n            }\n            return 'linear';\n        case 'latitude':\n        case 'longitude':\n        case 'geojson':\n            return undefined;\n    }\n    /* istanbul ignore next: should never reach this */\n    throw new Error(log.message.invalidFieldType(fieldDef.type));\n}\nfunction fieldDefMatchScaleType(specifiedType, fieldDef) {\n    var type = fieldDef.type;\n    if (util_1.contains([type_1.Type.ORDINAL, type_1.Type.NOMINAL], type)) {\n        return specifiedType === undefined || scale_2.hasDiscreteDomain(specifiedType);\n    }\n    else if (type === type_1.Type.TEMPORAL) {\n        return util_1.contains([scale_1.ScaleType.TIME, scale_1.ScaleType.UTC, scale_1.ScaleType.SEQUENTIAL, undefined], specifiedType);\n    }\n    else if (type === type_1.Type.QUANTITATIVE) {\n        if (fieldDef.bin) {\n            return util_1.contains([scale_1.ScaleType.BIN_LINEAR, scale_1.ScaleType.BIN_ORDINAL, scale_1.ScaleType.LINEAR], specifiedType);\n        }\n        return util_1.contains([scale_1.ScaleType.LOG, scale_1.ScaleType.POW, scale_1.ScaleType.SQRT, scale_1.ScaleType.QUANTILE, scale_1.ScaleType.QUANTIZE, scale_1.ScaleType.LINEAR, scale_1.ScaleType.SEQUENTIAL, undefined], specifiedType);\n    }\n    return true;\n}\nexports.fieldDefMatchScaleType = fieldDefMatchScaleType;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHlwZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jb21waWxlL3NjYWxlL3R5cGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSx5Q0FBaUY7QUFFakYsK0JBQWlDO0FBRWpDLHFDQUE0RTtBQUM1RSxxQ0FBOEM7QUFDOUMsbUNBQWdDO0FBQ2hDLGlDQUFtQztBQUNuQyxtQ0FBb0M7QUFLcEM7OztHQUdHO0FBQ0gsb0NBQW9DO0FBQ3BDLG1CQUNFLGFBQXdCLEVBQUUsT0FBZ0IsRUFBRSxRQUEwQixFQUN0RSxJQUFVLEVBQUUsV0FBd0I7SUFHcEMsSUFBTSxnQkFBZ0IsR0FBRyxXQUFXLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsV0FBVyxDQUFDLENBQUM7SUFFM0UsSUFBSSxDQUFDLHdCQUFjLENBQUMsT0FBTyxDQUFDLEVBQUU7UUFDNUIsdUNBQXVDO1FBQ3ZDLE9BQU8sSUFBSSxDQUFDO0tBQ2I7SUFDRCxJQUFJLGFBQWEsS0FBSyxTQUFTLEVBQUU7UUFDL0IsdUVBQXVFO1FBQ3ZFLElBQUksQ0FBQywrQkFBdUIsQ0FBQyxPQUFPLEVBQUUsYUFBYSxDQUFDLEVBQUU7WUFDcEQsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLDJCQUEyQixDQUFDLE9BQU8sRUFBRSxhQUFhLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDO1lBQzVGLE9BQU8sZ0JBQWdCLENBQUM7U0FDekI7UUFFRCx5RUFBeUU7UUFDekUsSUFBSSxDQUFDLHNCQUFzQixDQUFDLGFBQWEsRUFBRSxRQUFRLENBQUMsRUFBRTtZQUNwRCxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsNEJBQTRCLENBQUMsYUFBYSxFQUFFLGdCQUFnQixDQUFDLENBQUMsQ0FBQztZQUNwRixPQUFPLGdCQUFnQixDQUFDO1NBQ3pCO1FBRUQsT0FBTyxhQUFhLENBQUM7S0FDdEI7SUFFRCxP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USxDQUFDLENBQUMsV0FBSSxDQUFDLE9BQU8sRUFBRSxXQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsSUFBSSxDQUFDLEVBQUU7UUFDaEQsT0FBTyxhQUFhLEtBQUssU0FBUyxJQUFJLHlCQUFpQixDQUFDLGFBQWEsQ0FBQyxDQUFDO0tBQ3hFO1NBQU0sSUFBSSxJQUFJLEtBQUssV0FBSSxDQUFDLFFBQVEsRUFBRTtRQUNqQyxPQUFPLGVBQVEsQ0FBQyxDQUFDLGlCQUFTLENBQUMsSUFBSSxFQUFFLGlCQUFTLENBQUMsR0FBRyxFQUFFLGlCQUFTLENBQUMsVUFBVSxFQUFFLFNBQVMsQ0FBQyxFQUFFLGFBQWEsQ0FBQyxDQUFDO0tBQ2xHO1NBQU0sSUFBSSxJQUFJLEtBQUssV0FBSSxDQUFDLFlBQVksRUFBRTtRQUNyQyxJQUFJLFFBQVEsQ0FBQyxHQUFHLEVBQUU7WUFDaEIsT0FBTyxlQUFRLENBQUMsQ0FBQyxpQkFBUyxDQUFDLFVBQVUsRUFBRSxpQkFBUyxDQUFDLFdBQVcsRUFBRSxpQkFBUyxDQUFDLE1BQU0sQ0FBQyxFQUFFLGFBQWEsQ0FBQyxDQUFDO1NBQ2pHO1FBQ0QsT0FBTyxlQUFRLENBQUMsQ0FBQyxpQkFBUyxDQUFDLEdBQUcsRUFBRSxpQkFBUyxDQUFDLEdBQUcsRUFBRSxpQkFBUyxDQUFDLElBQUksRUFBRSxpQkFBUyxDQUFDLFFBQVEsRUFBRSxpQkFBUyxDQUFDLFFBQVEsRUFBRSxpQkFBUyxDQUFDLE1BQU0sRUFBRSxpQkFBUyxDQUFDLFVBQVUsRUFBRSxTQUFTLENBQUMsRUFBRSxhQUFhLENBQUMsQ0FBQztLQUMzSztJQUVELE9BQU8sSUFBSSxDQUFDO0FBQ2QsQ0FBQztBQWRELHdEQWNDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtDaGFubmVsLCBpc0NvbG9yQ2hhbm5lbCwgaXNTY2FsZUNoYW5uZWwsIHJhbmdlVHlwZX0gZnJvbSAnLi4vLi4vY2hhbm5lbCc7XG5pbXBvcnQge0ZpZWxkRGVmfSBmcm9tICcuLi8uLi9maWVsZGRlZic7XG5pbXBvcnQgKiBhcyBsb2cgZnJvbSAnLi4vLi4vbG9nJztcbmltcG9ydCB7TWFya30gZnJvbSAnLi4vLi4vbWFyayc7XG5pbXBvcnQge2NoYW5uZWxTdXBwb3J0U2NhbGVUeXBlLCBTY2FsZUNvbmZpZywgU2NhbGVUeXBlfSBmcm9tICcuLi8uLi9zY2FsZSc7XG5pbXBvcnQge2hhc0Rpc2NyZXRlRG9tYWlufSBmcm9tICcuLi8uLi9zY2FsZSc7XG5pbXBvcnQge1R5cGV9IGZyb20gJy4uLy4uL3R5cGUnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi8uLi91dGlsJztcbmltcG9ydCB7Y29udGFpbnN9IGZyb20gJy4uLy4uL3V0aWwnO1xuXG5cbmV4cG9ydCB0eXBlIFJhbmdlVHlwZSA9ICdjb250aW51b3VzJyB8ICdkaXNjcmV0ZScgfCAnZmxleGlibGUnIHwgdW5kZWZpbmVkO1xuXG4vKipcbiAqIERldGVybWluZSBpZiB0aGVyZSBpcyBhIHNwZWNpZmllZCBzY2FsZSB0eXBlIGFuZCBpZiBpdCBpcyBhcHByb3ByaWF0ZSxcbiAqIG9yIGRldGVybWluZSBkZWZhdWx0IHR5cGUgaWYgdHlwZSBpcyB1bnNwZWNpZmllZCBvciBpbmFwcHJvcHJpYXRlLlxuICovXG4vLyBOT1RFOiBDb21wYXNzUUwgdXNlcyB0aGlzIG1ldGhvZC5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZVR5cGUoXG4gIHNwZWNpZmllZFR5cGU6IFNjYWxlVHlwZSwgY2hhbm5lbDogQ2hhbm5lbCwgZmllbGREZWY6IEZpZWxkRGVmPHN0cmluZz4sXG4gIG1hcms6IE1hcmssIHNjYWxlQ29uZmlnOiBTY2FsZUNvbmZpZ1xuKTogU2NhbGVUeXBlIHtcblxuICBjb25zdCBkZWZhdWx0U2NhbGVUeXBlID0gZGVmYXVsdFR5cGUoY2hhbm5lbCwgZmllbGREZWYsIG1hcmssIHNjYWxlQ29uZmlnKTtcblxuICBpZiAoIWlzU2NhbGVDaGFubmVsKGNoYW5uZWwpKSB7XG4gICAgLy8gVGhlcmUgaXMgbm8gc2NhbGUgZm9yIHRoZXNlIGNoYW5uZWxzXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKHNwZWNpZmllZFR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgIC8vIENoZWNrIGlmIGV4cGxpY2l0bHkgc3BlY2lmaWVkIHNjYWxlIHR5cGUgaXMgc3VwcG9ydGVkIGJ5IHRoZSBjaGFubmVsXG4gICAgaWYgKCFjaGFubmVsU3VwcG9ydFNjYWxlVHlwZShjaGFubmVsLCBzcGVjaWZpZWRUeXBlKSkge1xuICAgICAgbG9nLndhcm4obG9nLm1lc3NhZ2Uuc2NhbGVUeXBlTm90V29ya1dpdGhDaGFubmVsKGNoYW5uZWwsIHNwZWNpZmllZFR5cGUsIGRlZmF1bHRTY2FsZVR5cGUpKTtcbiAgICAgIHJldHVybiBkZWZhdWx0U2NhbGVUeXBlO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIGV4cGxpY2l0bHkgc3BlY2lmaWVkIHNjYWxlIHR5cGUgaXMgc3VwcG9ydGVkIGJ5IHRoZSBkYXRhIHR5cGVcbiAgICBpZiAoIWZpZWxkRGVmTWF0Y2hTY2FsZVR5cGUoc3BlY2lmaWVkVHlwZSwgZmllbGREZWYpKSB7XG4gICAgICBsb2cud2Fybihsb2cubWVzc2FnZS5zY2FsZVR5cGVOb3RXb3JrV2l0aEZpZWxkRGVmKHNwZWNpZmllZFR5cGUsIGRlZmF1bHRTY2FsZVR5cGUpKTtcbiAgICAgIHJldHVybiBkZWZhdWx0U2NhbGVUeXBlO1xuICAgIH1cblxuICAgIHJldHVybiBzcGVjaWZpZWRUeXBlO1xuICB9XG5cbiAgcmV0dXJuIGRlZmF1bHRTY2FsZVR5cGU7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGFwcHJvcHJpYXRlIGRlZmF1bHQgc2NhbGUgdHlwZS5cbiAqL1xuLy8gTk9URTogVm95YWdlciB1c2VzIHRoaXMgbWV0aG9kLlxuZnVuY3Rpb24gZGVmYXVsdFR5cGUoXG4gIGNoYW5uZWw6IENoYW5uZWwsIGZpZWxkRGVmOiBGaWVsZERlZjxzdHJpbmc+LCBtYXJrOiBNYXJrLCBzY2FsZUNvbmZpZzogU2NhbGVDb25maWdcbik6IFNjYWxlVHlwZSB7XG4gIHN3aXRjaCAoZmllbGREZWYudHlwZSkge1xuICAgIGNhc2UgJ25vbWluYWwnOlxuICAgIGNhc2UgJ29yZGluYWwnOlxuICAgICAgaWYgKGlzQ29sb3JDaGFubmVsKGNoYW5uZWwpfHwgcmFuZ2VUeXBlKGNoYW5uZWwpID09PSAnZGlzY3JldGUnKSB7XG4gICAgICAgIGlmIChjaGFubmVsID09PSAnc2hhcGUnICYmIGZpZWxkRGVmLnR5cGUgPT09ICdvcmRpbmFsJykge1xuICAgICAgICAgIGxvZy53YXJuKGxvZy5tZXNzYWdlLmRpc2NyZXRlQ2hhbm5lbENhbm5vdEVuY29kZShjaGFubmVsLCAnb3JkaW5hbCcpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJ29yZGluYWwnO1xuICAgICAgfVxuXG4gICAgICBpZiAodXRpbC5jb250YWlucyhbJ3gnLCAneSddLCBjaGFubmVsKSkge1xuICAgICAgICBpZiAodXRpbC5jb250YWlucyhbJ3JlY3QnLCAnYmFyJywgJ3J1bGUnXSwgbWFyaykpIHtcbiAgICAgICAgICAvLyBUaGUgcmVjdC9iYXIgbWFyayBzaG91bGQgZml0IGludG8gYSBiYW5kLlxuICAgICAgICAgIC8vIEZvciBydWxlLCB1c2luZyBiYW5kIHNjYWxlIHRvIG1ha2UgcnVsZSBhbGlnbiB3aXRoIGF4aXMgdGlja3MgYmV0dGVyIGh0dHBzOi8vZ2l0aHViLmNvbS92ZWdhL3ZlZ2EtbGl0ZS9pc3N1ZXMvMzQyOVxuICAgICAgICAgIHJldHVybiAnYmFuZCc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hcmsgPT09ICdiYXInKSB7XG4gICAgICAgICAgcmV0dXJuICdiYW5kJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gT3RoZXJ3aXNlLCB1c2Ugb3JkaW5hbCBwb2ludCBzY2FsZSBzbyB3ZSBjYW4gZWFzaWx5IGdldCBjZW50ZXIgcG9zaXRpb25zIG9mIHRoZSBtYXJrcy5cbiAgICAgIHJldHVybiAncG9pbnQnO1xuXG4gICAgY2FzZSAndGVtcG9yYWwnOlxuICAgICAgaWYgKGlzQ29sb3JDaGFubmVsKGNoYW5uZWwpKSB7XG4gICAgICAgIHJldHVybiAnc2VxdWVudGlhbCc7XG4gICAgICB9IGVsc2UgaWYgKHJhbmdlVHlwZShjaGFubmVsKSA9PT0gJ2Rpc2NyZXRlJykge1xuICAgICAgICBsb2cud2Fybihsb2cubWVzc2FnZS5kaXNjcmV0ZUNoYW5uZWxDYW5ub3RFbmNvZGUoY2hhbm5lbCwgJ3RlbXBvcmFsJykpO1xuICAgICAgICAvLyBUT0RPOiBjb25zaWRlciB1c2luZyBxdWFudGl6ZSAoZXF1aXZhbGVudCB0byBiaW5uaW5nKSBvbmNlIHdlIGhhdmUgaXRcbiAgICAgICAgcmV0dXJuICdvcmRpbmFsJztcbiAgICAgIH1cbiAgICAgIHJldHVybiAndGltZSc7XG5cbiAgICBjYXNlICdxdWFudGl0YXRpdmUnOlxuICAgICAgaWYgKGlzQ29sb3JDaGFubmVsKGNoYW5uZWwpKSB7XG4gICAgICAgIGlmIChmaWVsZERlZi5iaW4pIHtcbiAgICAgICAgICByZXR1cm4gJ2Jpbi1vcmRpbmFsJztcbiAgICAgICAgfVxuICAgICAgICAvLyBVc2UgYHNlcXVlbnRpYWxgIGFzIHRoZSBkZWZhdWx0IGNvbG9yIHNjYWxlIGZvciBjb250aW51b3VzIGRhdGFcbiAgICAgICAgLy8gc2luY2UgaXQgc3VwcG9ydHMgYm90aCBhcnJheSByYW5nZSBhbmQgc2NoZW1lIHJhbmdlLlxuICAgICAgICByZXR1cm4gJ3NlcXVlbnRpYWwnO1xuICAgICAgfSBlbHNlIGlmIChyYW5nZVR5cGUoY2hhbm5lbCkgPT09ICdkaXNjcmV0ZScpIHtcbiAgICAgICAgbG9nLndhcm4obG9nLm1lc3NhZ2UuZGlzY3JldGVDaGFubmVsQ2Fubm90RW5jb2RlKGNoYW5uZWwsICdxdWFudGl0YXRpdmUnKSk7XG4gICAgICAgIC8vIFRPRE86IGNvbnNpZGVyIHVzaW5nIHF1YW50aXplIChlcXVpdmFsZW50IHRvIGJpbm5pbmcpIG9uY2Ugd2UgaGF2ZSBpdFxuICAgICAgICByZXR1cm4gJ29yZGluYWwnO1xuICAgICAgfVxuXG4gICAgICAvLyB4IGFuZCB5IHVzZSBhIGxpbmVhciBzY2FsZSBiZWNhdXNlIHNlbGVjdGlvbnMgZG9uJ3Qgd29yayB3aXRoIGJpbiBzY2FsZXMuXG4gICAgICAvLyBCaW5uZWQgc2NhbGVzIGFwcGx5IGRpc2NyZXRpemF0aW9uIGJ1dCBwYW4vem9vbSBhcHBseSB0cmFuc2Zvcm1hdGlvbnMgdG8gYSBbbWluLCBtYXhdIGV4dGVudCBkb21haW4uXG4gICAgICBpZiAoZmllbGREZWYuYmluICYmIGNoYW5uZWwgIT09ICd4JyAmJiBjaGFubmVsICE9PSAneScpIHtcbiAgICAgICAgcmV0dXJuICdiaW4tbGluZWFyJztcbiAgICAgIH1cbiAgICAgIHJldHVybiAnbGluZWFyJztcblxuICAgIGNhc2UgJ2xhdGl0dWRlJzpcbiAgICBjYXNlICdsb25naXR1ZGUnOlxuICAgIGNhc2UgJ2dlb2pzb24nOlxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBzaG91bGQgbmV2ZXIgcmVhY2ggdGhpcyAqL1xuICB0aHJvdyBuZXcgRXJyb3IobG9nLm1lc3NhZ2UuaW52YWxpZEZpZWxkVHlwZShmaWVsZERlZi50eXBlKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWVsZERlZk1hdGNoU2NhbGVUeXBlKHNwZWNpZmllZFR5cGU6IFNjYWxlVHlwZSwgZmllbGREZWY6IEZpZWxkRGVmPHN0cmluZz4pOmJvb2xlYW4ge1xuICBjb25zdCB0eXBlOiBUeXBlID0gZmllbGREZWYudHlwZTtcbiAgaWYgKGNvbnRhaW5zKFtUeXBlLk9SRElOQUwsIFR5cGUuTk9NSU5BTF0sIHR5cGUpKSB7XG4gICAgcmV0dXJuIHNwZWNpZmllZFR5cGUgPT09IHVuZGVmaW5lZCB8fCBoYXNEaXNjcmV0ZURvbWFpbihzcGVjaWZpZWRUeXBlKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSBUeXBlLlRFTVBPUkFMKSB7XG4gICAgcmV0dXJuIGNvbnRhaW5zKFtTY2FsZVR5cGUuVElNRSwgU2NhbGVUeXBlLlVUQywgU2NhbGVUeXBlLlNFUVVFTlRJQUwsIHVuZGVmaW5lZF0sIHNwZWNpZmllZFR5cGUpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09IFR5cGUuUVVBTlRJVEFUSVZFKSB7XG4gICAgaWYgKGZpZWxkRGVmLmJpbikge1xuICAgICAgcmV0dXJuIGNvbnRhaW5zKFtTY2FsZVR5cGUuQklOX0xJTkVBUiwgU2NhbGVUeXBlLkJJTl9PUkRJTkFMLCBTY2FsZVR5cGUuTElORUFSXSwgc3BlY2lmaWVkVHlwZSk7XG4gICAgfVxuICAgIHJldHVybiBjb250YWlucyhbU2NhbGVUeXBlLkxPRywgU2NhbGVUeXBlLlBPVywgU2NhbGVUeXBlLlNRUlQsIFNjYWxlVHlwZS5RVUFOVElMRSwgU2NhbGVUeXBlLlFVQU5USVpFLCBTY2FsZVR5cGUuTElORUFSLCBTY2FsZVR5cGUuU0VRVUVOVElBTCwgdW5kZWZpbmVkXSwgc3BlY2lmaWVkVHlwZSk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cbiJdfQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar vega_util_1 = require(\"vega-util\");\nvar channel_1 = require(\"./channel\");\nvar fielddef_1 = require(\"./fielddef\");\nvar log = require(\"./log\");\nvar type_1 = require(\"./type\");\nvar util_1 = require(\"./util\");\nfunction channelHasField(encoding, channel) {\n    var channelDef = encoding && encoding[channel];\n    if (channelDef) {\n        if (vega_util_1.isArray(channelDef)) {\n            return util_1.some(channelDef, function (fieldDef) { return !!fieldDef.field; });\n        }\n        else {\n            return fielddef_1.isFieldDef(channelDef) || fielddef_1.hasConditionalFieldDef(channelDef);\n        }\n    }\n    return false;\n}\nexports.channelHasField = channelHasField;\nfunction isAggregate(encoding) {\n    return util_1.some(channel_1.CHANNELS, function (channel) {\n        if (channelHasField(encoding, channel)) {\n            var channelDef = encoding[channel];\n            if (vega_util_1.isArray(channelDef)) {\n                return util_1.some(channelDef, function (fieldDef) { return !!fieldDef.aggregate; });\n            }\n            else {\n                var fieldDef = fielddef_1.getFieldDef(channelDef);\n                return fieldDef && !!fieldDef.aggregate;\n            }\n        }\n        return false;\n    });\n}\nexports.isAggregate = isAggregate;\nfunction normalizeEncoding(encoding, mark) {\n    return util_1.keys(encoding).reduce(function (normalizedEncoding, channel) {\n        if (!channel_1.isChannel(channel)) {\n            // Drop invalid channel\n            log.warn(log.message.invalidEncodingChannel(channel));\n            return normalizedEncoding;\n        }\n        if (!channel_1.supportMark(channel, mark)) {\n            // Drop unsupported channel\n            log.warn(log.message.incompatibleChannel(channel, mark));\n            return normalizedEncoding;\n        }\n        // Drop line's size if the field is aggregated.\n        if (channel === 'size' && mark === 'line') {\n            var fieldDef = fielddef_1.getFieldDef(encoding[channel]);\n            if (fieldDef && fieldDef.aggregate) {\n                log.warn(log.message.LINE_WITH_VARYING_SIZE);\n                return normalizedEncoding;\n            }\n        }\n        // Drop color if either fill or stroke is specified\n        if (channel === 'color' && ('fill' in encoding || 'stroke' in encoding)) {\n            log.warn(log.message.droppingColor('encoding', { fill: 'fill' in encoding, stroke: 'stroke' in encoding }));\n            return normalizedEncoding;\n        }\n        if (channel === 'detail' || channel === 'order' || (channel === 'tooltip' && vega_util_1.isArray(encoding[channel]))) {\n            var channelDef = encoding[channel];\n            if (channelDef) {\n                // Array of fieldDefs for detail channel (or production rule)\n                normalizedEncoding[channel] = (vega_util_1.isArray(channelDef) ? channelDef : [channelDef])\n                    .reduce(function (defs, fieldDef) {\n                    if (!fielddef_1.isFieldDef(fieldDef)) {\n                        log.warn(log.message.emptyFieldDef(fieldDef, channel));\n                    }\n                    else {\n                        defs.push(fielddef_1.normalizeFieldDef(fieldDef, channel));\n                    }\n                    return defs;\n                }, []);\n            }\n        }\n        else {\n            // FIXME: remove this casting.  (I don't know why Typescript doesn't infer this correctly here.)\n            var channelDef = encoding[channel];\n            var fieldDef = fielddef_1.getFieldDef(encoding[channel]);\n            if (fieldDef && util_1.contains([type_1.Type.LATITUDE, type_1.Type.LONGITUDE], fieldDef.type)) {\n                var _a = channel, _ = normalizedEncoding[_a], newEncoding = tslib_1.__rest(normalizedEncoding, [typeof _a === \"symbol\" ? _a : _a + \"\"]);\n                var newChannel = channel === 'x' ? 'longitude' :\n                    channel === 'y' ? 'latitude' :\n                        channel === 'x2' ? 'longitude2' :\n                            channel === 'y2' ? 'latitude2' : undefined;\n                log.warn(log.message.latLongDeprecated(channel, fieldDef.type, newChannel));\n                return tslib_1.__assign({}, newEncoding, (_b = {}, _b[newChannel] = tslib_1.__assign({}, fielddef_1.normalize(fieldDef, channel), { type: 'quantitative' }), _b));\n            }\n            if (!fielddef_1.isFieldDef(channelDef) && !fielddef_1.isValueDef(channelDef) && !fielddef_1.isConditionalDef(channelDef)) {\n                log.warn(log.message.emptyFieldDef(channelDef, channel));\n                return normalizedEncoding;\n            }\n            normalizedEncoding[channel] = fielddef_1.normalize(channelDef, channel);\n        }\n        return normalizedEncoding;\n        var _b;\n    }, {});\n}\nexports.normalizeEncoding = normalizeEncoding;\nfunction isRanged(encoding) {\n    return encoding && ((!!encoding.x && !!encoding.x2) || (!!encoding.y && !!encoding.y2));\n}\nexports.isRanged = isRanged;\nfunction fieldDefs(encoding) {\n    var arr = [];\n    channel_1.CHANNELS.forEach(function (channel) {\n        if (channelHasField(encoding, channel)) {\n            var channelDef = encoding[channel];\n            (vega_util_1.isArray(channelDef) ? channelDef : [channelDef]).forEach(function (def) {\n                if (fielddef_1.isFieldDef(def)) {\n                    arr.push(def);\n                }\n                else if (fielddef_1.hasConditionalFieldDef(def)) {\n                    arr.push(def.condition);\n                }\n            });\n        }\n    });\n    return arr;\n}\nexports.fieldDefs = fieldDefs;\nfunction forEach(mapping, f, thisArg) {\n    if (!mapping) {\n        return;\n    }\n    var _loop_1 = function (channel) {\n        if (vega_util_1.isArray(mapping[channel])) {\n            mapping[channel].forEach(function (channelDef) {\n                f.call(thisArg, channelDef, channel);\n            });\n        }\n        else {\n            f.call(thisArg, mapping[channel], channel);\n        }\n    };\n    for (var _i = 0, _a = util_1.keys(mapping); _i < _a.length; _i++) {\n        var channel = _a[_i];\n        _loop_1(channel);\n    }\n}\nexports.forEach = forEach;\nfunction reduce(mapping, f, init, thisArg) {\n    if (!mapping) {\n        return init;\n    }\n    return util_1.keys(mapping).reduce(function (r, channel) {\n        var map = mapping[channel];\n        if (vega_util_1.isArray(map)) {\n            return map.reduce(function (r1, channelDef) {\n                return f.call(thisArg, r1, channelDef, channel);\n            }, r);\n        }\n        else {\n            return f.call(thisArg, r, map, channel);\n        }\n    }, init);\n}\nexports.reduce = reduce;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW5jb2RpbmcuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZW5jb2RpbmcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQ0EsdUNBQWtDO0FBQ2xDLHFDQUFvRTtBQUVwRSx1Q0FrQm9CO0FBQ3BCLDJCQUE2QjtBQUU3QiwrQkFBNEI7QUFDNUIsK0JBQTRDO0FBOEk1Qyx5QkFBZ0MsUUFBa0MsRUFBRSxPQUFnQjtJQUNsRixJQUFNLFVBQVUsR0FBRyxRQUFRLElBQUksUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ2pELElBQUksVUFBVSxFQUFFO1FBQ2QsSUFBSSxtQkFBTyxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQ3ZCLE9BQU8sV0FBSSxDQUFDLFVBQVUsRUFBRSxVQUFDLFFBQVEsSUFBSyxPQUFBLENBQUMsQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFoQixDQUFnQixDQUFDLENBQUM7U0FDekQ7YUFBTTtZQUNMLE9BQU8scUJBQVUsQ0FBQyxVQUFVLENBQUMsSUFBSSxpQ0FBc0IsQ0FBQyxVQUFVLENBQUMsQ0FBQztTQUNyRTtLQUNGO0lBQ0QsT0FBTyxLQUFLLENBQUM7QUFDZixDQUFDO0FBVkQsMENBVUM7QUFHRCxxQkFBNEIsUUFBa0M7SUFDNUQsT0FBTyxXQUFJLENBQUMsa0JBQVEsRUFBRSxVQUFDLE9BQU87UUFDNUIsSUFBSSxlQUFlLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxFQUFFO1lBQ3RDLElBQU0sVUFBVSxHQUFHLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUNyQyxJQUFJLG1CQUFPLENBQUMsVUFBVSxDQUFDLEVBQUU7Z0JBQ3ZCLE9BQU8sV0FBSSxDQUFDLFVBQVUsRUFBRSxVQUFDLFFBQVEsSUFBSyxPQUFBLENBQUMsQ0FBQyxRQUFRLENBQUMsU0FBUyxFQUFwQixDQUFvQixDQUFDLENBQUM7YUFDN0Q7aUJBQU07Z0JBQ0wsSUFBTSxRQUFRLEdBQUcsc0JBQVcsQ0FBQyxVQUFVLENBQUMs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LENBQUMsQ0FBQyxDQUFDO1NBQ1A7YUFBTTtZQUNMLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQztTQUN6QztJQUNILENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUNYLENBQUM7QUFqQkQsd0JBaUJDIiwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQge2lzQXJyYXl9IGZyb20gJ3ZlZ2EtdXRpbCc7XG5pbXBvcnQge0NoYW5uZWwsIENIQU5ORUxTLCBpc0NoYW5uZWwsIHN1cHBvcnRNYXJrfSBmcm9tICcuL2NoYW5uZWwnO1xuaW1wb3J0IHtGYWNldE1hcHBpbmd9IGZyb20gJy4vZmFjZXQnO1xuaW1wb3J0IHtcbiAgQ2hhbm5lbERlZixcbiAgRmllbGQsXG4gIEZpZWxkRGVmLFxuICBGaWVsZERlZldpdGhDb25kaXRpb24sXG4gIGdldEZpZWxkRGVmLFxuICBoYXNDb25kaXRpb25hbEZpZWxkRGVmLFxuICBpc0NvbmRpdGlvbmFsRGVmLFxuICBpc0ZpZWxkRGVmLFxuICBpc1ZhbHVlRGVmLFxuICBNYXJrUHJvcEZpZWxkRGVmLFxuICBub3JtYWxpemUsXG4gIG5vcm1hbGl6ZUZpZWxkRGVmLFxuICBPcmRlckZpZWxkRGVmLFxuICBQb3NpdGlvbkZpZWxkRGVmLFxuICBUZXh0RmllbGREZWYsXG4gIFZhbHVlRGVmLFxuICBWYWx1ZURlZldpdGhDb25kaXRpb25cbn0gZnJvbSAnLi9maWVsZGRlZic7XG5pbXBvcnQgKiBhcyBsb2cgZnJvbSAnLi9sb2cnO1xuaW1wb3J0IHtNYXJrfSBmcm9tICcuL21hcmsnO1xuaW1wb3J0IHtUeXBlfSBmcm9tICcuL3R5cGUnO1xuaW1wb3J0IHtjb250YWlucywga2V5cywgc29tZX0gZnJvbSAnLi91dGlsJztcblxuZXhwb3J0IGludGVyZmFjZSBFbmNvZGluZzxGPiB7XG4gIC8qKlxuICAgKiBYIGNvb3JkaW5hdGVzIG9mIHRoZSBtYXJrcywgb3Igd2lkdGggb2YgaG9yaXpvbnRhbCBgXCJiYXJcImAgYW5kIGBcImFyZWFcImAuXG4gICAqL1xuICB4PzogUG9zaXRpb25GaWVsZERlZjxGPiB8IFZhbHVlRGVmO1xuXG4gIC8qKlxuICAgKiBZIGNvb3JkaW5hdGVzIG9mIHRoZSBtYXJrcywgb3IgaGVpZ2h0IG9mIHZlcnRpY2FsIGBcImJhclwiYCBhbmQgYFwiYXJlYVwiYC5cbiAgICovXG4gIHk/OiBQb3NpdGlvbkZpZWxkRGVmPEY+IHwgVmFsdWVEZWY7XG5cbiAgLyoqXG4gICAqIFgyIGNvb3JkaW5hdGVzIGZvciByYW5nZWQgYFwiYXJlYVwiYCwgYFwiYmFyXCJgLCBgXCJyZWN0XCJgLCBhbmQgIGBcInJ1bGVcImAuXG4gICAqL1xuICAvLyBUT0RPOiBIYW0gbmVlZCB0byBhZGQgZGVmYXVsdCBiZWhhdmlvclxuICB4Mj86IEZpZWxkRGVmPEY+IHwgVmFsdWVEZWY7XG5cbiAgLyoqXG4gICAqIFkyIGNvb3JkaW5hdGVzIGZvciByYW5nZWQgYFwiYXJlYVwiYCwgYFwiYmFyXCJgLCBgXCJyZWN0XCJgLCBhbmQgIGBcInJ1bGVcImAuXG4gICAqL1xuICAvLyBUT0RPOiBIYW0gbmVlZCB0byBhZGQgZGVmYXVsdCBiZWhhdmlvclxuICB5Mj86IEZpZWxkRGVmPEY+IHwgVmFsdWVEZWY7XG5cblxuICAvKipcbiAgICogTG9uZ2l0dWRlIHBvc2l0aW9uIG9mIGdlb2dyYXBoaWNhbGx5IHByb2plY3RlZCBtYXJrcy5cbiAgICovXG4gIGxvbmdpdHVkZT86IEZpZWxkRGVmPEY+O1xuXG4gIC8qKlxuICAgKiBMYXRpdHVkZSBwb3NpdGlvbiBvZiBnZW9ncmFwaGljYWxseSBwcm9qZWN0ZWQgbWFya3MuXG4gICAqL1xuICBsYXRpdHVkZT86IEZpZWxkRGVmPEY+O1xuXG4gIC8qKlxuICAgKiBMb25naXR1ZGUtMiBwb3NpdGlvbiBmb3IgZ2VvZ3JhcGhpY2FsbHkgcHJvamVjdGVkIHJhbmdlZCBgXCJhcmVhXCJgLCBgXCJiYXJcImAsIGBcInJlY3RcImAsIGFuZCAgYFwicnVsZVwiYC5cbiAgICovXG4gIGxvbmdpdHVkZTI/OiBGaWVsZERlZjxGPjtcblxuICAvKipcbiAgICogTGF0aXR1ZGUtMiBwb3NpdGlvbiBmb3IgZ2VvZ3JhcGhpY2FsbHkgcHJvamVjdGVkIHJhbmdlZCBgXCJhcmVhXCJgLCBgXCJiYXJcImAsIGBcInJlY3RcImAsIGFuZCAgYFwicnVsZVwiYC5cbiAgICovXG4gIGxhdGl0dWRlMj86IEZpZWxkRGVmPEY+O1xuXG4gIC8qKlxuICAgKiBDb2xvciBvZiB0aGUgbWFya3Mg4oCTIGVpdGhlciBmaWxsIG9yIHN0cm9rZSBjb2xvciBiYXNlZCBvbiAgdGhlIGBmaWxsZWRgIHByb3BlcnR5IG9mIG1hcmsgZGVmaW5pdGlvbi5cbiAgICogQnkgZGVmYXVsdCwgYGNvbG9yYCByZXByZXNlbnRzIGZpbGwgY29sb3IgZm9yIGBcImFyZWFcImAsIGBcImJhclwiYCwgYFwidGlja1wiYCxcbiAgICogYFwidGV4dFwiYCwgYFwidHJhaWxcImAsIGBcImNpcmNsZVwiYCwgYW5kIGBcInNxdWFyZVwiYCAvIHN0cm9rZSBjb2xvciBmb3IgYFwibGluZVwiYCBhbmQgYFwicG9pbnRcImAuXG4gICAqXG4gICAqIF9fRGVmYXVsdCB2YWx1ZTpfXyBJZiB1bmRlZmluZWQsIHRoZSBkZWZhdWx0IGNvbG9yIGRlcGVuZHMgb24gW21hcmsgY29uZmlnXShjb25maWcuaHRtbCNtYXJrKSdzIGBjb2xvcmAgcHJvcGVydHkuXG4gICAqXG4gICAqIF9Ob3RlOl9cbiAgICogMSkgRm9yIGZpbmUtZ3JhaW5lZCBjb250cm9sIG92ZXIgYm90aCBmaWxsIGFuZCBzdHJva2UgY29sb3JzIG9mIHRoZSBtYXJrcywgcGxlYXNlIHVzZSB0aGUgYGZpbGxgIGFuZCBgc3Ryb2tlYCBjaGFubmVscy4gIElmIGVpdGhlciBgZmlsbGAgb3IgYHN0cm9rZWAgY2hhbm5lbCBpcyBzcGVjaWZpZWQsIGBjb2xvcmAgY2hhbm5lbCB3aWxsIGJlIGlnbm9yZWQuXG4gICAqIDIpIFNlZSB0aGUgc2NhbGUgZG9jdW1lbnRhdGlvbiBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBjdXN0b21pemluZyBbY29sb3Igc2NoZW1lXShzY2FsZS5odG1sI3NjaGVtZSkuXG4gICAqL1xuICBjb2xvcj86IEZpZWxkRGVmV2l0aENvbmRpdGlvbjxNYXJrUHJvcEZpZWxkRGVmPEY+PiB8IFZhbHVlRGVmV2l0aENvbmRpdGlvbjxNYXJrUHJvcEZpZWxkRGVmPEY+PjtcblxuICAvKipcbiAgICogRmlsbCBjb2xvciBvZiB0aGUgbWFya3MuXG4gICAqIF9fRGVmYXVsdCB2YWx1ZTpfXyBJZiB1bmRlZmluZWQsIHRoZSBkZWZhdWx0IGNvbG9yIGRlcGVuZHMgb24gW21hcmsgY29uZmlnXShjb25maWcuaHRtbCNtYXJrKSdzIGBjb2xvcmAgcHJvcGVydHkuXG4gICAqXG4gICAqIF9Ob3RlOl8gV2hlbiB1c2luZyBgZmlsbGAgY2hhbm5lbCwgYGNvbG9yIGAgY2hhbm5lbCB3aWxsIGJlIGlnbm9yZWQuIFRvIGN1c3RvbWl6ZSBib3RoIGZpbGwgYW5kIHN0cm9rZSwgcGxlYXNlIHVzZSBgZmlsbGAgYW5kIGBzdHJva2VgIGNoYW5uZWxzIChub3QgYGZpbGxgIGFuZCBgY29sb3JgKS5cbiAgICovXG4gIGZpbGw/OiBGaWVsZERlZldpdGhDb25kaXRpb248TWFya1Byb3BGaWVsZERlZjxGPj4gfCBWYWx1ZURlZldpdGhDb25kaXRpb248TWFya1Byb3BGaWVsZERlZjxGPj47XG5cblxuICAvKipcbiAgICogU3Ryb2tlIGNvbG9yIG9mIHRoZSBtYXJrcy5cbiAgICogX19EZWZhdWx0IHZhbHVlOl9fIElmIHVuZGVmaW5lZCwgdGhlIGRlZmF1bHQgY29sb3IgZGVwZW5kcyBvbiBbbWFyayBjb25maWddKGNvbmZpZy5odG1sI21hcmspJ3MgYGNvbG9yYCBwcm9wZXJ0eS5cbiAgICpcbiAgICogX05vdGU6XyBXaGVuIHVzaW5nIGBzdHJva2VgIGNoYW5uZWwsIGBjb2xvciBgIGNoYW5uZWwgd2lsbCBiZSBpZ25vcmVkLiBUbyBjdXN0b21pemUgYm90aCBzdHJva2UgYW5kIGZpbGwsIHBsZWFzZSB1c2UgYHN0cm9rZWAgYW5kIGBmaWxsYCBjaGFubmVscyAobm90IGBzdHJva2VgIGFuZCBgY29sb3JgKS5cbiAgICovXG4gIHN0cm9rZT86IEZpZWxkRGVmV2l0aENvbmRpdGlvbjxNYXJrUHJvcEZpZWxkRGVmPEY+PiB8IFZhbHVlRGVmV2l0aENvbmRpdGlvbjxNYXJrUHJvcEZpZWxkRGVmPEY+PjtcblxuXG4gIC8qKlxuICAgKiBPcGFjaXR5IG9mIHRoZSBtYXJrcyDigJMgZWl0aGVyIGNhbiBiZSBhIHZhbHVlIG9yIGEgcmFuZ2UuXG4gICAqXG4gICAqIF9fRGVmYXVsdCB2YWx1ZTpfXyBJZiB1bmRlZmluZWQsIHRoZSBkZWZhdWx0IG9wYWNpdHkgZGVwZW5kcyBvbiBbbWFyayBjb25maWddKGNvbmZpZy5odG1sI21hcmspJ3MgYG9wYWNpdHlgIHByb3BlcnR5LlxuICAgKi9cbiAgb3BhY2l0eT86IEZpZWxkRGVmV2l0aENvbmRpdGlvbjxNYXJrUHJvcEZpZWxkRGVmPEY+PiB8IFZhbHVlRGVmV2l0aENvbmRpdGlvbjxNYXJrUHJvcEZpZWxkRGVmPEY+PjtcblxuICAvKipcbiAgICogU2l6ZSBvZiB0aGUgbWFyay5cbiAgICogLSBGb3IgYFwicG9pbnRcImAsIGBcInNxdWFyZVwiYCBhbmQgYFwiY2lyY2xlXCJgLCDigJMgdGhlIHN5bWJvbCBzaXplLCBvciBwaXhlbCBhcmVhIG9mIHRoZSBtYXJrLlxuICAgKiAtIEZvciBgXCJiYXJcImAgYW5kIGBcInRpY2tcImAg4oCTIHRoZSBiYXIgYW5kIHRpY2sncyBzaXplLlxuICAgKiAtIEZvciBgXCJ0ZXh0XCJgIOKAkyB0aGUgdGV4dCdzIGZvbnQgc2l6ZS5cbiAgICogLSBTaXplIGlzIHVuc3VwcG9ydGVkIGZvciBgXCJsaW5lXCJgLCBgXCJhcmVhXCJgLCBhbmQgYFwicmVjdFwiYC4gKFVzZSBgXCJ0cmFpbFwiYCBpbnN0ZWFkIG9mIGxpbmUgd2l0aCB2YXJ5aW5nIHNpemUpXG4gICAqL1xuICBzaXplPzogRmllbGREZWZXaXRoQ29uZGl0aW9uPE1hcmtQcm9wRmllbGREZWY8Rj4+IHwgVmFsdWVEZWZXaXRoQ29uZGl0aW9uPE1hcmtQcm9wRmllbGREZWY8Rj4+O1xuXG4gIC8qKlxuICAgKiBGb3IgYHBvaW50YCBtYXJrcyB0aGUgc3VwcG9ydGVkIHZhbHVlcyBhcmVcbiAgICogYFwiY2lyY2xlXCJgIChkZWZhdWx0KSwgYFwic3F1YXJlXCJgLCBgXCJjcm9zc1wiYCwgYFwiZGlhbW9uZFwiYCwgYFwidHJpYW5nbGUtdXBcImAsXG4gICAqIG9yIGBcInRyaWFuZ2xlLWRvd25cImAsIG9yIGVsc2UgYSBjdXN0b20gU1ZHIHBhdGggc3RyaW5nLlxuICAgKiBGb3IgYGdlb3NoYXBlYCBtYXJrcyBpdCBzaG91bGQgYmUgYSBmaWVsZCBkZWZpbml0aW9uIG9mIHRoZSBnZW9qc29uIGRhdGFcbiAgICpcbiAgICogX19EZWZhdWx0IHZhbHVlOl9fIElmIHVuZGVmaW5lZCwgdGhlIGRlZmF1bHQgc2hhcGUgZGVwZW5kcyBvbiBbbWFyayBjb25maWddKGNvbmZpZy5odG1sI3BvaW50LWNvbmZpZykncyBgc2hhcGVgIHByb3BlcnR5LlxuICAgKi9cbiAgc2hhcGU/OiBGaWVsZERlZldpdGhDb25kaXRpb248TWFya1Byb3BGaWVsZERlZjxGPj4gfCBWYWx1ZURlZldpdGhDb25kaXRpb248TWFya1Byb3BGaWVsZERlZjxGPj47IC8vIFRPRE86IG1heWJlIGRpc3Rpbmd1aXNoIG9yZGluYWwtb25seVxuXG4gIC8qKlxuICAgKiBBZGRpdGlvbmFsIGxldmVscyBvZiBkZXRhaWwgZm9yIGdyb3VwaW5nIGRhdGEgaW4gYWdncmVnYXRlIHZpZXdzIGFuZFxuICAgKiBpbiBsaW5lLCB0cmFpbCwgYW5kIGFyZWEgbWFya3Mgd2l0aG91dCBtYXBwaW5nIGRhdGEgdG8gYSBzcGVjaWZpYyB2aXN1YWwgY2hhbm5lbC5cbiAgICovXG4gIGRldGFpbD86IEZpZWxkRGVmPEY+IHwgRmllbGREZWY8Rj5bXTtcblxuICAvKipcbiAgICogQSBkYXRhIGZpZWxkIHRvIHVzZSBhcyBhIHVuaXF1ZSBrZXkgZm9yIGRhdGEgYmluZGluZy4gV2hlbiBhIHZpc3VhbGl6YXRpb27igJlzIGRhdGEgaXMgdXBkYXRlZCwgdGhlIGtleSB2YWx1ZSB3aWxsIGJlIHVzZWQgdG8gbWF0Y2ggZGF0YSBlbGVtZW50cyB0byBleGlzdGluZyBtYXJrIGluc3RhbmNlcy4gVXNlIGEga2V5IGNoYW5uZWwgdG8gZW5hYmxlIG9iamVjdCBjb25zdGFuY3kgZm9yIHRyYW5zaXRpb25zIG92ZXIgZHluYW1pYyBkYXRhLlxuICAgKi9cbiAga2V5PzogRmllbGREZWY8Rj47XG5cbiAgLyoqXG4gICAqIFRleHQgb2YgdGhlIGB0ZXh0YCBtYXJrLlxuICAgKi9cbiAgdGV4dD86IEZpZWxkRGVmV2l0aENvbmRpdGlvbjxUZXh0RmllbGREZWY8Rj4+IHwgVmFsdWVEZWZXaXRoQ29uZGl0aW9uPFRleHRGaWVsZERlZjxGPj47XG5cbiAgLyoqXG4gICAqIFRoZSB0b29sdGlwIHRleHQgdG8gc2hvdyB1cG9uIG1vdXNlIGhvdmVyLlxuICAgKi9cbiAgdG9vbHRpcD86IEZpZWxkRGVmV2l0aENvbmRpdGlvbjxUZXh0RmllbGREZWY8Rj4+IHwgVmFsdWVEZWZXaXRoQ29uZGl0aW9uPFRleHRGaWVsZERlZjxGPj4gfCBUZXh0RmllbGREZWY8Rj5bXTtcblxuICAvKipcbiAgICogQSBVUkwgdG8gbG9hZCB1cG9uIG1vdXNlIGNsaWNrLlxuICAgKi9cbiAgaHJlZj86IEZpZWxkRGVmV2l0aENvbmRpdGlvbjxGaWVsZERlZjxGPj4gfCBWYWx1ZURlZldpdGhDb25kaXRpb248RmllbGREZWY8Rj4+O1xuXG4gIC8qKlxuICAgKiBPcmRlciBvZiB0aGUgbWFya3MuXG4gICAqIC0gRm9yIHN0YWNrZWQgbWFya3MsIHRoaXMgYG9yZGVyYCBjaGFubmVsIGVuY29kZXMgW3N0YWNrIG9yZGVyXShodHRwczovL3ZlZ2EuZ2l0aHViLmlvL3ZlZ2EtbGl0ZS9kb2NzL3N0YWNrLmh0bWwjb3JkZXIpLlxuICAgKiAtIEZvciBsaW5lIGFuZCB0cmFpbCBtYXJrcywgdGhpcyBgb3JkZXJgIGNoYW5uZWwgZW5jb2RlcyBvcmRlciBvZiBkYXRhIHBvaW50cyBpbiB0aGUgbGluZXMuIFRoaXMgY2FuIGJlIHVzZWZ1bCBmb3IgY3JlYXRpbmcgW2EgY29ubmVjdGVkIHNjYXR0ZXJwbG90XShodHRwczovL3ZlZ2EuZ2l0aHViLmlvL3ZlZ2EtbGl0ZS9leGFtcGxlcy9jb25uZWN0ZWRfc2NhdHRlcnBsb3QuaHRtbCkuXG4gICAqIC0gT3RoZXJ3aXNlLCB0aGlzIGBvcmRlcmAgY2hhbm5lbCBlbmNvZGVzIGxheWVyIG9yZGVyIG9mIHRoZSBtYXJrcy5cbiAgICpcbiAgICogX19Ob3RlX186IEluIGFnZ3JlZ2F0ZSBwbG90cywgYG9yZGVyYCBmaWVsZCBzaG91bGQgYmUgYGFnZ3JlZ2F0ZWBkIHRvIGF2b2lkIGNyZWF0aW5nIGFkZGl0aW9uYWwgYWdncmVnYXRpb24gZ3JvdXBpbmcuXG4gICAqL1xuICBvcmRlcj86IE9yZGVyRmllbGREZWY8Rj4gfCBPcmRlckZpZWxkRGVmPEY+W107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW5jb2RpbmdXaXRoRmFjZXQ8Rj4gZXh0ZW5kcyBFbmNvZGluZzxGPiwgRmFjZXRNYXBwaW5nPEY+IHt9XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGFubmVsSGFzRmllbGQoZW5jb2Rpbmc6IEVuY29kaW5nV2l0aEZhY2V0PEZpZWxkPiwgY2hhbm5lbDogQ2hhbm5lbCk6IGJvb2xlYW4ge1xuICBjb25zdCBjaGFubmVsRGVmID0gZW5jb2RpbmcgJiYgZW5jb2RpbmdbY2hhbm5lbF07XG4gIGlmIChjaGFubmVsRGVmKSB7XG4gICAgaWYgKGlzQXJyYXkoY2hhbm5lbERlZikpIHtcbiAgICAgIHJldHVybiBzb21lKGNoYW5uZWxEZWYsIChmaWVsZERlZikgPT4gISFmaWVsZERlZi5maWVsZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBpc0ZpZWxkRGVmKGNoYW5uZWxEZWYpIHx8IGhhc0NvbmRpdGlvbmFsRmllbGREZWYoY2hhbm5lbERlZik7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gaXNBZ2dyZWdhdGUoZW5jb2Rpbmc6IEVuY29kaW5nV2l0aEZhY2V0PEZpZWxkPikge1xuICByZXR1cm4gc29tZShDSEFOTkVMUywgKGNoYW5uZWwpID0+IHtcbiAgICBpZiAoY2hhbm5lbEhhc0ZpZWxkKGVuY29kaW5nLCBjaGFubmVsKSkge1xuICAgICAgY29uc3QgY2hhbm5lbERlZiA9IGVuY29kaW5nW2NoYW5uZWxdO1xuICAgICAgaWYgKGlzQXJyYXkoY2hhbm5lbERlZikpIHtcbiAgICAgICAgcmV0dXJuIHNvbWUoY2hhbm5lbERlZiwgKGZpZWxkRGVmKSA9PiAhIWZpZWxkRGVmLmFnZ3JlZ2F0ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBmaWVsZERlZiA9IGdldEZpZWxkRGVmKGNoYW5uZWxEZWYpO1xuICAgICAgICByZXR1cm4gZmllbGREZWYgJiYgISFmaWVsZERlZi5hZ2dyZWdhdGU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVFbmNvZGluZyhlbmNvZGluZzogRW5jb2Rpbmc8c3RyaW5nPiwgbWFyazogTWFyayk6IEVuY29kaW5nPHN0cmluZz4ge1xuICAgcmV0dXJuIGtleXMoZW5jb2RpbmcpLnJlZHVjZSgobm9ybWFsaXplZEVuY29kaW5nOiBFbmNvZGluZzxzdHJpbmc+LCBjaGFubmVsOiBDaGFubmVsIHwgc3RyaW5nKSA9PiB7XG4gICAgaWYgKCFpc0NoYW5uZWwoY2hhbm5lbCkpIHtcbiAgICAgIC8vIERyb3AgaW52YWxpZCBjaGFubmVsXG4gICAgICBsb2cud2Fybihsb2cubWVzc2FnZS5pbnZhbGlkRW5jb2RpbmdDaGFubmVsKGNoYW5uZWwpKTtcbiAgICAgIHJldHVybiBub3JtYWxpemVkRW5jb2Rpbmc7XG4gICAgfVxuXG4gICAgaWYgKCFzdXBwb3J0TWFyayhjaGFubmVsLCBtYXJrKSkge1xuICAgICAgLy8gRHJvcCB1bnN1cHBvcnRlZCBjaGFubmVsXG5cbiAgICAgIGxvZy53YXJuKGxvZy5tZXNzYWdlLmluY29tcGF0aWJsZUNoYW5uZWwoY2hhbm5lbCwgbWFyaykpO1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZWRFbmNvZGluZztcbiAgICB9XG5cbiAgICAvLyBEcm9wIGxpbmUncyBzaXplIGlmIHRoZSBmaWVsZCBpcyBhZ2dyZWdhdGVkLlxuICAgIGlmIChjaGFubmVsID09PSAnc2l6ZScgJiYgbWFyayA9PT0gJ2xpbmUnKSB7XG4gICAgICBjb25zdCBmaWVsZERlZiA9IGdldEZpZWxkRGVmKGVuY29kaW5nW2NoYW5uZWxdKTtcbiAgICAgIGlmIChmaWVsZERlZiAmJiBmaWVsZERlZi5hZ2dyZWdhdGUpIHtcbiAgICAgICAgbG9nLndhcm4obG9nLm1lc3NhZ2UuTElORV9XSVRIX1ZBUllJTkdfU0laRSk7XG4gICAgICAgIHJldHVybiBub3JtYWxpemVkRW5jb2Rpbmc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRHJvcCBjb2xvciBpZiBlaXRoZXIgZmlsbCBvciBzdHJva2UgaXMgc3BlY2lmaWVkXG4gICAgIGlmIChjaGFubmVsID09PSAnY29sb3InICYmICgnZmlsbCcgaW4gZW5jb2RpbmcgfHwgJ3N0cm9rZScgaW4gZW5jb2RpbmcpICkge1xuICAgICAgIGxvZy53YXJuKGxvZy5tZXNzYWdlLmRyb3BwaW5nQ29sb3IoJ2VuY29kaW5nJywge2ZpbGw6ICdmaWxsJyBpbiBlbmNvZGluZywgc3Ryb2tlOiAnc3Ryb2tlJyBpbiBlbmNvZGluZ30pKTtcbiAgICAgICByZXR1cm4gbm9ybWFsaXplZEVuY29kaW5nO1xuICAgIH1cblxuICAgIGlmIChjaGFubmVsID09PSAnZGV0YWlsJyB8fCBjaGFubmVsID09PSAnb3JkZXInIHx8IChjaGFubmVsID09PSAndG9vbHRpcCcgJiYgaXNBcnJheShlbmNvZGluZ1tjaGFubmVsXSkpKSB7XG4gICAgICBjb25zdCBjaGFubmVsRGVmID0gZW5jb2RpbmdbY2hhbm5lbF07XG4gICAgICBpZiAoY2hhbm5lbERlZikge1xuICAgICAgICAvLyBBcnJheSBvZiBmaWVsZERlZnMgZm9yIGRldGFpbCBjaGFubmVsIChvciBwcm9kdWN0aW9uIHJ1bGUpXG4gICAgICAgIG5vcm1hbGl6ZWRFbmNvZGluZ1tjaGFubmVsXSA9IChpc0FycmF5KGNoYW5uZWxEZWYpID8gY2hhbm5lbERlZiA6IFtjaGFubmVsRGVmXSlcbiAgICAgICAgICAucmVkdWNlKChkZWZzOiBGaWVsZERlZjxzdHJpbmc+W10sIGZpZWxkRGVmOiBGaWVsZERlZjxzdHJpbmc+KSA9PiB7XG4gICAgICAgICAgICBpZiAoIWlzRmllbGREZWYoZmllbGREZWYpKSB7XG4gICAgICAgICAgICAgIGxvZy53YXJuKGxvZy5tZXNzYWdlLmVtcHR5RmllbGREZWYoZmllbGREZWYsIGNoYW5uZWwpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGRlZnMucHVzaChub3JtYWxpemVGaWVsZERlZihmaWVsZERlZiwgY2hhbm5lbCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRlZnM7XG4gICAgICAgICAgfSwgW10pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGSVhNRTogcmVtb3ZlIHRoaXMgY2FzdGluZy4gIChJIGRvbid0IGtub3cgd2h5IFR5cGVzY3JpcHQgZG9lc24ndCBpbmZlciB0aGlzIGNvcnJlY3RseSBoZXJlLilcbiAgICAgIGNvbnN0IGNoYW5uZWxEZWYgPSBlbmNvZGluZ1tjaGFubmVsXSBhcyBDaGFubmVsRGVmPHN0cmluZz47XG5cbiAgICAgIGNvbnN0IGZpZWxkRGVmID0gZ2V0RmllbGREZWYoZW5jb2RpbmdbY2hhbm5lbF0pO1xuICAgICAgaWYgKGZpZWxkRGVmICYmIGNvbnRhaW5zKFtUeXBlLkxBVElUVURFLCBUeXBlLkxPTkdJVFVERV0sIGZpZWxkRGVmLnR5cGUpKSB7XG4gICAgICAgIGNvbnN0IHtbY2hhbm5lbF06IF8sIC4uLm5ld0VuY29kaW5nfSA9IG5vcm1hbGl6ZWRFbmNvZGluZztcbiAgICAgICAgY29uc3QgbmV3Q2hhbm5lbCA9IGNoYW5uZWwgPT09ICd4JyA/ICdsb25naXR1ZGUnIDpcbiAgICAgICAgICBjaGFubmVsID09PSAneScgPyAnbGF0aXR1ZGUnIDpcbiAgICAgICAgICBjaGFubmVsID09PSAneDInID8gJ2xvbmdpdHVkZTInIDpcbiAgICAgICAgICBjaGFubmVsID09PSAneTInID8gJ2xhdGl0dWRlMicgOiB1bmRlZmluZWQ7XG4gICAgICAgIGxvZy53YXJuKGxvZy5tZXNzYWdlLmxhdExvbmdEZXByZWNhdGVkKGNoYW5uZWwsIGZpZWxkRGVmLnR5cGUsIG5ld0NoYW5uZWwpKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5uZXdFbmNvZGluZyxcbiAgICAgICAgICBbbmV3Q2hhbm5lbF06IHtcbiAgICAgICAgICAgIC4uLm5vcm1hbGl6ZShmaWVsZERlZiBhcyBhbnksIGNoYW5uZWwpLFxuICAgICAgICAgICAgdHlwZTogJ3F1YW50aXRhdGl2ZSdcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNGaWVsZERlZihjaGFubmVsRGVmKSAmJiAhaXNWYWx1ZURlZihjaGFubmVsRGVmKSAmJiAhaXNDb25kaXRpb25hbERlZihjaGFubmVsRGVmKSkge1xuICAgICAgICBsb2cud2Fybihsb2cubWVzc2FnZS5lbXB0eUZpZWxkRGVmKGNoYW5uZWxEZWYsIGNoYW5uZWwpKTtcbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWRFbmNvZGluZztcbiAgICAgIH1cbiAgICAgIG5vcm1hbGl6ZWRFbmNvZGluZ1tjaGFubmVsXSA9IG5vcm1hbGl6ZShjaGFubmVsRGVmLCBjaGFubmVsKTtcbiAgICB9XG4gICAgcmV0dXJuIG5vcm1hbGl6ZWRFbmNvZGluZztcbiAgfSwge30pO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBpc1JhbmdlZChlbmNvZGluZzogRW5jb2RpbmdXaXRoRmFjZXQ8YW55Pikge1xuICByZXR1cm4gZW5jb2RpbmcgJiYgKCghIWVuY29kaW5nLnggJiYgISFlbmNvZGluZy54MikgfHwgKCEhZW5jb2RpbmcueSAmJiAhIWVuY29kaW5nLnkyKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWVsZERlZnMoZW5jb2Rpbmc6IEVuY29kaW5nV2l0aEZhY2V0PEZpZWxkPik6IEZpZWxkRGVmPEZpZWxkPltdIHtcbiAgY29uc3QgYXJyOiBGaWVsZERlZjxGaWVsZD5bXSA9IFtdO1xuICBDSEFOTkVMUy5mb3JFYWNoKGZ1bmN0aW9uKGNoYW5uZWwpIHtcbiAgICBpZiAoY2hhbm5lbEhhc0ZpZWxkKGVuY29kaW5nLCBjaGFubmVsKSkge1xuICAgICAgY29uc3QgY2hhbm5lbERlZiA9IGVuY29kaW5nW2NoYW5uZWxdO1xuICAgICAgKGlzQXJyYXkoY2hhbm5lbERlZikgPyBjaGFubmVsRGVmIDogW2NoYW5uZWxEZWZdKS5mb3JFYWNoKChkZWYpID0+IHtcbiAgICAgICAgaWYgKGlzRmllbGREZWYoZGVmKSkge1xuICAgICAgICAgIGFyci5wdXNoKGRlZik7XG4gICAgICAgIH0gZWxzZSBpZiAoaGFzQ29uZGl0aW9uYWxGaWVsZERlZihkZWYpKSB7XG4gICAgICAgICAgYXJyLnB1c2goZGVmLmNvbmRpdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBhcnI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JFYWNoKG1hcHBpbmc6IGFueSxcbiAgICBmOiAoZmQ6IEZpZWxkRGVmPHN0cmluZz4sIGM6IENoYW5uZWwpID0+IHZvaWQsXG4gICAgdGhpc0FyZz86IGFueSkge1xuICBpZiAoIW1hcHBpbmcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBmb3IgKGNvbnN0IGNoYW5uZWwgb2Yga2V5cyhtYXBwaW5nKSkge1xuICAgIGlmIChpc0FycmF5KG1hcHBpbmdbY2hhbm5lbF0pKSB7XG4gICAgICBtYXBwaW5nW2NoYW5uZWxdLmZvckVhY2goZnVuY3Rpb24oY2hhbm5lbERlZjogQ2hhbm5lbERlZjxzdHJpbmc+KSB7XG4gICAgICAgIGYuY2FsbCh0aGlzQXJnLCBjaGFubmVsRGVmLCBjaGFubmVsKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBmLmNhbGwodGhpc0FyZywgbWFwcGluZ1tjaGFubmVsXSwgY2hhbm5lbCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWR1Y2U8VCwgVSBleHRlbmRzIHtbayBpbiBDaGFubmVsXT86IGFueX0+KG1hcHBpbmc6IFUsXG4gICAgZjogKGFjYzogYW55LCBmZDogRmllbGREZWY8c3RyaW5nPiwgYzogQ2hhbm5lbCkgPT4gVSxcbiAgICBpbml0OiBULCB0aGlzQXJnPzogYW55KSB7XG4gIGlmICghbWFwcGluZykge1xuICAgIHJldHVybiBpbml0O1xuICB9XG5cbiAgcmV0dXJuIGtleXMobWFwcGluZykucmVkdWNlKChyLCBjaGFubmVsKSA9PiB7XG4gICAgY29uc3QgbWFwID0gbWFwcGluZ1tjaGFubmVsXTtcbiAgICBpZiAoaXNBcnJheShtYXApKSB7XG4gICAgICByZXR1cm4gbWFwLnJlZHVjZSgocjE6IFQsIGNoYW5uZWxEZWY6IENoYW5uZWxEZWY8c3RyaW5nPikgPT4ge1xuICAgICAgICByZXR1cm4gZi5jYWxsKHRoaXNBcmcsIHIxLCBjaGFubmVsRGVmLCBjaGFubmVsKTtcbiAgICAgIH0sIHIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZi5jYWxsKHRoaXNBcmcsIHIsIG1hcCwgY2hhbm5lbCk7XG4gICAgfVxuICB9LCBpbml0KTtcbn1cbiJdfQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar vega_util_1 = require(\"vega-util\");\nvar aggregate_1 = require(\"./aggregate\");\nvar channel_1 = require(\"./channel\");\nvar encoding_1 = require(\"./encoding\");\nvar fielddef_1 = require(\"./fielddef\");\nvar log = require(\"./log\");\nvar mark_1 = require(\"./mark\");\nvar scale_1 = require(\"./scale\");\nvar util_1 = require(\"./util\");\nvar STACK_OFFSET_INDEX = {\n    zero: 1,\n    center: 1,\n    normalize: 1\n};\nfunction isStackOffset(s) {\n    return !!STACK_OFFSET_INDEX[s];\n}\nexports.isStackOffset = isStackOffset;\nexports.STACKABLE_MARKS = [mark_1.BAR, mark_1.AREA, mark_1.RULE, mark_1.POINT, mark_1.CIRCLE, mark_1.SQUARE, mark_1.LINE, mark_1.TEXT, mark_1.TICK];\nexports.STACK_BY_DEFAULT_MARKS = [mark_1.BAR, mark_1.AREA];\nfunction potentialStackedChannel(encoding) {\n    var xDef = encoding.x;\n    var yDef = encoding.y;\n    if (fielddef_1.isFieldDef(xDef) && fielddef_1.isFieldDef(yDef)) {\n        if (xDef.type === 'quantitative' && yDef.type === 'quantitative') {\n            if (xDef.stack) {\n                return 'x';\n            }\n            else if (yDef.stack) {\n                return 'y';\n            }\n            // if there is no explicit stacking, only apply stack if there is only one aggregate for x or y\n            if ((!!xDef.aggregate) !== (!!yDef.aggregate)) {\n                return xDef.aggregate ? 'x' : 'y';\n            }\n        }\n        else if (xDef.type === 'quantitative') {\n            return 'x';\n        }\n        else if (yDef.type === 'quantitative') {\n            return 'y';\n        }\n    }\n    else if (fielddef_1.isFieldDef(xDef) && xDef.type === 'quantitative') {\n        return 'x';\n    }\n    else if (fielddef_1.isFieldDef(yDef) && yDef.type === 'quantitative') {\n        return 'y';\n    }\n    return undefined;\n}\n// Note: CompassQL uses this method and only pass in required properties of each argument object.\n// If required properties change, make sure to update CompassQL.\nfunction stack(m, encoding, stackConfig) {\n    var mark = mark_1.isMarkDef(m) ? m.type : m;\n    // Should have stackable mark\n    if (!util_1.contains(exports.STACKABLE_MARKS, mark)) {\n        return null;\n    }\n    var fieldChannel = potentialStackedChannel(encoding);\n    if (!fieldChannel) {\n        return null;\n    }\n    var stackedFieldDef = encoding[fieldChannel];\n    var stackedField = fielddef_1.isStringFieldDef(stackedFieldDef) ? fielddef_1.vgField(stackedFieldDef, {}) : undefined;\n    var dimensionChannel = fieldChannel === 'x' ? 'y' : 'x';\n    var dimensionDef = encoding[dimensionChannel];\n    var dimensionField = fielddef_1.isStringFieldDef(dimensionDef) ? fielddef_1.vgField(dimensionDef, {}) : undefined;\n    // Should have grouping level of detail that is different from the dimension field\n    var stackBy = channel_1.NONPOSITION_CHANNELS.reduce(function (sc, channel) {\n        if (encoding_1.channelHasField(encoding, channel)) {\n            var channelDef = encoding[channel];\n            (vega_util_1.isArray(channelDef) ? channelDef : [channelDef]).forEach(function (cDef) {\n                var fieldDef = fielddef_1.getFieldDef(cDef);\n                if (fieldDef.aggregate) {\n                    return;\n                }\n                // Check whether the channel's field is identical to x/y's field or if the channel is a repeat\n                var f = fielddef_1.isStringFieldDef(fieldDef) ? fielddef_1.vgField(fieldDef, {}) : undefined;\n                if (\n                // if fielddef is a repeat, just include it in the stack by\n                !f ||\n                    // otherwise, the field must be different from x and y fields.\n                    (f !== dimensionField && f !== stackedField)) {\n                    sc.push({ channel: channel, fieldDef: fieldDef });\n                }\n            });\n        }\n        return sc;\n    }, []);\n    if (stackBy.length === 0) {\n        return null;\n    }\n    // Automatically determine offset\n    var offset = undefined;\n    if (stackedFieldDef.stack !== undefined) {\n        offset = stackedFieldDef.stack;\n    }\n    else if (util_1.contains(exports.STACK_BY_DEFAULT_MARKS, mark)) {\n        // Bar and Area with sum ops are automatically stacked by default\n        offset = stackConfig === undefined ? 'zero' : stackConfig;\n    }\n    else {\n        offset = stackConfig;\n    }\n    if (!offset || !isStackOffset(offset)) {\n        return null;\n    }\n    // If stacked, check scale type if it is linear\n    if (stackedFieldDef.scale && stackedFieldDef.scale.type && stackedFieldDef.scale.type !== scale_1.ScaleType.LINEAR) {\n        log.warn(log.message.cannotStackNonLinearScale(stackedFieldDef.scale.type));\n        return null;\n    }\n    // Check if it is a ranged mark\n    if (encoding_1.channelHasField(encoding, fieldChannel === channel_1.X ? channel_1.X2 : channel_1.Y2)) {\n        log.warn(log.message.cannotStackRangedMark(fieldChannel));\n        return null;\n    }\n    // Warn if stacking summative aggregate\n    if (stackedFieldDef.aggregate && !util_1.contains(aggregate_1.SUM_OPS, stackedFieldDef.aggregate)) {\n        log.warn(log.message.stackNonSummativeAggregate(stackedFieldDef.aggregate));\n    }\n    return {\n        groupbyChannel: dimensionDef ? dimensionChannel : undefined,\n        fieldChannel: fieldChannel,\n        impute: mark_1.isPathMark(mark),\n        stackBy: stackBy,\n        offset: offset\n    };\n}\nexports.stack = stack;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhY2suanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc3RhY2sudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSx1Q0FBa0M7QUFDbEMseUNBQW9DO0FBQ3BDLHFDQUE4RTtBQUM5RSx1Q0FBcUQ7QUFDckQsdUNBQWlIO0FBQ2pILDJCQUE2QjtBQUM3QiwrQkFBc0g7QUFDdEgsaUNBQWtDO0FBQ2xDLCtCQUFzQztBQUt0QyxJQUFNLGtCQUFrQixHQUFzQjtJQUM1QyxJQUFJLEVBQUUsQ0FBQztJQUNQLE1BQU0sRUFBRSxDQUFDO0lBQ1QsU0FBUyxFQUFFLENBQUM7Q0FDYixDQUFDO0FBRUYsdUJBQThCLENBQVM7SUFDckMsT0FBTyxDQUFDLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDakMsQ0FBQztBQUZELHNDQUVDO0FBMEJZLFFBQUEsZUFBZSxHQUFHLENBQUMsVUFBRyxFQUFFLFdBQUksRUFBRSxXQUFJLEVBQUUsWUFBSyxFQUFFLGFBQU0sRUFBRSxhQUFNLEVBQUUsV0FBSSxFQUFFLFdBQUksRUFBRSxXQUFJLENBQUMsQ0FBQztBQUM3RSxRQUFBLHNCQUFzQixHQUFHLENBQUMsVUFBRyxFQUFFLFdBQUksQ0FBQyxDQUFDO0FBR2xELGlDQUFpQyxRQUF5QjtJQUN4RCxJQUFNLElBQUksR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDO0lBQ3hCLElBQU0sSUFBSSxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUM7SUFFeEIsSUFBSSxxQkFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLHFCQUFVLENBQUMsSUFBSSxDQUFDLEVBQUU7UUFDeEMsSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLGNBQWMsSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLGNBQWMsRUFBRTtZQUNoRSxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUU7Z0JBQ2QsT0FBTyxHQUFHLENBQUM7YUFDWjtpQkFBTSxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUU7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QyxPQUFPLENBQUMseUJBQXlCLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQzVFLE9BQU8sSUFBSSxDQUFDO0tBQ2I7SUFFRCwrQkFBK0I7SUFDL0IsSUFBSSwwQkFBZSxDQUFDLFFBQVEsRUFBRSxZQUFZLEtBQUssV0FBQyxDQUFDLENBQUMsQ0FBQyxZQUFFLENBQUMsQ0FBQyxDQUFDLFlBQUUsQ0FBQyxFQUFFO1FBQzNELEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDO1FBQzFELE9BQU8sSUFBSSxDQUFDO0tBQ2I7SUFFRCx1Q0FBdUM7SUFDdkMsSUFBSSxlQUFlLENBQUMsU0FBUyxJQUFJLENBQUMsZUFBUSxDQUFDLG1CQUFPLEVBQUUsZUFBZSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1FBQzlFLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQywwQkFBMEIsQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztLQUM3RTtJQUVELE9BQU87UUFDTCxjQUFjLEVBQUUsWUFBWSxDQUFDLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsU0FBUztRQUMzRCxZQUFZLGNBQUE7UUFDWixNQUFNLEVBQUUsaUJBQVUsQ0FBQyxJQUFJLENBQUM7UUFDeEIsT0FBTyxTQUFBO1FBQ1AsTUFBTSxRQUFBO0tBQ1AsQ0FBQztBQUNKLENBQUM7QUF2RkQsc0JBdUZDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtpc0FycmF5fSBmcm9tICd2ZWdhLXV0aWwnO1xuaW1wb3J0IHtTVU1fT1BTfSBmcm9tICcuL2FnZ3JlZ2F0ZSc7XG5pbXBvcnQge05PTlBPU0lUSU9OX0NIQU5ORUxTLCBOb25Qb3NpdGlvbkNoYW5uZWwsIFgsIFgyLCBZMn0gZnJvbSAnLi9jaGFubmVsJztcbmltcG9ydCB7Y2hhbm5lbEhhc0ZpZWxkLCBFbmNvZGluZ30gZnJvbSAnLi9lbmNvZGluZyc7XG5pbXBvcnQge0ZpZWxkLCBGaWVsZERlZiwgZ2V0RmllbGREZWYsIGlzRmllbGREZWYsIGlzU3RyaW5nRmllbGREZWYsIFBvc2l0aW9uRmllbGREZWYsIHZnRmllbGR9IGZyb20gJy4vZmllbGRkZWYnO1xuaW1wb3J0ICogYXMgbG9nIGZyb20gJy4vbG9nJztcbmltcG9ydCB7QVJFQSwgQkFSLCBDSVJDTEUsIGlzTWFya0RlZiwgaXNQYXRoTWFyaywgTElORSwgTWFyaywgTWFya0RlZiwgUE9JTlQsIFJVTEUsIFNRVUFSRSwgVEVYVCwgVElDS30gZnJvbSAnLi9tYXJrJztcbmltcG9ydCB7U2NhbGVUeXBlfSBmcm9tICcuL3NjYWxlJztcbmltcG9ydCB7Y29udGFpbnMsIEZsYWd9IGZyb20gJy4vdXRpbCc7XG5cblxuZXhwb3J0IHR5cGUgU3RhY2tPZmZzZXQgPSAnemVybycgfCAnY2VudGVyJyB8ICdub3JtYWxpemUnO1xuXG5jb25zdCBTVEFDS19PRkZTRVRfSU5ERVg6IEZsYWc8U3RhY2tPZmZzZXQ+ID0ge1xuICB6ZXJvOiAxLFxuICBjZW50ZXI6IDEsXG4gIG5vcm1hbGl6ZTogMVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3RhY2tPZmZzZXQoczogc3RyaW5nKTogcyBpcyBTdGFja09mZnNldCB7XG4gIHJldHVybiAhIVNUQUNLX09GRlNFVF9JTkRFWFtzXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdGFja1Byb3BlcnRpZXMge1xuICAvKiogRGltZW5zaW9uIGF4aXMgb2YgdGhlIHN0YWNrLiAqL1xuICBncm91cGJ5Q2hhbm5lbDogJ3gnIHwgJ3knO1xuXG4gIC8qKiBNZWFzdXJlIGF4aXMgb2YgdGhlIHN0YWNrLiAqL1xuICBmaWVsZENoYW5uZWw6ICd4JyB8ICd5JztcblxuICAvKiogU3RhY2stYnkgZmllbGRzIGUuZy4sIGNvbG9yLCBkZXRhaWwgKi9cbiAgc3RhY2tCeToge1xuICAgIGZpZWxkRGVmOiBGaWVsZERlZjxzdHJpbmc+LFxuICAgIGNoYW5uZWw6IE5vblBvc2l0aW9uQ2hhbm5lbFxuICB9W107XG5cbiAgLyoqXG4gICAqIFNlZSBgXCJzdGFja1wiYCBwcm9wZXJ0eSBvZiBQb3NpdGlvbiBGaWVsZCBEZWYuXG4gICAqL1xuICBvZmZzZXQ6IFN0YWNrT2Zmc2V0O1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoaXMgc3RhY2sgd2lsbCBwcm9kdWNlIGltcHV0ZSB0cmFuc2Zvcm1cbiAgICovXG4gIGltcHV0ZTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IFNUQUNLQUJMRV9NQVJLUyA9IFtCQVIsIEFSRUEsIFJVTEUsIFBPSU5ULCBDSVJDTEUsIFNRVUFSRSwgTElORSwgVEVYVCwgVElDS107XG5leHBvcnQgY29uc3QgU1RBQ0tfQllfREVGQVVMVF9NQVJLUyA9IFtCQVIsIEFSRUFdO1xuXG5cbmZ1bmN0aW9uIHBvdGVudGlhbFN0YWNrZWRDaGFubmVsKGVuY29kaW5nOiBFbmNvZGluZzxGaWVsZD4pOiAneCcgfCAneScgfCB1bmRlZmluZWQge1xuICBjb25zdCB4RGVmID0gZW5jb2RpbmcueDtcbiAgY29uc3QgeURlZiA9IGVuY29kaW5nLnk7XG5cbiAgaWYgKGlzRmllbGREZWYoeERlZikgJiYgaXNGaWVsZERlZih5RGVmKSkge1xuICAgIGlmICh4RGVmLnR5cGUgPT09ICdxdWFudGl0YXRpdmUnICYmIHlEZWYudHlwZSA9PT0gJ3F1YW50aXRhdGl2ZScpIHtcbiAgICAgIGlmICh4RGVmLnN0YWNrKSB7XG4gICAgICAgIHJldHVybiAneCc7XG4gICAgICB9IGVsc2UgaWYgKHlEZWYuc3RhY2spIHtcbiAgICAgICAgcmV0dXJuICd5JztcbiAgICAgIH1cbiAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIGV4cGxpY2l0IHN0YWNraW5nLCBvbmx5IGFwcGx5IHN0YWNrIGlmIHRoZXJlIGlzIG9ubHkgb25lIGFnZ3JlZ2F0ZSBmb3IgeCBvciB5XG4gICAgICBpZiAoKCEheERlZi5hZ2dyZWdhdGUpICE9PSAoISF5RGVmLmFnZ3JlZ2F0ZSkpIHtcbiAgICAgICAgcmV0dXJuIHhEZWYuYWdncmVnYXRlID8gJ3gnIDogJ3knO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoeERlZi50eXBlID09PSAncXVhbnRpdGF0aXZlJykge1xuICAgICAgcmV0dXJuICd4JztcbiAgICB9IGVsc2UgaWYgKHlEZWYudHlwZSA9PT0gJ3F1YW50aXRhdGl2ZScpIHtcbiAgICAgIHJldHVybiAneSc7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzRmllbGREZWYoeERlZikgJiYgeERlZi50eXBlID09PSAncXVhbnRpdGF0aXZlJykge1xuICAgIHJldHVybiAneCc7XG4gIH0gZWxzZSBpZiAoaXNGaWVsZERlZih5RGVmKSAmJiB5RGVmLnR5cGUgPT09ICdxdWFudGl0YXRpdmUnKSB7XG4gICAgcmV0dXJuICd5JztcbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG4vLyBOb3RlOiBDb21wYXNzUUwgdXNlcyB0aGlzIG1ldGhvZCBhbmQgb25seSBwYXNzIGluIHJlcXVpcmVkIHByb3BlcnRpZXMgb2YgZWFjaCBhcmd1bWVudCBvYmplY3QuXG4vLyBJZiByZXF1aXJlZCBwcm9wZXJ0aWVzIGNoYW5nZSwgbWFrZSBzdXJlIHRvIHVwZGF0ZSBDb21wYXNzUUwuXG5leHBvcnQgZnVuY3Rpb24gc3RhY2sobTogTWFyayB8IE1hcmtEZWYsIGVuY29kaW5nOiBFbmNvZGluZzxGaWVsZD4sIHN0YWNrQ29uZmlnOiBTdGFja09mZnNldCk6IFN0YWNrUHJvcGVydGllcyB7XG4gIGNvbnN0IG1hcmsgPSBpc01hcmtEZWYobSkgPyBtLnR5cGUgOiBtO1xuICAvLyBTaG91bGQgaGF2ZSBzdGFja2FibGUgbWFya1xuICBpZiAoIWNvbnRhaW5zKFNUQUNLQUJMRV9NQVJLUywgbWFyaykpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IGZpZWxkQ2hhbm5lbCA9IHBvdGVudGlhbFN0YWNrZWRDaGFubmVsKGVuY29kaW5nKTtcbiAgaWYgKCFmaWVsZENoYW5uZWwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IHN0YWNrZWRGaWVsZERlZiA9IGVuY29kaW5nW2ZpZWxkQ2hhbm5lbF0gYXMgUG9zaXRpb25GaWVsZERlZjxzdHJpbmc+O1xuICBjb25zdCBzdGFja2VkRmllbGQgPSBpc1N0cmluZ0ZpZWxkRGVmKHN0YWNrZWRGaWVsZERlZikgPyB2Z0ZpZWxkKHN0YWNrZWRGaWVsZERlZiwge30pIDogdW5kZWZpbmVkO1xuXG4gIGNvbnN0IGRpbWVuc2lvbkNoYW5uZWwgPSBmaWVsZENoYW5uZWwgPT09ICd4JyA/ICd5JyA6ICd4JztcbiAgY29uc3QgZGltZW5zaW9uRGVmID0gZW5jb2RpbmdbZGltZW5zaW9uQ2hhbm5lbF07XG4gIGNvbnN0IGRpbWVuc2lvbkZpZWxkID0gaXNTdHJpbmdGaWVsZERlZihkaW1lbnNpb25EZWYpID8gdmdGaWVsZChkaW1lbnNpb25EZWYsIHt9KSA6IHVuZGVmaW5lZDtcblxuICAvLyBTaG91bGQgaGF2ZSBncm91cGluZyBsZXZlbCBvZiBkZXRhaWwgdGhhdCBpcyBkaWZmZXJlbnQgZnJvbSB0aGUgZGltZW5zaW9uIGZpZWxkXG4gIGNvbnN0IHN0YWNrQnkgPSBOT05QT1NJVElPTl9DSEFOTkVMUy5yZWR1Y2UoKHNjLCBjaGFubmVsKSA9PiB7XG4gICAgaWYgKGNoYW5uZWxIYXNGaWVsZChlbmNvZGluZywgY2hhbm5lbCkpIHtcbiAgICAgIGNvbnN0IGNoYW5uZWxEZWYgPSBlbmNvZGluZ1tjaGFubmVsXTtcbiAgICAgIChpc0FycmF5KGNoYW5uZWxEZWYpID8gY2hhbm5lbERlZiA6IFtjaGFubmVsRGVmXSkuZm9yRWFjaCgoY0RlZikgPT4ge1xuICAgICAgICBjb25zdCBmaWVsZERlZiA9IGdldEZpZWxkRGVmKGNEZWYpO1xuICAgICAgICBpZiAoZmllbGREZWYuYWdncmVnYXRlKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgd2hldGhlciB0aGUgY2hhbm5lbCdzIGZpZWxkIGlzIGlkZW50aWNhbCB0byB4L3kncyBmaWVsZCBvciBpZiB0aGUgY2hhbm5lbCBpcyBhIHJlcGVhdFxuICAgICAgICBjb25zdCBmID0gaXNTdHJpbmdGaWVsZERlZihmaWVsZERlZikgPyB2Z0ZpZWxkKGZpZWxkRGVmLCB7fSkgOiB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAvLyBpZiBmaWVsZGRlZiBpcyBhIHJlcGVhdCwganVzdCBpbmNsdWRlIGl0IGluIHRoZSBzdGFjayBieVxuICAgICAgICAgICFmIHx8XG4gICAgICAgICAgLy8gb3RoZXJ3aXNlLCB0aGUgZmllbGQgbXVzdCBiZSBkaWZmZXJlbnQgZnJvbSB4IGFuZCB5IGZpZWxkcy5cbiAgICAgICAgICAoZiAhPT0gZGltZW5zaW9uRmllbGQgJiYgZiAhPT0gc3RhY2tlZEZpZWxkKVxuICAgICAgICApIHtcbiAgICAgICAgICBzYy5wdXNoKHtjaGFubmVsLCBmaWVsZERlZn0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHNjO1xuICB9LCBbXSk7XG5cbiAgaWYgKHN0YWNrQnkubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBBdXRvbWF0aWNhbGx5IGRldGVybWluZSBvZmZzZXRcbiAgbGV0IG9mZnNldDogU3RhY2tPZmZzZXQgPSB1bmRlZmluZWQ7XG4gIGlmIChzdGFja2VkRmllbGREZWYuc3RhY2sgIT09IHVuZGVmaW5lZCkge1xuICAgIG9mZnNldCA9IHN0YWNrZWRGaWVsZERlZi5zdGFjaztcbiAgfSBlbHNlIGlmIChjb250YWlucyhTVEFDS19CWV9ERUZBVUxUX01BUktTLCBtYXJrKSkge1xuICAgIC8vIEJhciBhbmQgQXJlYSB3aXRoIHN1bSBvcHMgYXJlIGF1dG9tYXRpY2FsbHkgc3RhY2tlZCBieSBkZWZhdWx0XG4gICAgb2Zmc2V0ID0gc3RhY2tDb25maWcgPT09IHVuZGVmaW5lZCA/ICd6ZXJvJyA6IHN0YWNrQ29uZmlnO1xuICB9IGVsc2Uge1xuICAgIG9mZnNldCA9IHN0YWNrQ29uZmlnO1xuICB9XG5cbiAgaWYgKCFvZmZzZXQgfHwgIWlzU3RhY2tPZmZzZXQob2Zmc2V0KSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gSWYgc3RhY2tlZCwgY2hlY2sgc2NhbGUgdHlwZSBpZiBpdCBpcyBsaW5lYXJcbiAgaWYgKHN0YWNrZWRGaWVsZERlZi5zY2FsZSAmJiBzdGFja2VkRmllbGREZWYuc2NhbGUudHlwZSAmJiBzdGFja2VkRmllbGREZWYuc2NhbGUudHlwZSAhPT0gU2NhbGVUeXBlLkxJTkVBUikge1xuICAgIGxvZy53YXJuKGxvZy5tZXNzYWdlLmNhbm5vdFN0YWNrTm9uTGluZWFyU2NhbGUoc3RhY2tlZEZpZWxkRGVmLnNjYWxlLnR5cGUpKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8vIENoZWNrIGlmIGl0IGlzIGEgcmFuZ2VkIG1hcmtcbiAgaWYgKGNoYW5uZWxIYXNGaWVsZChlbmNvZGluZywgZmllbGRDaGFubmVsID09PSBYID8gWDIgOiBZMikpIHtcbiAgICBsb2cud2Fybihsb2cubWVzc2FnZS5jYW5ub3RTdGFja1JhbmdlZE1hcmsoZmllbGRDaGFubmVsKSk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBXYXJuIGlmIHN0YWNraW5nIHN1bW1hdGl2ZSBhZ2dyZWdhdGVcbiAgaWYgKHN0YWNrZWRGaWVsZERlZi5hZ2dyZWdhdGUgJiYgIWNvbnRhaW5zKFNVTV9PUFMsIHN0YWNrZWRGaWVsZERlZi5hZ2dyZWdhdGUpKSB7XG4gICAgbG9nLndhcm4obG9nLm1lc3NhZ2Uuc3RhY2tOb25TdW1tYXRpdmVBZ2dyZWdhdGUoc3RhY2tlZEZpZWxkRGVmLmFnZ3JlZ2F0ZSkpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBncm91cGJ5Q2hhbm5lbDogZGltZW5zaW9uRGVmID8gZGltZW5zaW9uQ2hhbm5lbCA6IHVuZGVmaW5lZCxcbiAgICBmaWVsZENoYW5uZWwsXG4gICAgaW1wdXRlOiBpc1BhdGhNYXJrKG1hcmspLFxuICAgIHN0YWNrQnksXG4gICAgb2Zmc2V0XG4gIH07XG59XG4iXX0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar stack_1 = require(\"vega-lite/build/src/stack\");\nvar wildcard_1 = require(\"../wildcard\");\nvar property_1 = require(\"../property\");\nvar util_1 = require(\"../util\");\nvar encoding_1 = require(\"./encoding\");\nvar util_2 = require(\"datalib/src/util\");\n/**\n * Convert a Vega-Lite's ExtendedUnitSpec into a CompassQL's SpecQuery\n * @param {ExtendedUnitSpec} spec\n * @returns\n */\nfunction fromSpec(spec) {\n    return util_1.extend(spec.data ? { data: spec.data } : {}, spec.transform ? { transform: spec.transform } : {}, spec.width ? { width: spec.width } : {}, spec.height ? { height: spec.height } : {}, spec.background ? { background: spec.background } : {}, spec.padding ? { padding: spec.padding } : {}, spec.title ? { title: spec.title } : {}, {\n        mark: spec.mark,\n        encodings: util_1.keys(spec.encoding).map(function (channel) {\n            var encQ = { channel: channel };\n            var channelDef = spec.encoding[channel];\n            for (var prop in channelDef) {\n                if (property_1.isEncodingTopLevelProperty(prop) && channelDef[prop] !== undefined) {\n                    // Currently bin, scale, axis, legend only support boolean, but not null.\n                    // Therefore convert null to false.\n                    if (util_1.contains(['bin', 'scale', 'axis', 'legend'], prop) && channelDef[prop] === null) {\n                        encQ[prop] = false;\n                    }\n                    else {\n                        encQ[prop] = channelDef[prop];\n                    }\n                }\n            }\n            if (encoding_1.isFieldQuery(encQ) && encQ.aggregate === 'count' && !encQ.field) {\n                encQ.field = '*';\n            }\n            return encQ;\n        })\n    }, spec.config ? { config: spec.config } : {});\n}\nexports.fromSpec = fromSpec;\nfunction isAggregate(specQ) {\n    return util_1.some(specQ.encodings, function (encQ) {\n        return (encoding_1.isFieldQuery(encQ) && !wildcard_1.isWildcard(encQ.aggregate) && !!encQ.aggregate) || encoding_1.isEnabledAutoCountQuery(encQ);\n    });\n}\nexports.isAggregate = isAggregate;\n/**\n * @return The Vega-Lite `StackProperties` object that describes the stack\n * configuration of `specQ`. Returns `null` if this is not stackable.\n */\nfunction getVlStack(specQ) {\n    if (!hasRequiredStackProperties(specQ)) {\n        return null;\n    }\n    var encoding = encoding_1.toEncoding(specQ.encodings, { schema: null, wildcardMode: 'null' });\n    var mark = specQ.mark;\n    return stack_1.stack(mark, encoding, getStackOffset(specQ));\n}\nexports.getVlStack = getVlStack;\n/**\n * @return The `StackOffset` specified in `specQ`, `undefined` if none\n * is specified.\n */\nfunction getStackOffset(specQ) {\n    for (var _i = 0, _a = specQ.encodings; _i < _a.length; _i++) {\n        var encQ = _a[_i];\n        if (encQ[property_1.Property.STACK] !== undefined && !wildcard_1.isWildcard(encQ[property_1.Property.STACK])) {\n            return encQ[property_1.Property.STACK];\n        }\n    }\n    return undefined;\n}\nexports.getStackOffset = getStackOffset;\n/**\n * @return The `Channel` in which `stack` is specified in `specQ`, or\n * `null` if none is specified.\n */\nfunction getStackChannel(specQ) {\n    for (var _i = 0, _a = specQ.encodings; _i < _a.length; _i++) {\n        var encQ = _a[_i];\n        if (encQ[property_1.Property.STACK] !== undefined && !wildcard_1.isWildcard(encQ.channel)) {\n            return encQ.channel;\n        }\n    }\n    return null;\n}\nexports.getStackChannel = getStackChannel;\n/**\n * Returns true iff the given SpecQuery has the properties defined\n * to be a potential Stack spec.\n * @param specQ The SpecQuery in question.\n */\nfunction hasRequiredStackProperties(specQ) {\n    // TODO(haldenl): make this leaner, a lot of encQ properties aren't required for stack.\n    // TODO(haldenl): check mark, then encodings\n    if (wildcard_1.isWildcard(specQ.mark)) {\n        return false;\n    }\n    var requiredEncodingProps = [property_1.Property.STACK, property_1.Property.CHANNEL,\n        property_1.Property.MARK, property_1.Property.FIELD, property_1.Property.AGGREGATE, property_1.Property.AUTOCOUNT, property_1.Property.SCALE,\n        property_1.getEncodingNestedProp('scale', 'type'), property_1.Property.TYPE];\n    var exclude = util_2.toMap(util_1.without(property_1.ALL_ENCODING_PROPS, requiredEncodingProps));\n    var encodings = specQ.encodings.filter(function (encQ) { return !encoding_1.isDisabledAutoCountQuery(encQ); });\n    for (var _i = 0, encodings_1 = encodings; _i < encodings_1.length; _i++) {\n        var encQ = encodings_1[_i];\n        if (objectContainsWildcard(encQ, { exclude: exclude })) {\n            return false;\n        }\n    }\n    return true;\n}\nexports.hasRequiredStackProperties = hasRequiredStackProperties;\n/**\n * Returns true iff the given object does not contain a nested wildcard.\n * @param obj The object in question.\n * @param opt With optional `exclude` property, which defines properties to\n * ignore when testing for wildcards.\n */\n// TODO(haldenl): rename to objectHasWildcard, rename prop to obj\nfunction objectContainsWildcard(obj, opt) {\n    if (opt === void 0) { opt = {}; }\n    if (!util_1.isObject(obj)) {\n        return false;\n    }\n    for (var childProp in obj) {\n        if (obj.hasOwnProperty(childProp)) {\n            var wildcard = wildcard_1.isWildcard(obj[childProp]);\n            if ((wildcard && (!opt.exclude || !opt.exclude[childProp])) ||\n                objectContainsWildcard(obj[childProp], opt)) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n/**\n * Returns true iff the given `specQ` contains a wildcard.\n * @param specQ The `SpecQuery` in question.\n * @param opt With optional `exclude` property, which defines properties to\n * ignore when testing for wildcards.\n */\nfunction hasWildcard(specQ, opt) {\n    if (opt === void 0) { opt = {}; }\n    var exclude = opt.exclude ? util_2.toMap(opt.exclude.map(property_1.toKey)) : {};\n    if (wildcard_1.isWildcard(specQ.mark) && !exclude['mark']) {\n        return true;\n    }\n    for (var _i = 0, _a = specQ.encodings; _i < _a.length; _i++) {\n        var encQ = _a[_i];\n        if (objectContainsWildcard(encQ, exclude)) {\n            return true;\n        }\n    }\n    return false;\n}\nexports.hasWildcard = hasWildcard;\n//# sourceMappingURL=spec.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"./util\");\nvar property_1 = require(\"./property\");\n/**\n * Dictionary that takes property as a key.\n */\nvar PropIndex = /** @class */ (function () {\n    function PropIndex(i) {\n        if (i === void 0) { i = null; }\n        this.index = i ? __assign({}, i) : {};\n    }\n    PropIndex.prototype.has = function (p) {\n        return property_1.toKey(p) in this.index;\n    };\n    PropIndex.prototype.get = function (p) {\n        return this.index[property_1.toKey(p)];\n    };\n    PropIndex.prototype.set = function (p, value) {\n        this.index[property_1.toKey(p)] = value;\n        return this;\n    };\n    PropIndex.prototype.setByKey = function (key, value) {\n        this.index[key] = value;\n    };\n    PropIndex.prototype.map = function (f) {\n        var i = new PropIndex();\n        for (var k in this.index) {\n            i.index[k] = f(this.index[k]);\n        }\n        return i;\n    };\n    PropIndex.prototype.size = function () {\n        return util_1.keys(this.index).length;\n    };\n    PropIndex.prototype.duplicate = function () {\n        return new PropIndex(this.index);\n    };\n    return PropIndex;\n}());\nexports.PropIndex = PropIndex;\n//# sourceMappingURL=propindex.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar aggregate_1 = require(\"vega-lite/build/src/aggregate\");\nvar channel_1 = require(\"vega-lite/build/src/channel\");\nvar timeunit_1 = require(\"vega-lite/build/src/timeunit\");\nvar type_1 = require(\"vega-lite/build/src/type\");\nvar util_1 = require(\"datalib/src/util\");\nvar encoding_1 = require(\"./encoding\");\nvar spec_1 = require(\"./spec\");\nvar wildcard_1 = require(\"../wildcard\");\nvar property_1 = require(\"../property\");\nvar propindex_1 = require(\"../propindex\");\nvar util_2 = require(\"../util\");\nfunction getReplacerIndex(replaceIndex) {\n    return replaceIndex.map(function (r) { return getReplacer(r); });\n}\nexports.getReplacerIndex = getReplacerIndex;\nfunction getReplacer(replace) {\n    return function (s) {\n        if (replace[s] !== undefined) {\n            return replace[s];\n        }\n        return s;\n    };\n}\nexports.getReplacer = getReplacer;\nfunction value(v, replacer) {\n    if (wildcard_1.isWildcard(v)) {\n        // Return the enum array if it's a full wildcard, or just return SHORT_WILDCARD for short ones.\n        if (!wildcard_1.isShortWildcard(v) && v.enum) {\n            return wildcard_1.SHORT_WILDCARD + JSON.stringify(v.enum);\n        }\n        else {\n            return wildcard_1.SHORT_WILDCARD;\n        }\n    }\n    if (replacer) {\n        return replacer(v);\n    }\n    return v;\n}\nexports.value = value;\nfunction replace(v, replacer) {\n    if (replacer) {\n        return replacer(v);\n    }\n    return v;\n}\nexports.replace = replace;\nexports.REPLACE_NONE = new propindex_1.PropIndex();\nexports.INCLUDE_ALL = \n// FIXME: remove manual TRANSFORM concat once we really support enumerating transform.\n[].concat(property_1.DEFAULT_PROP_PRECEDENCE, property_1.SORT_PROPS, [property_1.Property.TRANSFORM, property_1.Property.STACK], property_1.VIEW_PROPS)\n    .reduce(function (pi, prop) { return pi.set(prop, true); }, new propindex_1.PropIndex());\nfunction vlSpec(vlspec, include, replace) {\n    if (include === void 0) { include = exports.INCLUDE_ALL; }\n    if (replace === void 0) { replace = exports.REPLACE_NONE; }\n    var specQ = spec_1.fromSpec(vlspec);\n    return spec(specQ, include, replace);\n}\nexports.vlSpec = vlSpec;\nexports.PROPERTY_SUPPORTED_CHANNELS = {\n    axis: { x: true, y: true, row: true, column: true },\n    legend: { color: true, opacity: true, size: true, shape: true },\n    scale: { x: true, y: true, color: true, opacity: true, row: true, column: true, size: true, shape: true },\n    sort: { x: true, y: true, path: true, order: true },\n    stack: { x: true, y: true },\n};\n/**\n * Returns a shorthand for a spec query\n * @param specQ a spec query\n * @param include Dict Set listing property types (key) to be included in the shorthand\n * @param replace Dictionary of replace function for values of a particular property type (key)\n */\nfunction spec(specQ, include, replace) {\n    if (include === void 0) { include = exports.INCLUDE_ALL; }\n    if (replace === void 0) { replace = exports.REPLACE_NONE; }\n    var parts = [];\n    if (include.get(property_1.Property.MARK)) {\n        parts.push(value(specQ.mark, replace.get(property_1.Property.MARK)));\n    }\n    if (specQ.transform && specQ.transform.length > 0) {\n        parts.push('transform:' + JSON.stringify(specQ.transform));\n    }\n    var stack;\n    if (include.get(property_1.Property.STACK)) {\n        stack = spec_1.getVlStack(specQ);\n    }\n    if (specQ.encodings) {\n        var encodings = specQ.encodings.reduce(function (encQs, encQ) {\n            // Exclude encoding mapping with autoCount=false as they are basically disabled.\n            if (!encoding_1.isDisabledAutoCountQuery(encQ)) {\n                var str = void 0;\n                if (!!stack && encQ.channel === stack.fieldChannel) {\n                    str = encoding(__assign({}, encQ, { stack: stack.offset }), include, replace);\n                }\n                else {\n                    str = encoding(encQ, include, replace);\n                }\n                if (str) {\n                    encQs.push(str);\n                }\n            }\n            return encQs;\n        }, [])\n            .sort() // sort at the end to ignore order\n            .join('|');\n        if (encodings) {\n            parts.push(encodings);\n        }\n    }\n    for (var _i = 0, VIEW_PROPS_1 = property_1.VIEW_PROPS; _i < VIEW_PROPS_1.length; _i++) {\n        var viewProp = VIEW_PROPS_1[_i];\n        var propString = viewProp.toString();\n        if (include.get(viewProp) && !!specQ[propString]) {\n            var value_1 = specQ[propString];\n            parts.push(propString + \"=\" + JSON.stringify(value_1));\n        }\n    }\n    return parts.join('|');\n}\nexports.spec = spec;\n/**\n * Returns a shorthand for an encoding query\n * @param encQ an encoding query\n * @param include Dict Set listing property types (key) to be included in the shorthand\n * @param replace Dictionary of replace function for values of a particular property type (key)\n */\nfunction encoding(encQ, include, replace) {\n    if (include === void 0) { include = exports.INCLUDE_ALL; }\n    if (replace === void 0) { replace = exports.REPLACE_NONE; }\n    var parts = [];\n    if (include.get(property_1.Property.CHANNEL)) {\n        parts.push(value(encQ.channel, replace.get(property_1.Property.CHANNEL)));\n    }\n    if (encoding_1.isFieldQuery(encQ)) {\n        var fieldDefStr = fieldDef(encQ, include, replace);\n        if (fieldDefStr) {\n            parts.push(fieldDefStr);\n        }\n    }\n    else if (encoding_1.isValueQuery(encQ)) {\n        parts.push(encQ.value);\n    }\n    else if (encoding_1.isAutoCountQuery(encQ)) {\n        parts.push('autocount()');\n    }\n    return parts.join(':');\n}\nexports.encoding = encoding;\n/**\n * Returns a field definition shorthand for an encoding query\n * @param encQ an encoding query\n * @param include Dict Set listing property types (key) to be included in the shorthand\n * @param replace Dictionary of replace function for values of a particular property type (key)\n */\nfunction fieldDef(encQ, include, replacer) {\n    if (include === void 0) { include = exports.INCLUDE_ALL; }\n    if (replacer === void 0) { replacer = exports.REPLACE_NONE; }\n    if (include.get(property_1.Property.AGGREGATE) && encoding_1.isDisabledAutoCountQuery(encQ)) {\n        return '-';\n    }\n    var fn = func(encQ, include, replacer);\n    var props = fieldDefProps(encQ, include, replacer);\n    var fieldAndParams;\n    if (encoding_1.isFieldQuery(encQ)) {\n        // field\n        fieldAndParams = include.get('field') ? value(encQ.field, replacer.get('field')) : '...';\n        // type\n        if (include.get(property_1.Property.TYPE)) {\n            if (wildcard_1.isWildcard(encQ.type)) {\n                fieldAndParams += ',' + value(encQ.type, replacer.get(property_1.Property.TYPE));\n            }\n            else {\n                var typeShort = ((encQ.type || type_1.Type.QUANTITATIVE) + '').substr(0, 1);\n                fieldAndParams += ',' + value(typeShort, replacer.get(property_1.Property.TYPE));\n            }\n        }\n        // encoding properties\n        fieldAndParams += props.map(function (p) {\n            var val = p.value instanceof Array ? '[' + p.value + ']' : p.value;\n            return ',' + p.key + '=' + val;\n        }).join('');\n    }\n    else if (encoding_1.isAutoCountQuery(encQ)) {\n        fieldAndParams = '*,q';\n    }\n    if (!fieldAndParams) {\n        return null;\n    }\n    if (fn) {\n        var fnPrefix = util_1.isString(fn) ? fn : wildcard_1.SHORT_WILDCARD +\n            (util_2.keys(fn).length > 0 ? JSON.stringify(fn) : '');\n        return fnPrefix + '(' + fieldAndParams + ')';\n    }\n    return fieldAndParams;\n}\nexports.fieldDef = fieldDef;\n/**\n * Return function part of\n */\nfunction func(fieldQ, include, replacer) {\n    if (include.get(property_1.Property.AGGREGATE) && fieldQ.aggregate && !wildcard_1.isWildcard(fieldQ.aggregate)) {\n        return replace(fieldQ.aggregate, replacer.get(property_1.Property.AGGREGATE));\n    }\n    else if (include.get(property_1.Property.AGGREGATE) && encoding_1.isEnabledAutoCountQuery(fieldQ)) {\n        // autoCount is considered a part of aggregate\n        return replace('count', replacer.get(property_1.Property.AGGREGATE));\n        ;\n    }\n    else if (include.get(property_1.Property.TIMEUNIT) && fieldQ.timeUnit && !wildcard_1.isWildcard(fieldQ.timeUnit)) {\n        return replace(fieldQ.timeUnit, replacer.get(property_1.Property.TIMEUNIT));\n    }\n    else if (include.get(property_1.Property.BIN) && fieldQ.bin && !wildcard_1.isWildcard(fieldQ.bin)) {\n        return 'bin';\n    }\n    else {\n        var fn = null;\n        for (var _i = 0, _a = [property_1.Property.AGGREGATE, property_1.Property.AUTOCOUNT, property_1.Property.TIMEUNIT, property_1.Property.BIN]; _i < _a.length; _i++) {\n            var prop = _a[_i];\n            var val = fieldQ[prop];\n            if (include.get(prop) && fieldQ[prop] && wildcard_1.isWildcard(val)) {\n                // assign fnEnumIndex[prop] = array of enum values or just \"?\" if it is SHORT_WILDCARD\n                fn = fn || {};\n                fn[prop] = wildcard_1.isShortWildcard(val) ? val : val.enum;\n            }\n        }\n        if (fn && fieldQ.hasFn) {\n            fn.hasFn = true;\n        }\n        return fn;\n    }\n}\n/**\n * Return key-value of parameters of field defs\n */\nfunction fieldDefProps(fieldQ, include, replacer) {\n    /** Encoding properties e.g., Scale, Axis, Legend */\n    var props = [];\n    // Parameters of function such as bin will be just top-level properties\n    if (!util_2.isBoolean(fieldQ.bin) && !wildcard_1.isShortWildcard(fieldQ.bin)) {\n        var bin = fieldQ.bin;\n        for (var child in bin) {\n            var prop = property_1.getEncodingNestedProp('bin', child);\n            if (prop && include.get(prop) && bin[child] !== undefined) {\n                props.push({\n                    key: child,\n                    value: value(bin[child], replacer.get(prop))\n                });\n            }\n        }\n        // Sort to make sure that parameter are ordered consistently\n        props.sort(function (a, b) { return a.key.localeCompare(b.key); });\n    }\n    for (var _i = 0, _a = [property_1.Property.SCALE, property_1.Property.SORT, property_1.Property.STACK, property_1.Property.AXIS, property_1.Property.LEGEND]; _i < _a.length; _i++) {\n        var parent_1 = _a[_i];\n        if (!wildcard_1.isWildcard(fieldQ.channel) && !exports.PROPERTY_SUPPORTED_CHANNELS[parent_1][fieldQ.channel]) {\n            continue;\n        }\n        if (include.get(parent_1) && fieldQ[parent_1] !== undefined) {\n            var parentValue = fieldQ[parent_1];\n            if (util_2.isBoolean(parentValue) || parentValue === null) {\n                // `scale`, `axis`, `legend` can be false/null.\n                props.push({\n                    key: parent_1 + '',\n                    value: parentValue || false // return true or false (false if null)\n                });\n            }\n            else if (util_1.isString(parentValue)) {\n                // `sort` can be a string (ascending/descending).\n                props.push({\n                    key: parent_1 + '',\n                    value: replace(JSON.stringify(parentValue), replacer.get(parent_1))\n                });\n            }\n            else {\n                var nestedPropChildren = [];\n                for (var child in parentValue) {\n                    var nestedProp = property_1.getEncodingNestedProp(parent_1, child);\n                    if (nestedProp && include.get(nestedProp) && parentValue[child] !== undefined) {\n                        nestedPropChildren.push({\n                            key: child,\n                            value: value(parentValue[child], replacer.get(nestedProp))\n                        });\n                    }\n                }\n                if (nestedPropChildren.length > 0) {\n                    var nestedPropObject = nestedPropChildren.sort(function (a, b) { return a.key.localeCompare(b.key); })\n                        .reduce(function (o, item) {\n                        o[item.key] = item.value;\n                        return o;\n                    }, {});\n                    // Sort to make sure that parameter are ordered consistently\n                    props.push({\n                        key: parent_1 + '',\n                        value: JSON.stringify(nestedPropObject)\n                    });\n                }\n            }\n        }\n    }\n    return props;\n}\nfunction parse(shorthand) {\n    // TODO(https://github.com/uwdata/compassql/issues/259):\n    // Do not split directly, but use an upgraded version of `getClosingBraceIndex()`\n    var splitShorthand = shorthand.split('|');\n    var specQ = {\n        mark: splitShorthand[0],\n        encodings: []\n    };\n    for (var i = 1; i < splitShorthand.length; i++) {\n        var part = splitShorthand[i];\n        var splitPart = splitWithTail(part, ':', 1);\n        var splitPartKey = splitPart[0];\n        var splitPartValue = splitPart[1];\n        if (channel_1.isChannel(splitPartKey) || splitPartKey === '?') {\n            var encQ = shorthandParser.encoding(splitPartKey, splitPartValue);\n            specQ.encodings.push(encQ);\n            continue;\n        }\n        if (splitPartKey === 'transform') {\n            specQ.transform = JSON.parse(splitPartValue);\n            continue;\n        }\n    }\n    return specQ;\n}\nexports.parse = parse;\n/**\n * Split a string n times into substrings with the specified delimiter and return them as an array.\n * @param str The string to be split\n * @param delim The delimiter string used to separate the string\n * @param number The value used to determine how many times the string is split\n */\nfunction splitWithTail(str, delim, count) {\n    var result = [];\n    var lastIndex = 0;\n    for (var i = 0; i < count; i++) {\n        var indexOfDelim = str.indexOf(delim, lastIndex);\n        if (indexOfDelim !== -1) {\n            result.push(str.substring(lastIndex, indexOfDelim));\n            lastIndex = indexOfDelim + 1;\n        }\n        else {\n            break;\n        }\n    }\n    result.push(str.substr(lastIndex));\n    // If the specified count is greater than the number of delimiters that exist in the string,\n    // an empty string will be pushed count minus number of delimiter occurence times.\n    if (result.length !== count + 1) {\n        while (result.length !== count + 1) {\n            result.push('');\n        }\n    }\n    return result;\n}\nexports.splitWithTail = splitWithTail;\nvar shorthandParser;\n(function (shorthandParser) {\n    function encoding(channel, fieldDefShorthand) {\n        var encQMixins = fieldDefShorthand.indexOf('(') !== -1 ?\n            fn(fieldDefShorthand) :\n            rawFieldDef(splitWithTail(fieldDefShorthand, ',', 2));\n        return __assign({ channel: channel }, encQMixins);\n    }\n    shorthandParser.encoding = encoding;\n    function rawFieldDef(fieldDefPart) {\n        var fieldQ = {};\n        fieldQ.field = fieldDefPart[0];\n        fieldQ.type = type_1.getFullName(fieldDefPart[1].toUpperCase()) || '?';\n        var partParams = fieldDefPart[2];\n        var closingBraceIndex = 0;\n        var i = 0;\n        while (i < partParams.length) {\n            var propEqualSignIndex = partParams.indexOf('=', i);\n            var parsedValue = void 0;\n            if (propEqualSignIndex !== -1) {\n                var prop = partParams.substring(i, propEqualSignIndex);\n                if (partParams[i + prop.length + 1] === '{') {\n                    var openingBraceIndex = i + prop.length + 1;\n                    closingBraceIndex = getClosingIndex(openingBraceIndex, partParams, '}');\n                    var value_2 = partParams.substring(openingBraceIndex, closingBraceIndex + 1);\n                    parsedValue = JSON.parse(value_2);\n                    // index after next comma\n                    i = closingBraceIndex + 2;\n                }\n                else if (partParams[i + prop.length + 1] === '[') {\n                    // find closing square bracket\n                    var openingBracketIndex = i + prop.length + 1;\n                    var closingBracketIndex = getClosingIndex(openingBracketIndex, partParams, ']');\n                    var value_3 = partParams.substring(openingBracketIndex, closingBracketIndex + 1);\n                    parsedValue = JSON.parse(value_3);\n                    // index after next comma\n                    i = closingBracketIndex + 2;\n                }\n                else {\n                    var propIndex = i;\n                    // Substring until the next comma (or end of the string)\n                    var nextCommaIndex = partParams.indexOf(',', i + prop.length);\n                    if (nextCommaIndex === -1) {\n                        nextCommaIndex = partParams.length;\n                    }\n                    // index after next comma\n                    i = nextCommaIndex + 1;\n                    parsedValue = JSON.parse(partParams.substring(propIndex + prop.length + 1, nextCommaIndex));\n                }\n                if (property_1.isEncodingNestedParent(prop)) {\n                    fieldQ[prop] = parsedValue;\n                }\n                else {\n                    // prop is a property of the aggregation function such as bin\n                    fieldQ.bin = fieldQ.bin || {};\n                    fieldQ.bin[prop] = parsedValue;\n                }\n            }\n            else {\n                // something is wrong with the format of the partParams\n                // exits loop if don't have then infintie loop\n                break;\n            }\n        }\n        return fieldQ;\n    }\n    shorthandParser.rawFieldDef = rawFieldDef;\n    function getClosingIndex(openingBraceIndex, str, closingChar) {\n        for (var i = openingBraceIndex; i < str.length; i++) {\n            if (str[i] === closingChar) {\n                return i;\n            }\n        }\n    }\n    shorthandParser.getClosingIndex = getClosingIndex;\n    function fn(fieldDefShorthand) {\n        var fieldQ = {};\n        // Aggregate, Bin, TimeUnit as wildcard case\n        if (fieldDefShorthand[0] === '?') {\n            var closingBraceIndex = getClosingIndex(1, fieldDefShorthand, '}');\n            var fnEnumIndex = JSON.parse(fieldDefShorthand.substring(1, closingBraceIndex + 1));\n            for (var encodingProperty in fnEnumIndex) {\n                if (util_2.isArray(fnEnumIndex[encodingProperty])) {\n                    fieldQ[encodingProperty] = { enum: fnEnumIndex[encodingProperty] };\n                }\n                else {\n                    fieldQ[encodingProperty] = fnEnumIndex[encodingProperty];\n                }\n            }\n            return __assign({}, fieldQ, rawFieldDef(splitWithTail(fieldDefShorthand.substring(closingBraceIndex + 2, fieldDefShorthand.length - 1), ',', 2)));\n        }\n        else {\n            var func_1 = fieldDefShorthand.substring(0, fieldDefShorthand.indexOf('('));\n            var insideFn = fieldDefShorthand.substring(func_1.length + 1, fieldDefShorthand.length - 1);\n            var insideFnParts = splitWithTail(insideFn, ',', 2);\n            if (aggregate_1.isAggregateOp(func_1)) {\n                return __assign({ aggregate: func_1 }, rawFieldDef(insideFnParts));\n            }\n            else if (timeunit_1.isTimeUnit(func_1)) {\n                return __assign({ timeUnit: func_1 }, rawFieldDef(insideFnParts));\n            }\n            else if (func_1 === 'bin') {\n                return __assign({ bin: {} }, rawFieldDef(insideFnParts));\n            }\n        }\n    }\n    shorthandParser.fn = fn;\n})(shorthandParser = exports.shorthandParser || (exports.shorthandParser = {}));\n//# sourceMappingURL=shorthand.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar vlFieldDef = require(\"vega-lite/build/src/fielddef\");\nvar type_1 = require(\"vega-lite/build/src/type\");\nvar expandedtype_1 = require(\"./expandedtype\");\nvar type_2 = require(\"vega-lite/build/src/compile/scale/type\");\nvar wildcard_1 = require(\"../wildcard\");\nvar property_1 = require(\"../property\");\nvar shorthand_1 = require(\"./shorthand\");\nvar util_1 = require(\"datalib/src/util\");\nfunction isValueQuery(encQ) {\n    return encQ !== null && encQ !== undefined && encQ['value'] !== undefined;\n}\nexports.isValueQuery = isValueQuery;\nfunction isFieldQuery(encQ) {\n    return encQ !== null && encQ !== undefined && (encQ['field'] || encQ['aggregate'] === 'count');\n}\nexports.isFieldQuery = isFieldQuery;\nfunction isAutoCountQuery(encQ) {\n    return encQ !== null && encQ !== undefined && 'autoCount' in encQ;\n}\nexports.isAutoCountQuery = isAutoCountQuery;\nfunction isDisabledAutoCountQuery(encQ) {\n    return isAutoCountQuery(encQ) && encQ.autoCount === false;\n}\nexports.isDisabledAutoCountQuery = isDisabledAutoCountQuery;\nfunction isEnabledAutoCountQuery(encQ) {\n    return isAutoCountQuery(encQ) && encQ.autoCount === true;\n}\nexports.isEnabledAutoCountQuery = isEnabledAutoCountQuery;\nvar DEFAULT_PROPS = [property_1.Property.AGGREGATE, property_1.Property.BIN, property_1.Property.TIMEUNIT, property_1.Property.FIELD, property_1.Property.TYPE, property_1.Property.SCALE, property_1.Property.SORT, property_1.Property.AXIS, property_1.Property.LEGEND, property_1.Property.STACK, property_1.Property.FORMAT];\nfunction toEncoding(encQs, params) {\n    var _a = params.wildcardMode, wildcardMode = _a === void 0 ? 'skip' : _a;\n    var encoding = {};\n    for (var _i = 0, encQs_1 = encQs; _i < encQs_1.length; _i++) {\n        var encQ = encQs_1[_i];\n        if (isDisabledAutoCountQuery(encQ)) {\n            continue; // Do not include this in the output.\n        }\n        var channel = encQ.channel;\n        // if channel is a wildcard, return null\n        if (wildcard_1.isWildcard(channel)) {\n            throw new Error('Cannot convert wildcard channel to a fixed channel');\n        }\n        var channelDef = isValueQuery(encQ) ? toValueDef(encQ) : toFieldDef(encQ, params);\n        if (channelDef === null) {\n            if (params.wildcardMode === 'null') {\n                // contains invalid property (e.g., wildcard, thus cannot return a proper spec.)\n                return null;\n            }\n            continue;\n        }\n        // Otherwise, we can set the channelDef\n        encoding[channel] = channelDef;\n    }\n    return encoding;\n}\nexports.toEncoding = toEncoding;\nfunction toValueDef(valueQ) {\n    var value = valueQ.value;\n    if (wildcard_1.isWildcard(value)) {\n        return null;\n    }\n    return { value: value };\n}\nexports.toValueDef = toValueDef;\nfunction toFieldDef(encQ, params) {\n    if (params === void 0) { params = {}; }\n    var _a = params.props, props = _a === void 0 ? DEFAULT_PROPS : _a, schema = params.schema, _b = params.wildcardMode, wildcardMode = _b === void 0 ? 'skip' : _b;\n    if (isFieldQuery(encQ)) {\n        var fieldDef = {};\n        for (var _i = 0, props_1 = props; _i < props_1.length; _i++) {\n            var prop = props_1[_i];\n            var encodingProperty = encQ[prop];\n            if (wildcard_1.isWildcard(encodingProperty)) {\n                if (wildcardMode === 'skip')\n                    continue;\n                return null;\n            }\n            if (encodingProperty !== undefined) {\n                // if the channel supports this prop\n                var isSupportedByChannel = (!shorthand_1.PROPERTY_SUPPORTED_CHANNELS[prop] || shorthand_1.PROPERTY_SUPPORTED_CHANNELS[prop][encQ.channel]);\n                if (!isSupportedByChannel) {\n                    continue;\n                }\n                if (property_1.isEncodingNestedParent(prop) && util_1.isObject(encodingProperty)) {\n                    encodingProperty = __assign({}, encodingProperty); // Make a shallow copy first\n                    for (var childProp in encodingProperty) {\n                        // ensure nested properties are not wildcard before assigning to field def\n                        if (wildcard_1.isWildcard(encodingProperty[childProp])) {\n                            if (wildcardMode === 'null') {\n                                return null;\n                            }\n                            delete encodingProperty[childProp]; // skip\n                        }\n                    }\n                }\n                if (prop === 'bin' && encodingProperty === false) {\n                    continue;\n                }\n                else if (prop === 'type' && encodingProperty === 'key') {\n                    fieldDef.type = 'nominal';\n                }\n                else {\n                    fieldDef[prop] = encodingProperty;\n                }\n            }\n            if (prop === property_1.Property.SCALE && schema && encQ.type === type_1.Type.ORDINAL) {\n                var scale = encQ.scale;\n                var ordinalDomain = schema.fieldSchema(encQ.field).ordinalDomain;\n                if (scale !== null && ordinalDomain) {\n                    fieldDef[property_1.Property.SCALE] = __assign({ domain: ordinalDomain }, (util_1.isObject(scale) ? scale : {}));\n                }\n            }\n        }\n        return fieldDef;\n    }\n    else {\n        if (encQ.autoCount === false) {\n            throw new Error(\"Cannot convert {autoCount: false} into a field def\");\n        }\n        else {\n            return {\n                aggregate: 'count',\n                field: '*',\n                type: 'quantitative'\n            };\n        }\n    }\n}\nexports.toFieldDef = toFieldDef;\n/**\n * Is a field query continuous field?\n * This method is applicable only for fieldQuery without wildcard\n */\nfunction isContinuous(encQ) {\n    if (isFieldQuery(encQ)) {\n        return vlFieldDef.isContinuous(toFieldDef(encQ, { props: ['bin', 'timeUnit', 'field', 'type'] }));\n    }\n    return isAutoCountQuery(encQ);\n}\nexports.isContinuous = isContinuous;\nfunction isMeasure(encQ) {\n    if (isFieldQuery(encQ)) {\n        return !isDimension(encQ) && encQ.type !== 'temporal';\n    }\n    return isAutoCountQuery(encQ);\n}\nexports.isMeasure = isMeasure;\n/**\n * Is a field query discrete field?\n * This method is applicable only for fieldQuery without wildcard\n */\nfunction isDimension(encQ) {\n    if (isFieldQuery(encQ)) {\n        var fieldDef = toFieldDef(encQ, { props: ['bin', 'timeUnit', 'type'] });\n        return vlFieldDef.isDiscrete(fieldDef) || !!fieldDef.timeUnit;\n    }\n    return false;\n}\nexports.isDimension = isDimension;\n/**\n *  Returns the true scale type of an encoding.\n *  @returns {ScaleType} If the scale type was not specified, it is inferred from the encoding's Type.\n *  @returns {undefined} If the scale type was not specified and Type (or TimeUnit if applicable) is a Wildcard, there is no clear scale type\n */\nfunction scaleType(fieldQ) {\n    var scale = fieldQ.scale === true || fieldQ.scale === wildcard_1.SHORT_WILDCARD ? {} : fieldQ.scale || {};\n    var type = fieldQ.type, channel = fieldQ.channel, timeUnit = fieldQ.timeUnit, bin = fieldQ.bin;\n    // HACK: All of markType, and scaleConfig only affect\n    // sub-type of ordinal to quantitative scales (point or band)\n    // Currently, most of scaleType usage in CompassQL doesn't care about this subtle difference.\n    // Thus, instead of making this method requiring the global mark,\n    // we will just call it with mark = undefined .\n    // Thus, currently, we will always get a point scale unless a CompassQuery specifies band.\n    var markType = undefined;\n    var scaleConfig = {};\n    if (wildcard_1.isWildcard(scale.type) || wildcard_1.isWildcard(type) || wildcard_1.isWildcard(channel) || wildcard_1.isWildcard(bin)) {\n        return undefined;\n    }\n    // If scale type is specified, then use scale.type\n    if (scale.type) {\n        return scale.type;\n    }\n    // if type is fixed and it's not temporal, we can ignore time unit.\n    if (type === 'temporal' && wildcard_1.isWildcard(timeUnit)) {\n        return undefined;\n    }\n    // if type is fixed and it's not quantitative, we can ignore bin\n    if (type === 'quantitative' && wildcard_1.isWildcard(bin)) {\n        return undefined;\n    }\n    var vegaLiteType = type === expandedtype_1.ExpandedType.KEY ? 'nominal' : type;\n    var fieldDef = { type: vegaLiteType, timeUnit: timeUnit, bin: bin };\n    return type_2.scaleType(scale.type, channel, fieldDef, markType, scaleConfig);\n}\nexports.scaleType = scaleType;\n//# sourceMappingURL=encoding.js.map","var util = require('../util');\n\nvar TYPES = '__types__';\n\nvar PARSERS = {\n  boolean: util.boolean,\n  integer: util.number,\n  number:  util.number,\n  date:    util.date,\n  string:  function(x) { return x == null || x === '' ? null : x + ''; }\n};\n\nvar TESTS = {\n  boolean: function(x) { return x==='true' || x==='false' || util.isBoolean(x); },\n  integer: function(x) { return TESTS.number(x) && (x=+x) === ~~x; },\n  number: function(x) { return !isNaN(+x) && !util.isDate(x); },\n  date: function(x) { return !isNaN(Date.parse(x)); }\n};\n\nfunction annotation(data, types) {\n  if (!types) return data && data[TYPES] || null;\n  data[TYPES] = types;\n}\n\nfunction fieldNames(datum) {\n  return util.keys(datum);\n}\n\nfunction bracket(fieldName) {\n  return '[' + fieldName + ']';\n}\n\nfunction type(values, f) {\n  values = util.array(values);\n  f = util.$(f);\n  var v, i, n;\n\n  // if data array has type annotations, use them\n  if (values[TYPES]) {\n    v = f(values[TYPES]);\n    if (util.isString(v)) return v;\n  }\n\n  for (i=0, n=values.length; !util.isValid(v) && i<n; ++i) {\n    v = f ? f(values[i]) : values[i];\n  }\n\n  return util.isDate(v) ? 'date' :\n    util.isNumber(v)    ? 'number' :\n    util.isBoolean(v)   ? 'boolean' :\n    util.isString(v)    ? 'string' : null;\n}\n\nfunction typeAll(data, fields) {\n  if (!data.length) return;\n  var get = fields ? util.identity : (fields = fieldNames(data[0]), bracket);\n  return fields.reduce(function(types, f) {\n    return (types[f] = type(data, get(f)), types);\n  }, {});\n}\n\nfunction infer(values, f) {\n  values = util.array(values);\n  f = util.$(f);\n  var i, j, v;\n\n  // types to test for, in precedence order\n  var types = ['boolean', 'integer', 'number', 'date'];\n\n  for (i=0; i<values.length; ++i) {\n    // get next value to test\n    v = f ? f(values[i]) : values[i];\n    // test value against remaining types\n    for (j=0; j<types.length; ++j) {\n      if (util.isValid(v) && !TESTS[types[j]](v)) {\n        types.splice(j, 1);\n        j -= 1;\n      }\n    }\n    // if no types left, return 'string'\n    if (types.length === 0) return 'string';\n  }\n\n  return types[0];\n}\n\nfunction inferAll(data, fields) {\n  var get = fields ? util.identity : (fields = fieldNames(data[0]), bracket);\n  return fields.reduce(function(types, f) {\n    types[f] = infer(data, get(f));\n    return types;\n  }, {});\n}\n\ntype.annotation = annotation;\ntype.all = typeAll;\ntype.infer = infer;\ntype.inferAll = inferAll;\ntype.parsers = PARSERS;\nmodule.exports = type;\n","var util = require('./util'),\n    gen = module.exports;\n\ngen.repeat = function(val, n) {\n  var a = Array(n), i;\n  for (i=0; i<n; ++i) a[i] = val;\n  return a;\n};\n\ngen.zeros = function(n) {\n  return gen.repeat(0, n);\n};\n\ngen.range = function(start, stop, step) {\n  if (arguments.length < 3) {\n    step = 1;\n    if (arguments.length < 2) {\n      stop = start;\n      start = 0;\n    }\n  }\n  if ((stop - start) / step == Infinity) throw new Error('Infinite range');\n  var range = [], i = -1, j;\n  if (step < 0) while ((j = start + step * ++i) > stop) range.push(j);\n  else while ((j = start + step * ++i) < stop) range.push(j);\n  return range;\n};\n\ngen.random = {};\n\ngen.random.uniform = function(min, max) {\n  if (max === undefined) {\n    max = min === undefined ? 1 : min;\n    min = 0;\n  }\n  var d = max - min;\n  var f = function() {\n    return min + d * Math.random();\n  };\n  f.samples = function(n) {\n    return gen.zeros(n).map(f);\n  };\n  f.pdf = function(x) {\n    return (x >= min && x <= max) ? 1/d : 0;\n  };\n  f.cdf = function(x) {\n    return x < min ? 0 : x > max ? 1 : (x - min) / d;\n  };\n  f.icdf = function(p) {\n    return (p >= 0 && p <= 1) ? min + p*d : NaN;\n  };\n  return f;\n};\n\ngen.random.integer = function(a, b) {\n  if (b === undefined) {\n    b = a;\n    a = 0;\n  }\n  var d = b - a;\n  var f = function() {\n    return a + Math.floor(d * Math.random());\n  };\n  f.samples = function(n) {\n    return gen.zeros(n).map(f);\n  };\n  f.pdf = function(x) {\n    return (x === Math.floor(x) && x >= a && x < b) ? 1/d : 0;\n  };\n  f.cdf = function(x) {\n    var v = Math.floor(x);\n    return v < a ? 0 : v >= b ? 1 : (v - a + 1) / d;\n  };\n  f.icdf = function(p) {\n    return (p >= 0 && p <= 1) ? a - 1 + Math.floor(p*d) : NaN;\n  };\n  return f;\n};\n\ngen.random.normal = function(mean, stdev) {\n  mean = mean || 0;\n  stdev = stdev || 1;\n  var next;\n  var f = function() {\n    var x = 0, y = 0, rds, c;\n    if (next !== undefined) {\n      x = next;\n      next = undefined;\n      return x;\n    }\n    do {\n      x = Math.random()*2-1;\n      y = Math.random()*2-1;\n      rds = x*x + y*y;\n    } while (rds === 0 || rds > 1);\n    c = Math.sqrt(-2*Math.log(rds)/rds); // Box-Muller transform\n    next = mean + y*c*stdev;\n    return mean + x*c*stdev;\n  };\n  f.samples = function(n) {\n    return gen.zeros(n).map(f);\n  };\n  f.pdf = function(x) {\n    var exp = Math.exp(Math.pow(x-mean, 2) / (-2 * Math.pow(stdev, 2)));\n    return (1 / (stdev * Math.sqrt(2*Math.PI))) * exp;\n  };\n  f.cdf = function(x) {\n    // Approximation from West (2009)\n    // Better Approximations to Cumulative Normal Functions\n    var cd,\n        z = (x - mean) / stdev,\n        Z = Math.abs(z);\n    if (Z > 37) {\n      cd = 0;\n    } else {\n      var sum, exp = Math.exp(-Z*Z/2);\n      if (Z < 7.07106781186547) {\n        sum = 3.52624965998911e-02 * Z + 0.700383064443688;\n        sum = sum * Z + 6.37396220353165;\n        sum = sum * Z + 33.912866078383;\n        sum = sum * Z + 112.079291497871;\n        sum = sum * Z + 221.213596169931;\n        sum = sum * Z + 220.206867912376;\n        cd = exp * sum;\n        sum = 8.83883476483184e-02 * Z + 1.75566716318264;\n        sum = sum * Z + 16.064177579207;\n        sum = sum * Z + 86.7807322029461;\n        sum = sum * Z + 296.564248779674;\n        sum = sum * Z + 637.333633378831;\n        sum = sum * Z + 793.826512519948;\n        sum = sum * Z + 440.413735824752;\n        cd = cd / sum;\n      } else {\n        sum = Z + 0.65;\n        sum = Z + 4 / sum;\n        sum = Z + 3 / sum;\n        sum = Z + 2 / sum;\n        sum = Z + 1 / sum;\n        cd = exp / sum / 2.506628274631;\n      }\n    }\n    return z > 0 ? 1 - cd : cd;\n  };\n  f.icdf = function(p) {\n    // Approximation of Probit function using inverse error function.\n    if (p <= 0 || p >= 1) return NaN;\n    var x = 2*p - 1,\n        v = (8 * (Math.PI - 3)) / (3 * Math.PI * (4-Math.PI)),\n        a = (2 / (Math.PI*v)) + (Math.log(1 - Math.pow(x,2)) / 2),\n        b = Math.log(1 - (x*x)) / v,\n        s = (x > 0 ? 1 : -1) * Math.sqrt(Math.sqrt((a*a) - b) - a);\n    return mean + stdev * Math.SQRT2 * s;\n  };\n  return f;\n};\n\ngen.random.bootstrap = function(domain, smooth) {\n  // Generates a bootstrap sample from a set of observations.\n  // Smooth bootstrapping adds random zero-centered noise to the samples.\n  var val = domain.filter(util.isValid),\n      len = val.length,\n      err = smooth ? gen.random.normal(0, smooth) : null;\n  var f = function() {\n    return val[~~(Math.random()*len)] + (err ? err() : 0);\n  };\n  f.samples = function(n) {\n    return gen.zeros(n).map(f);\n  };\n  return f;\n};","var util = require('./util');\nvar type = require('./import/type');\nvar gen = require('./generate');\n\nvar stats = module.exports;\n\n// Collect unique values.\n// Output: an array of unique values, in first-observed order\nstats.unique = function(values, f, results) {\n  f = util.$(f);\n  results = results || [];\n  var u = {}, v, i, n;\n  for (i=0, n=values.length; i<n; ++i) {\n    v = f ? f(values[i]) : values[i];\n    if (v in u) continue;\n    u[v] = 1;\n    results.push(v);\n  }\n  return results;\n};\n\n// Return the length of the input array.\nstats.count = function(values) {\n  return values && values.length || 0;\n};\n\n// Count the number of non-null, non-undefined, non-NaN values.\nstats.count.valid = function(values, f) {\n  f = util.$(f);\n  var v, i, n, valid = 0;\n  for (i=0, n=values.length; i<n; ++i) {\n    v = f ? f(values[i]) : values[i];\n    if (util.isValid(v)) valid += 1;\n  }\n  return valid;\n};\n\n// Count the number of null or undefined values.\nstats.count.missing = function(values, f) {\n  f = util.$(f);\n  var v, i, n, count = 0;\n  for (i=0, n=values.length; i<n; ++i) {\n    v = f ? f(values[i]) : values[i];\n    if (v == null) count += 1;\n  }\n  return count;\n};\n\n// Count the number of distinct values.\n// Null, undefined and NaN are each considered distinct values.\nstats.count.distinct = function(values, f) {\n  f = util.$(f);\n  var u = {}, v, i, n, count = 0;\n  for (i=0, n=values.length; i<n; ++i) {\n    v = f ? f(values[i]) : values[i];\n    if (v in u) continue;\n    u[v] = 1;\n    count += 1;\n  }\n  return count;\n};\n\n// Construct a map from distinct values to occurrence counts.\nstats.count.map = function(values, f) {\n  f = util.$(f);\n  var map = {}, v, i, n;\n  for (i=0, n=values.length; i<n; ++i) {\n    v = f ? f(values[i]) : values[i];\n    map[v] = (v in map) ? map[v] + 1 : 1;\n  }\n  return map;\n};\n\n// Compute the median of an array of numbers.\nstats.median = function(values, f) {\n  if (f) values = values.map(util.$(f));\n  values = values.filter(util.isValid).sort(util.cmp);\n  return stats.quantile(values, 0.5);\n};\n\n// Computes the quartile boundaries of an array of numbers.\nstats.quartile = function(values, f) {\n  if (f) values = values.map(util.$(f));\n  values = values.filter(util.isValid).sort(util.cmp);\n  var q = stats.quantile;\n  return [q(values, 0.25), q(values, 0.50), q(values, 0.75)];\n};\n\n// Compute the quantile of a sorted array of numbers.\n// Adapted from the D3.js implementation.\nstats.quantile = function(values, f, p) {\n  if (p === undefined) { p = f; f = util.identity; }\n  f = util.$(f);\n  var H = (values.length - 1) * p + 1,\n      h = Math.floor(H),\n      v = +f(values[h - 1]),\n      e = H - h;\n  return e ? v + e * (f(values[h]) - v) : v;\n};\n\n// Compute the sum of an array of numbers.\nstats.sum = function(values, f) {\n  f = util.$(f);\n  for (var sum=0, i=0, n=values.length, v; i<n; ++i) {\n    v = f ? f(values[i]) : values[i];\n    if (util.isValid(v)) sum += v;\n  }\n  return sum;\n};\n\n// Compute the mean (average) of an array of numbers.\nstats.mean = function(values, f) {\n  f = util.$(f);\n  var mean = 0, delta, i, n, c, v;\n  for (i=0, c=0, n=values.length; i<n; ++i) {\n    v = f ? f(values[i]) : values[i];\n    if (util.isValid(v)) {\n      delta = v - mean;\n      mean = mean + delta / (++c);\n    }\n  }\n  return mean;\n};\n\n// Compute the geometric mean of an array of numbers.\nstats.mean.geometric = function(values, f) {\n  f = util.$(f);\n  var mean = 1, c, n, v, i;\n  for (i=0, c=0, n=values.length; i<n; ++i) {\n    v = f ? f(values[i]) : values[i];\n    if (util.isValid(v)) {\n      if (v <= 0) {\n        throw Error(\"Geometric mean only defined for positive values.\");\n      }\n      mean *= v;\n      ++c;\n    }\n  }\n  mean = c > 0 ? Math.pow(mean, 1/c) : 0;\n  return mean;\n};\n\n// Compute the harmonic mean of an array of numbers.\nstats.mean.harmonic = function(values, f) {\n  f = util.$(f);\n  var mean = 0, c, n, v, i;\n  for (i=0, c=0, n=values.length; i<n; ++i) {\n    v = f ? f(values[i]) : values[i];\n    if (util.isValid(v)) {\n      mean += 1/v;\n      ++c;\n    }\n  }\n  return c / mean;\n};\n\n// Compute the sample variance of an array of numbers.\nstats.variance = function(values, f) {\n  f = util.$(f);\n  if (!util.isArray(values) || values.length < 2) return 0;\n  var mean = 0, M2 = 0, delta, i, c, v;\n  for (i=0, c=0; i<values.length; ++i) {\n    v = f ? f(values[i]) : values[i];\n    if (util.isValid(v)) {\n      delta = v - mean;\n      mean = mean + delta / (++c);\n      M2 = M2 + delta * (v - mean);\n    }\n  }\n  M2 = M2 / (c - 1);\n  return M2;\n};\n\n// Compute the sample standard deviation of an array of numbers.\nstats.stdev = function(values, f) {\n  return Math.sqrt(stats.variance(values, f));\n};\n\n// Compute the Pearson mode skewness ((median-mean)/stdev) of an array of numbers.\nstats.modeskew = function(values, f) {\n  var avg = stats.mean(values, f),\n      med = stats.median(values, f),\n      std = stats.stdev(values, f);\n  return std === 0 ? 0 : (avg - med) / std;\n};\n\n// Find the minimum value in an array.\nstats.min = function(values, f) {\n  return stats.extent(values, f)[0];\n};\n\n// Find the maximum value in an array.\nstats.max = function(values, f) {\n  return stats.extent(values, f)[1];\n};\n\n// Find the minimum and maximum of an array of values.\nstats.extent = function(values, f) {\n  f = util.$(f);\n  var a, b, v, i, n = values.length;\n  for (i=0; i<n; ++i) {\n    v = f ? f(values[i]) : values[i];\n    if (util.isValid(v)) { a = b = v; break; }\n  }\n  for (; i<n; ++i) {\n    v = f ? f(values[i]) : values[i];\n    if (util.isValid(v)) {\n      if (v < a) a = v;\n      if (v > b) b = v;\n    }\n  }\n  return [a, b];\n};\n\n// Find the integer indices of the minimum and maximum values.\nstats.extent.index = function(values, f) {\n  f = util.$(f);\n  var x = -1, y = -1, a, b, v, i, n = values.length;\n  for (i=0; i<n; ++i) {\n    v = f ? f(values[i]) : values[i];\n    if (util.isValid(v)) { a = b = v; x = y = i; break; }\n  }\n  for (; i<n; ++i) {\n    v = f ? f(values[i]) : values[i];\n    if (util.isValid(v)) {\n      if (v < a) { a = v; x = i; }\n      if (v > b) { b = v; y = i; }\n    }\n  }\n  return [x, y];\n};\n\n// Compute the dot product of two arrays of numbers.\nstats.dot = function(values, a, b) {\n  var sum = 0, i, v;\n  if (!b) {\n    if (values.length !== a.length) {\n      throw Error('Array lengths must match.');\n    }\n    for (i=0; i<values.length; ++i) {\n      v = values[i] * a[i];\n      if (v === v) sum += v;\n    }\n  } else {\n    a = util.$(a);\n    b = util.$(b);\n    for (i=0; i<values.length; ++i) {\n      v = a(values[i]) * b(values[i]);\n      if (v === v) sum += v;\n    }\n  }\n  return sum;\n};\n\n// Compute the vector distance between two arrays of numbers.\n// Default is Euclidean (exp=2) distance, configurable via exp argument.\nstats.dist = function(values, a, b, exp) {\n  var f = util.isFunction(b) || util.isString(b),\n      X = values,\n      Y = f ? values : a,\n      e = f ? exp : b,\n      L2 = e === 2 || e == null,\n      n = values.length, s = 0, d, i;\n  if (f) {\n    a = util.$(a);\n    b = util.$(b);\n  }\n  for (i=0; i<n; ++i) {\n    d = f ? (a(X[i])-b(Y[i])) : (X[i]-Y[i]);\n    s += L2 ? d*d : Math.pow(Math.abs(d), e);\n  }\n  return L2 ? Math.sqrt(s) : Math.pow(s, 1/e);\n};\n\n// Compute the Cohen's d effect size between two arrays of numbers.\nstats.cohensd = function(values, a, b) {\n  var X = b ? values.map(util.$(a)) : values,\n      Y = b ? values.map(util.$(b)) : a,\n      x1 = stats.mean(X),\n      x2 = stats.mean(Y),\n      n1 = stats.count.valid(X),\n      n2 = stats.count.valid(Y);\n\n  if ((n1+n2-2) <= 0) {\n    // if both arrays are size 1, or one is empty, there's no effect size\n    return 0;\n  }\n  // pool standard deviation\n  var s1 = stats.variance(X),\n      s2 = stats.variance(Y),\n      s = Math.sqrt((((n1-1)*s1) + ((n2-1)*s2)) / (n1+n2-2));\n  // if there is no variance, there's no effect size\n  return s===0 ? 0 : (x1 - x2) / s;\n};\n\n// Computes the covariance between two arrays of numbers\nstats.covariance = function(values, a, b) {\n  var X = b ? values.map(util.$(a)) : values,\n      Y = b ? values.map(util.$(b)) : a,\n      n = X.length,\n      xm = stats.mean(X),\n      ym = stats.mean(Y),\n      sum = 0, c = 0, i, x, y, vx, vy;\n\n  if (n !== Y.length) {\n    throw Error('Input lengths must match.');\n  }\n\n  for (i=0; i<n; ++i) {\n    x = X[i]; vx = util.isValid(x);\n    y = Y[i]; vy = util.isValid(y);\n    if (vx && vy) {\n      sum += (x-xm) * (y-ym);\n      ++c;\n    } else if (vx || vy) {\n      throw Error('Valid values must align.');\n    }\n  }\n  return sum / (c-1);\n};\n\n// Compute ascending rank scores for an array of values.\n// Ties are assigned their collective mean rank.\nstats.rank = function(values, f) {\n  f = util.$(f) || util.identity;\n  var a = values.map(function(v, i) {\n      return {idx: i, val: f(v)};\n    })\n    .sort(util.comparator('val'));\n\n  var n = values.length,\n      r = Array(n),\n      tie = -1, p = {}, i, v, mu;\n\n  for (i=0; i<n; ++i) {\n    v = a[i].val;\n    if (tie < 0 && p === v) {\n      tie = i - 1;\n    } else if (tie > -1 && p !== v) {\n      mu = 1 + (i-1 + tie) / 2;\n      for (; tie<i; ++tie) r[a[tie].idx] = mu;\n      tie = -1;\n    }\n    r[a[i].idx] = i + 1;\n    p = v;\n  }\n\n  if (tie > -1) {\n    mu = 1 + (n-1 + tie) / 2;\n    for (; tie<n; ++tie) r[a[tie].idx] = mu;\n  }\n\n  return r;\n};\n\n// Compute the sample Pearson product-moment correlation of two arrays of numbers.\nstats.cor = function(values, a, b) {\n  var fn = b;\n  b = fn ? values.map(util.$(b)) : a;\n  a = fn ? values.map(util.$(a)) : values;\n\n  var dot = stats.dot(a, b),\n      mua = stats.mean(a),\n      mub = stats.mean(b),\n      sda = stats.stdev(a),\n      sdb = stats.stdev(b),\n      n = values.length;\n\n  return (dot - n*mua*mub) / ((n-1) * sda * sdb);\n};\n\n// Compute the Spearman rank correlation of two arrays of values.\nstats.cor.rank = function(values, a, b) {\n  var ra = b ? stats.rank(values, a) : stats.rank(values),\n      rb = b ? stats.rank(values, b) : stats.rank(a),\n      n = values.length, i, s, d;\n\n  for (i=0, s=0; i<n; ++i) {\n    d = ra[i] - rb[i];\n    s += d * d;\n  }\n\n  return 1 - 6*s / (n * (n*n-1));\n};\n\n// Compute the distance correlation of two arrays of numbers.\n// http://en.wikipedia.org/wiki/Distance_correlation\nstats.cor.dist = function(values, a, b) {\n  var X = b ? values.map(util.$(a)) : values,\n      Y = b ? values.map(util.$(b)) : a;\n\n  var A = stats.dist.mat(X),\n      B = stats.dist.mat(Y),\n      n = A.length,\n      i, aa, bb, ab;\n\n  for (i=0, aa=0, bb=0, ab=0; i<n; ++i) {\n    aa += A[i]*A[i];\n    bb += B[i]*B[i];\n    ab += A[i]*B[i];\n  }\n\n  return Math.sqrt(ab / Math.sqrt(aa*bb));\n};\n\n// Simple linear regression.\n// Returns a \"fit\" object with slope (m), intercept (b),\n// r value (R), and sum-squared residual error (rss).\nstats.linearRegression = function(values, a, b) {\n  var X = b ? values.map(util.$(a)) : values,\n      Y = b ? values.map(util.$(b)) : a,\n      n = X.length,\n      xy = stats.covariance(X, Y), // will throw err if valid vals don't align\n      sx = stats.stdev(X),\n      sy = stats.stdev(Y),\n      slope = xy / (sx*sx),\n      icept = stats.mean(Y) - slope * stats.mean(X),\n      fit = {slope: slope, intercept: icept, R: xy / (sx*sy), rss: 0},\n      res, i;\n\n  for (i=0; i<n; ++i) {\n    if (util.isValid(X[i]) && util.isValid(Y[i])) {\n      res = (slope*X[i] + icept) - Y[i];\n      fit.rss += res * res;\n    }\n  }\n\n  return fit;\n};\n\n// Namespace for bootstrap\nstats.bootstrap = {};\n\n// Construct a bootstrapped confidence interval at a given percentile level\n// Arguments are an array, an optional n (defaults to 1000),\n//  an optional alpha (defaults to 0.05), and an optional smoothing parameter\nstats.bootstrap.ci = function(values, a, b, c, d) {\n  var X, N, alpha, smooth, bs, means, i;\n  if (util.isFunction(a) || util.isString(a)) {\n    X = values.map(util.$(a));\n    N = b;\n    alpha = c;\n    smooth = d;\n  } else {\n    X = values;\n    N = a;\n    alpha = b;\n    smooth = c;\n  }\n  N = N ? +N : 1000;\n  alpha = alpha || 0.05;\n\n  bs = gen.random.bootstrap(X, smooth);\n  for (i=0, means = Array(N); i<N; ++i) {\n    means[i] = stats.mean(bs.samples(X.length));\n  }\n  means.sort(util.numcmp);\n  return [\n    stats.quantile(means, alpha/2),\n    stats.quantile(means, 1-(alpha/2))\n  ];\n};\n\n// Namespace for z-tests\nstats.z = {};\n\n// Construct a z-confidence interval at a given significance level\n// Arguments are an array and an optional alpha (defaults to 0.05).\nstats.z.ci = function(values, a, b) {\n  var X = values, alpha = a;\n  if (util.isFunction(a) || util.isString(a)) {\n    X = values.map(util.$(a));\n    alpha = b;\n  }\n  alpha = alpha || 0.05;\n\n  var z = alpha===0.05 ? 1.96 : gen.random.normal(0, 1).icdf(1-(alpha/2)),\n      mu = stats.mean(X),\n      SE = stats.stdev(X) / Math.sqrt(stats.count.valid(X));\n  return [mu - (z*SE), mu + (z*SE)];\n};\n\n// Perform a z-test of means. Returns the p-value.\n// If a single array is provided, performs a one-sample location test.\n// If two arrays or a table and two accessors are provided, performs\n// a two-sample location test. A paired test is performed if specified\n// by the options hash.\n// The options hash format is: {paired: boolean, nullh: number}.\n// http://en.wikipedia.org/wiki/Z-test\n// http://en.wikipedia.org/wiki/Paired_difference_test\nstats.z.test = function(values, a, b, opt) {\n  if (util.isFunction(b) || util.isString(b)) { // table and accessors\n    return (opt && opt.paired ? ztestP : ztest2)(opt, values, a, b);\n  } else if (util.isArray(a)) { // two arrays\n    return (b && b.paired ? ztestP : ztest2)(b, values, a);\n  } else if (util.isFunction(a) || util.isString(a)) {\n    return ztest1(b, values, a); // table and accessor\n  } else {\n    return ztest1(a, values); // one array\n  }\n};\n\n// Perform a z-test of means. Returns the p-value.\n// Assuming we have a list of values, and a null hypothesis. If no null\n// hypothesis, assume our null hypothesis is mu=0.\nfunction ztest1(opt, X, f) {\n  var nullH = opt && opt.nullh || 0,\n      gaussian = gen.random.normal(0, 1),\n      mu = stats.mean(X,f),\n      SE = stats.stdev(X,f) / Math.sqrt(stats.count.valid(X,f));\n\n  if (SE===0) {\n    // Test not well defined when standard error is 0.\n    return (mu - nullH) === 0 ? 1 : 0;\n  }\n  // Two-sided, so twice the one-sided cdf.\n  var z = (mu - nullH) / SE;\n  return 2 * gaussian.cdf(-Math.abs(z));\n}\n\n// Perform a two sample paired z-test of means. Returns the p-value.\nfunction ztestP(opt, values, a, b) {\n  var X = b ? values.map(util.$(a)) : values,\n      Y = b ? values.map(util.$(b)) : a,\n      n1 = stats.count(X),\n      n2 = stats.count(Y),\n      diffs = Array(), i;\n\n  if (n1 !== n2) {\n    throw Error('Array lengths must match.');\n  }\n  for (i=0; i<n1; ++i) {\n    // Only valid differences should contribute to the test statistic\n    if (util.isValid(X[i]) && util.isValid(Y[i])) {\n      diffs.push(X[i] - Y[i]);\n    }\n  }\n  return stats.z.test(diffs, opt && opt.nullh || 0);\n}\n\n// Perform a two sample z-test of means. Returns the p-value.\nfunction ztest2(opt, values, a, b) {\n  var X = b ? values.map(util.$(a)) : values,\n      Y = b ? values.map(util.$(b)) : a,\n      n1 = stats.count.valid(X),\n      n2 = stats.count.valid(Y),\n      gaussian = gen.random.normal(0, 1),\n      meanDiff = stats.mean(X) - stats.mean(Y) - (opt && opt.nullh || 0),\n      SE = Math.sqrt(stats.variance(X)/n1 + stats.variance(Y)/n2);\n\n  if (SE===0) {\n    // Not well defined when pooled standard error is 0.\n    return meanDiff===0 ? 1 : 0;\n  }\n  // Two-tailed, so twice the one-sided cdf.\n  var z = meanDiff / SE;\n  return 2 * gaussian.cdf(-Math.abs(z));\n}\n\n// Construct a mean-centered distance matrix for an array of numbers.\nstats.dist.mat = function(X) {\n  var n = X.length,\n      m = n*n,\n      A = Array(m),\n      R = gen.zeros(n),\n      M = 0, v, i, j;\n\n  for (i=0; i<n; ++i) {\n    A[i*n+i] = 0;\n    for (j=i+1; j<n; ++j) {\n      A[i*n+j] = (v = Math.abs(X[i] - X[j]));\n      A[j*n+i] = v;\n      R[i] += v;\n      R[j] += v;\n    }\n  }\n\n  for (i=0; i<n; ++i) {\n    M += R[i];\n    R[i] /= n;\n  }\n  M /= m;\n\n  for (i=0; i<n; ++i) {\n    for (j=i; j<n; ++j) {\n      A[i*n+j] += M - R[i] - R[j];\n      A[j*n+i] = A[i*n+j];\n    }\n  }\n\n  return A;\n};\n\n// Compute the Shannon entropy (log base 2) of an array of counts.\nstats.entropy = function(counts, f) {\n  f = util.$(f);\n  var i, p, s = 0, H = 0, n = counts.length;\n  for (i=0; i<n; ++i) {\n    s += (f ? f(counts[i]) : counts[i]);\n  }\n  if (s === 0) return 0;\n  for (i=0; i<n; ++i) {\n    p = (f ? f(counts[i]) : counts[i]) / s;\n    if (p) H += p * Math.log(p);\n  }\n  return -H / Math.LN2;\n};\n\n// Compute the mutual information between two discrete variables.\n// Returns an array of the form [MI, MI_distance]\n// MI_distance is defined as 1 - I(a,b) / H(a,b).\n// http://en.wikipedia.org/wiki/Mutual_information\nstats.mutual = function(values, a, b, counts) {\n  var x = counts ? values.map(util.$(a)) : values,\n      y = counts ? values.map(util.$(b)) : a,\n      z = counts ? values.map(util.$(counts)) : b;\n\n  var px = {},\n      py = {},\n      n = z.length,\n      s = 0, I = 0, H = 0, p, t, i;\n\n  for (i=0; i<n; ++i) {\n    px[x[i]] = 0;\n    py[y[i]] = 0;\n  }\n\n  for (i=0; i<n; ++i) {\n    px[x[i]] += z[i];\n    py[y[i]] += z[i];\n    s += z[i];\n  }\n\n  t = 1 / (s * Math.LN2);\n  for (i=0; i<n; ++i) {\n    if (z[i] === 0) continue;\n    p = (s * z[i]) / (px[x[i]] * py[y[i]]);\n    I += z[i] * t * Math.log(p);\n    H += z[i] * t * Math.log(z[i]/s);\n  }\n\n  return [I, 1 + I/H];\n};\n\n// Compute the mutual information between two discrete variables.\nstats.mutual.info = function(values, a, b, counts) {\n  return stats.mutual(values, a, b, counts)[0];\n};\n\n// Compute the mutual information distance between two discrete variables.\n// MI_distance is defined as 1 - I(a,b) / H(a,b).\nstats.mutual.dist = function(values, a, b, counts) {\n  return stats.mutual(values, a, b, counts)[1];\n};\n\n// Compute a profile of summary statistics for a variable.\nstats.profile = function(values, f) {\n  var mean = 0,\n      valid = 0,\n      missing = 0,\n      distinct = 0,\n      min = null,\n      max = null,\n      M2 = 0,\n      vals = [],\n      u = {}, delta, sd, i, v, x;\n\n  // compute summary stats\n  for (i=0; i<values.length; ++i) {\n    v = f ? f(values[i]) : values[i];\n\n    // update unique values\n    u[v] = (v in u) ? u[v] + 1 : (distinct += 1, 1);\n\n    if (v == null) {\n      ++missing;\n    } else if (util.isValid(v)) {\n      // update stats\n      x = (typeof v === 'string') ? v.length : v;\n      if (min===null || x < min) min = x;\n      if (max===null || x > max) max = x;\n      delta = x - mean;\n      mean = mean + delta / (++valid);\n      M2 = M2 + delta * (x - mean);\n      vals.push(x);\n    }\n  }\n  M2 = M2 / (valid - 1);\n  sd = Math.sqrt(M2);\n\n  // sort values for median and iqr\n  vals.sort(util.cmp);\n\n  return {\n    type:     type(values, f),\n    unique:   u,\n    count:    values.length,\n    valid:    valid,\n    missing:  missing,\n    distinct: distinct,\n    min:      min,\n    max:      max,\n    mean:     mean,\n    stdev:    sd,\n    median:   (v = stats.quantile(vals, 0.5)),\n    q1:       stats.quantile(vals, 0.25),\n    q3:       stats.quantile(vals, 0.75),\n    modeskew: sd === 0 ? 0 : (mean - v) / sd\n  };\n};\n\n// Compute profiles for all variables in a data set.\nstats.summary = function(data, fields) {\n  fields = fields || util.keys(data[0]);\n  var s = fields.map(function(f) {\n    var p = stats.profile(data, util.$(f));\n    return (p.field = f, p);\n  });\n  return (s.__summary__ = true, s);\n};\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define('d3-time', ['exports'], factory) :\n  factory((global.d3_time = {}));\n}(this, function (exports) { 'use strict';\n\n  var t0 = new Date;\n  var t1 = new Date;\n  function newInterval(floori, offseti, count, field) {\n\n    function interval(date) {\n      return floori(date = new Date(+date)), date;\n    }\n\n    interval.floor = interval;\n\n    interval.round = function(date) {\n      var d0 = new Date(+date),\n          d1 = new Date(date - 1);\n      floori(d0), floori(d1), offseti(d1, 1);\n      return date - d0 < d1 - date ? d0 : d1;\n    };\n\n    interval.ceil = function(date) {\n      return floori(date = new Date(date - 1)), offseti(date, 1), date;\n    };\n\n    interval.offset = function(date, step) {\n      return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n    };\n\n    interval.range = function(start, stop, step) {\n      var range = [];\n      start = new Date(start - 1);\n      stop = new Date(+stop);\n      step = step == null ? 1 : Math.floor(step);\n      if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n      offseti(start, 1), floori(start);\n      if (start < stop) range.push(new Date(+start));\n      while (offseti(start, step), floori(start), start < stop) range.push(new Date(+start));\n      return range;\n    };\n\n    interval.filter = function(test) {\n      return newInterval(function(date) {\n        while (floori(date), !test(date)) date.setTime(date - 1);\n      }, function(date, step) {\n        while (--step >= 0) while (offseti(date, 1), !test(date));\n      });\n    };\n\n    if (count) {\n      interval.count = function(start, end) {\n        t0.setTime(+start), t1.setTime(+end);\n        floori(t0), floori(t1);\n        return Math.floor(count(t0, t1));\n      };\n\n      interval.every = function(step) {\n        step = Math.floor(step);\n        return !isFinite(step) || !(step > 0) ? null\n            : !(step > 1) ? interval\n            : interval.filter(field\n                ? function(d) { return field(d) % step === 0; }\n                : function(d) { return interval.count(0, d) % step === 0; });\n      };\n    }\n\n    return interval;\n  };\n\n  var millisecond = newInterval(function() {\n    // noop\n  }, function(date, step) {\n    date.setTime(+date + step);\n  }, function(start, end) {\n    return end - start;\n  });\n\n  // An optimized implementation for this simple case.\n  millisecond.every = function(k) {\n    k = Math.floor(k);\n    if (!isFinite(k) || !(k > 0)) return null;\n    if (!(k > 1)) return millisecond;\n    return newInterval(function(date) {\n      date.setTime(Math.floor(date / k) * k);\n    }, function(date, step) {\n      date.setTime(+date + step * k);\n    }, function(start, end) {\n      return (end - start) / k;\n    });\n  };\n\n  var second = newInterval(function(date) {\n    date.setMilliseconds(0);\n  }, function(date, step) {\n    date.setTime(+date + step * 1e3);\n  }, function(start, end) {\n    return (end - start) / 1e3;\n  }, function(date) {\n    return date.getSeconds();\n  });\n\n  var minute = newInterval(function(date) {\n    date.setSeconds(0, 0);\n  }, function(date, step) {\n    date.setTime(+date + step * 6e4);\n  }, function(start, end) {\n    return (end - start) / 6e4;\n  }, function(date) {\n    return date.getMinutes();\n  });\n\n  var hour = newInterval(function(date) {\n    date.setMinutes(0, 0, 0);\n  }, function(date, step) {\n    date.setTime(+date + step * 36e5);\n  }, function(start, end) {\n    return (end - start) / 36e5;\n  }, function(date) {\n    return date.getHours();\n  });\n\n  var day = newInterval(function(date) {\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * 6e4) / 864e5;\n  }, function(date) {\n    return date.getDate() - 1;\n  });\n\n  function weekday(i) {\n    return newInterval(function(date) {\n      date.setHours(0, 0, 0, 0);\n      date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    }, function(date, step) {\n      date.setDate(date.getDate() + step * 7);\n    }, function(start, end) {\n      return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * 6e4) / 6048e5;\n    });\n  }\n\n  var sunday = weekday(0);\n  var monday = weekday(1);\n  var tuesday = weekday(2);\n  var wednesday = weekday(3);\n  var thursday = weekday(4);\n  var friday = weekday(5);\n  var saturday = weekday(6);\n\n  var month = newInterval(function(date) {\n    date.setHours(0, 0, 0, 0);\n    date.setDate(1);\n  }, function(date, step) {\n    date.setMonth(date.getMonth() + step);\n  }, function(start, end) {\n    return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n  }, function(date) {\n    return date.getMonth();\n  });\n\n  var year = newInterval(function(date) {\n    date.setHours(0, 0, 0, 0);\n    date.setMonth(0, 1);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step);\n  }, function(start, end) {\n    return end.getFullYear() - start.getFullYear();\n  }, function(date) {\n    return date.getFullYear();\n  });\n\n  var utcSecond = newInterval(function(date) {\n    date.setUTCMilliseconds(0);\n  }, function(date, step) {\n    date.setTime(+date + step * 1e3);\n  }, function(start, end) {\n    return (end - start) / 1e3;\n  }, function(date) {\n    return date.getUTCSeconds();\n  });\n\n  var utcMinute = newInterval(function(date) {\n    date.setUTCSeconds(0, 0);\n  }, function(date, step) {\n    date.setTime(+date + step * 6e4);\n  }, function(start, end) {\n    return (end - start) / 6e4;\n  }, function(date) {\n    return date.getUTCMinutes();\n  });\n\n  var utcHour = newInterval(function(date) {\n    date.setUTCMinutes(0, 0, 0);\n  }, function(date, step) {\n    date.setTime(+date + step * 36e5);\n  }, function(start, end) {\n    return (end - start) / 36e5;\n  }, function(date) {\n    return date.getUTCHours();\n  });\n\n  var utcDay = newInterval(function(date) {\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step);\n  }, function(start, end) {\n    return (end - start) / 864e5;\n  }, function(date) {\n    return date.getUTCDate() - 1;\n  });\n\n  function utcWeekday(i) {\n    return newInterval(function(date) {\n      date.setUTCHours(0, 0, 0, 0);\n      date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    }, function(date, step) {\n      date.setUTCDate(date.getUTCDate() + step * 7);\n    }, function(start, end) {\n      return (end - start) / 6048e5;\n    });\n  }\n\n  var utcSunday = utcWeekday(0);\n  var utcMonday = utcWeekday(1);\n  var utcTuesday = utcWeekday(2);\n  var utcWednesday = utcWeekday(3);\n  var utcThursday = utcWeekday(4);\n  var utcFriday = utcWeekday(5);\n  var utcSaturday = utcWeekday(6);\n\n  var utcMonth = newInterval(function(date) {\n    date.setUTCHours(0, 0, 0, 0);\n    date.setUTCDate(1);\n  }, function(date, step) {\n    date.setUTCMonth(date.getUTCMonth() + step);\n  }, function(start, end) {\n    return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n  }, function(date) {\n    return date.getUTCMonth();\n  });\n\n  var utcYear = newInterval(function(date) {\n    date.setUTCHours(0, 0, 0, 0);\n    date.setUTCMonth(0, 1);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step);\n  }, function(start, end) {\n    return end.getUTCFullYear() - start.getUTCFullYear();\n  }, function(date) {\n    return date.getUTCFullYear();\n  });\n\n  var milliseconds = millisecond.range;\n  var seconds = second.range;\n  var minutes = minute.range;\n  var hours = hour.range;\n  var days = day.range;\n  var sundays = sunday.range;\n  var mondays = monday.range;\n  var tuesdays = tuesday.range;\n  var wednesdays = wednesday.range;\n  var thursdays = thursday.range;\n  var fridays = friday.range;\n  var saturdays = saturday.range;\n  var weeks = sunday.range;\n  var months = month.range;\n  var years = year.range;\n\n  var utcMillisecond = millisecond;\n  var utcMilliseconds = milliseconds;\n  var utcSeconds = utcSecond.range;\n  var utcMinutes = utcMinute.range;\n  var utcHours = utcHour.range;\n  var utcDays = utcDay.range;\n  var utcSundays = utcSunday.range;\n  var utcMondays = utcMonday.range;\n  var utcTuesdays = utcTuesday.range;\n  var utcWednesdays = utcWednesday.range;\n  var utcThursdays = utcThursday.range;\n  var utcFridays = utcFriday.range;\n  var utcSaturdays = utcSaturday.range;\n  var utcWeeks = utcSunday.range;\n  var utcMonths = utcMonth.range;\n  var utcYears = utcYear.range;\n\n  var version = \"0.1.1\";\n\n  exports.version = version;\n  exports.milliseconds = milliseconds;\n  exports.seconds = seconds;\n  exports.minutes = minutes;\n  exports.hours = hours;\n  exports.days = days;\n  exports.sundays = sundays;\n  exports.mondays = mondays;\n  exports.tuesdays = tuesdays;\n  exports.wednesdays = wednesdays;\n  exports.thursdays = thursdays;\n  exports.fridays = fridays;\n  exports.saturdays = saturdays;\n  exports.weeks = weeks;\n  exports.months = months;\n  exports.years = years;\n  exports.utcMillisecond = utcMillisecond;\n  exports.utcMilliseconds = utcMilliseconds;\n  exports.utcSeconds = utcSeconds;\n  exports.utcMinutes = utcMinutes;\n  exports.utcHours = utcHours;\n  exports.utcDays = utcDays;\n  exports.utcSundays = utcSundays;\n  exports.utcMondays = utcMondays;\n  exports.utcTuesdays = utcTuesdays;\n  exports.utcWednesdays = utcWednesdays;\n  exports.utcThursdays = utcThursdays;\n  exports.utcFridays = utcFridays;\n  exports.utcSaturdays = utcSaturdays;\n  exports.utcWeeks = utcWeeks;\n  exports.utcMonths = utcMonths;\n  exports.utcYears = utcYears;\n  exports.millisecond = millisecond;\n  exports.second = second;\n  exports.minute = minute;\n  exports.hour = hour;\n  exports.day = day;\n  exports.sunday = sunday;\n  exports.monday = monday;\n  exports.tuesday = tuesday;\n  exports.wednesday = wednesday;\n  exports.thursday = thursday;\n  exports.friday = friday;\n  exports.saturday = saturday;\n  exports.week = sunday;\n  exports.month = month;\n  exports.year = year;\n  exports.utcSecond = utcSecond;\n  exports.utcMinute = utcMinute;\n  exports.utcHour = utcHour;\n  exports.utcDay = utcDay;\n  exports.utcSunday = utcSunday;\n  exports.utcMonday = utcMonday;\n  exports.utcTuesday = utcTuesday;\n  exports.utcWednesday = utcWednesday;\n  exports.utcThursday = utcThursday;\n  exports.utcFriday = utcFriday;\n  exports.utcSaturday = utcSaturday;\n  exports.utcWeek = utcSunday;\n  exports.utcMonth = utcMonth;\n  exports.utcYear = utcYear;\n  exports.interval = newInterval;\n\n}));","var d3_time = require('d3-time');\n\nvar tempDate = new Date(),\n    baseDate = new Date(0, 0, 1).setFullYear(0), // Jan 1, 0 AD\n    utcBaseDate = new Date(Date.UTC(0, 0, 1)).setUTCFullYear(0);\n\nfunction date(d) {\n  return (tempDate.setTime(+d), tempDate);\n}\n\n// create a time unit entry\nfunction entry(type, date, unit, step, min, max) {\n  var e = {\n    type: type,\n    date: date,\n    unit: unit\n  };\n  if (step) {\n    e.step = step;\n  } else {\n    e.minstep = 1;\n  }\n  if (min != null) e.min = min;\n  if (max != null) e.max = max;\n  return e;\n}\n\nfunction create(type, unit, base, step, min, max) {\n  return entry(type,\n    function(d) { return unit.offset(base, d); },\n    function(d) { return unit.count(base, d); },\n    step, min, max);\n}\n\nvar locale = [\n  create('second', d3_time.second, baseDate),\n  create('minute', d3_time.minute, baseDate),\n  create('hour',   d3_time.hour,   baseDate),\n  create('day',    d3_time.day,    baseDate, [1, 7]),\n  create('month',  d3_time.month,  baseDate, [1, 3, 6]),\n  create('year',   d3_time.year,   baseDate),\n\n  // periodic units\n  entry('seconds',\n    function(d) { return new Date(1970, 0, 1, 0, 0, d); },\n    function(d) { return date(d).getSeconds(); },\n    null, 0, 59\n  ),\n  entry('minutes',\n    function(d) { return new Date(1970, 0, 1, 0, d); },\n    function(d) { return date(d).getMinutes(); },\n    null, 0, 59\n  ),\n  entry('hours',\n    function(d) { return new Date(1970, 0, 1, d); },\n    function(d) { return date(d).getHours(); },\n    null, 0, 23\n  ),\n  entry('weekdays',\n    function(d) { return new Date(1970, 0, 4+d); },\n    function(d) { return date(d).getDay(); },\n    [1], 0, 6\n  ),\n  entry('dates',\n    function(d) { return new Date(1970, 0, d); },\n    function(d) { return date(d).getDate(); },\n    [1], 1, 31\n  ),\n  entry('months',\n    function(d) { return new Date(1970, d % 12, 1); },\n    function(d) { return date(d).getMonth(); },\n    [1], 0, 11\n  )\n];\n\nvar utc = [\n  create('second', d3_time.utcSecond, utcBaseDate),\n  create('minute', d3_time.utcMinute, utcBaseDate),\n  create('hour',   d3_time.utcHour,   utcBaseDate),\n  create('day',    d3_time.utcDay,    utcBaseDate, [1, 7]),\n  create('month',  d3_time.utcMonth,  utcBaseDate, [1, 3, 6]),\n  create('year',   d3_time.utcYear,   utcBaseDate),\n\n  // periodic units\n  entry('seconds',\n    function(d) { return new Date(Date.UTC(1970, 0, 1, 0, 0, d)); },\n    function(d) { return date(d).getUTCSeconds(); },\n    null, 0, 59\n  ),\n  entry('minutes',\n    function(d) { return new Date(Date.UTC(1970, 0, 1, 0, d)); },\n    function(d) { return date(d).getUTCMinutes(); },\n    null, 0, 59\n  ),\n  entry('hours',\n    function(d) { return new Date(Date.UTC(1970, 0, 1, d)); },\n    function(d) { return date(d).getUTCHours(); },\n    null, 0, 23\n  ),\n  entry('weekdays',\n    function(d) { return new Date(Date.UTC(1970, 0, 4+d)); },\n    function(d) { return date(d).getUTCDay(); },\n    [1], 0, 6\n  ),\n  entry('dates',\n    function(d) { return new Date(Date.UTC(1970, 0, d)); },\n    function(d) { return date(d).getUTCDate(); },\n    [1], 1, 31\n  ),\n  entry('months',\n    function(d) { return new Date(Date.UTC(1970, d % 12, 1)); },\n    function(d) { return date(d).getUTCMonth(); },\n    [1], 0, 11\n  )\n];\n\nvar STEPS = [\n  [31536e6, 5],  // 1-year\n  [7776e6, 4],   // 3-month\n  [2592e6, 4],   // 1-month\n  [12096e5, 3],  // 2-week\n  [6048e5, 3],   // 1-week\n  [1728e5, 3],   // 2-day\n  [864e5, 3],    // 1-day\n  [432e5, 2],    // 12-hour\n  [216e5, 2],    // 6-hour\n  [108e5, 2],    // 3-hour\n  [36e5, 2],     // 1-hour\n  [18e5, 1],     // 30-minute\n  [9e5, 1],      // 15-minute\n  [3e5, 1],      // 5-minute\n  [6e4, 1],      // 1-minute\n  [3e4, 0],      // 30-second\n  [15e3, 0],     // 15-second\n  [5e3, 0],      // 5-second\n  [1e3, 0]       // 1-second\n];\n\nfunction find(units, span, minb, maxb) {\n  var step = STEPS[0], i, n, bins;\n\n  for (i=1, n=STEPS.length; i<n; ++i) {\n    step = STEPS[i];\n    if (span > step[0]) {\n      bins = span / step[0];\n      if (bins > maxb) {\n        return units[STEPS[i-1][1]];\n      }\n      if (bins >= minb) {\n        return units[step[1]];\n      }\n    }\n  }\n  return units[STEPS[n-1][1]];\n}\n\nfunction toUnitMap(units) {\n  var map = {}, i, n;\n  for (i=0, n=units.length; i<n; ++i) {\n    map[units[i].type] = units[i];\n  }\n  map.find = function(span, minb, maxb) {\n    return find(units, span, minb, maxb);\n  };\n  return map;\n}\n\nmodule.exports = toUnitMap(locale);\nmodule.exports.utc = toUnitMap(utc);","var util = require('../util'),\n    time = require('../time'),\n    EPSILON = 1e-15;\n\nfunction bins(opt) {\n  if (!opt) { throw Error(\"Missing binning options.\"); }\n\n  // determine range\n  var maxb = opt.maxbins || 15,\n      base = opt.base || 10,\n      logb = Math.log(base),\n      div = opt.div || [5, 2],\n      min = opt.min,\n      max = opt.max,\n      span = max - min,\n      step, level, minstep, precision, v, i, eps;\n\n  if (opt.step) {\n    // if step size is explicitly given, use that\n    step = opt.step;\n  } else if (opt.steps) {\n    // if provided, limit choice to acceptable step sizes\n    step = opt.steps[Math.min(\n      opt.steps.length - 1,\n      bisect(opt.steps, span/maxb, 0, opt.steps.length)\n    )];\n  } else {\n    // else use span to determine step size\n    level = Math.ceil(Math.log(maxb) / logb);\n    minstep = opt.minstep || 0;\n    step = Math.max(\n      minstep,\n      Math.pow(base, Math.round(Math.log(span) / logb) - level)\n    );\n\n    // increase step size if too many bins\n    while (Math.ceil(span/step) > maxb) { step *= base; }\n\n    // decrease step size if allowed\n    for (i=0; i<div.length; ++i) {\n      v = step / div[i];\n      if (v >= minstep && span / v <= maxb) step = v;\n    }\n  }\n\n  // update precision, min and max\n  v = Math.log(step);\n  precision = v >= 0 ? 0 : ~~(-v / logb) + 1;\n  eps = Math.pow(base, -precision - 1);\n  min = Math.min(min, Math.floor(min / step + eps) * step);\n  max = Math.ceil(max / step) * step;\n\n  return {\n    start: min,\n    stop:  max,\n    step:  step,\n    unit:  {precision: precision},\n    value: value,\n    index: index\n  };\n}\n\nfunction bisect(a, x, lo, hi) {\n  while (lo < hi) {\n    var mid = lo + hi >>> 1;\n    if (util.cmp(a[mid], x) < 0) { lo = mid + 1; }\n    else { hi = mid; }\n  }\n  return lo;\n}\n\nfunction value(v) {\n  return this.step * Math.floor(v / this.step + EPSILON);\n}\n\nfunction index(v) {\n  return Math.floor((v - this.start) / this.step + EPSILON);\n}\n\nfunction date_value(v) {\n  return this.unit.date(value.call(this, v));\n}\n\nfunction date_index(v) {\n  return index.call(this, this.unit.unit(v));\n}\n\nbins.date = function(opt) {\n  if (!opt) { throw Error(\"Missing date binning options.\"); }\n\n  // find time step, then bin\n  var units = opt.utc ? time.utc : time,\n      dmin = opt.min,\n      dmax = opt.max,\n      maxb = opt.maxbins || 20,\n      minb = opt.minbins || 4,\n      span = (+dmax) - (+dmin),\n      unit = opt.unit ? units[opt.unit] : units.find(span, minb, maxb),\n      spec = bins({\n        min:     unit.min != null ? unit.min : unit.unit(dmin),\n        max:     unit.max != null ? unit.max : unit.unit(dmax),\n        maxbins: maxb,\n        minstep: unit.minstep,\n        steps:   unit.step\n      });\n\n  spec.unit = unit;\n  spec.index = date_index;\n  if (!opt.raw) spec.value = date_value;\n  return spec;\n};\n\nmodule.exports = bins;\n","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar type_1 = require(\"vega-lite/build/src/type\");\nvar bin_1 = require(\"vega-lite/build/src/bin\");\nvar timeunit_1 = require(\"vega-lite/build/src/timeunit\");\nvar stats_1 = require(\"datalib/src/stats\");\nvar type_2 = require(\"datalib/src/import/type\");\nvar dlBin_ = require(\"datalib/src/bins/bins\");\nvar encoding_1 = require(\"./query/encoding\");\nvar expandedtype_1 = require(\"./query/expandedtype\");\nvar config_1 = require(\"./config\");\nvar util_1 = require(\"./util\");\nvar dlBin = dlBin_;\n/**\n * Build a Schema object.\n *\n * @param data - a set of raw data in the same format that Vega-Lite / Vega takes\n * Basically, it's an array in the form of:\n *\n * [\n *   {a: 1, b:2},\n *   {a: 2, b:3},\n *   ...\n * ]\n *\n * @return a Schema object\n */\nfunction build(data, opt, tableSchema) {\n    if (opt === void 0) { opt = {}; }\n    if (tableSchema === void 0) { tableSchema = { fields: [] }; }\n    opt = util_1.extend({}, config_1.DEFAULT_QUERY_CONFIG, opt);\n    // create profiles for each variable\n    var summaries = stats_1.summary(data);\n    var types = type_2.inferAll(data); // inferAll does stronger type inference than summary\n    var tableSchemaFieldIndex = tableSchema.fields.reduce(function (m, field) {\n        m[field.name] = field;\n        return m;\n    }, {});\n    var fieldSchemas = summaries.map(function (fieldProfile, index) {\n        var name = fieldProfile.field;\n        // In Table schema, 'date' doesn't include time so use 'datetime'\n        var type = types[name] === 'date' ? PrimitiveType.DATETIME : types[name];\n        var distinct = fieldProfile.distinct;\n        var vlType;\n        if (type === PrimitiveType.NUMBER) {\n            vlType = type_1.Type.QUANTITATIVE;\n        }\n        else if (type === PrimitiveType.INTEGER) {\n            // use ordinal or nominal when cardinality of integer type is relatively low and the distinct values are less than an amount specified in options\n            if ((distinct < opt.numberNominalLimit) && (distinct / fieldProfile.count < opt.numberNominalProportion)) {\n                vlType = type_1.Type.NOMINAL;\n            }\n            else {\n                vlType = type_1.Type.QUANTITATIVE;\n            }\n        }\n        else if (type === PrimitiveType.DATETIME) {\n            vlType = type_1.Type.TEMPORAL;\n            // need to get correct min/max of date data because datalib's summary method does not\n            // calculate this correctly for date types.\n            fieldProfile.min = new Date(data[0][name]);\n            fieldProfile.max = new Date(data[0][name]);\n            for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {\n                var dataEntry = data_1[_i];\n                var time = new Date(dataEntry[name]).getTime();\n                if (time < fieldProfile.min.getTime()) {\n                    fieldProfile.min = new Date(time);\n                }\n                if (time > fieldProfile.max.getTime()) {\n                    fieldProfile.max = new Date(time);\n                }\n            }\n        }\n        else {\n            vlType = type_1.Type.NOMINAL;\n        }\n        if (vlType === type_1.Type.NOMINAL\n            && distinct / fieldProfile.count > opt.minPercentUniqueForKey\n            && fieldProfile.count > opt.minCardinalityForKey) {\n            vlType = expandedtype_1.ExpandedType.KEY;\n        }\n        var fieldSchema = {\n            name: name,\n            // Need to keep original index for re-exporting TableSchema\n            originalIndex: index,\n            vlType: vlType,\n            type: type,\n            stats: fieldProfile,\n            timeStats: {},\n            binStats: {}\n        };\n        // extend field schema with table schema field - if present\n        var orgFieldSchema = tableSchemaFieldIndex[fieldSchema.name];\n        fieldSchema = util_1.extend(fieldSchema, orgFieldSchema);\n        return fieldSchema;\n    });\n    // calculate preset bins for quantitative and temporal data\n    for (var _i = 0, fieldSchemas_1 = fieldSchemas; _i < fieldSchemas_1.length; _i++) {\n        var fieldSchema = fieldSchemas_1[_i];\n        if (fieldSchema.vlType === type_1.Type.QUANTITATIVE) {\n            for (var _a = 0, _b = opt.enum.binProps.maxbins; _a < _b.length; _a++) {\n                var maxbins = _b[_a];\n                fieldSchema.binStats[maxbins] = binSummary(maxbins, fieldSchema.stats);\n            }\n        }\n        else if (fieldSchema.vlType === type_1.Type.TEMPORAL) {\n            for (var _c = 0, _d = opt.enum.timeUnit; _c < _d.length; _c++) {\n                var unit = _d[_c];\n                if (unit !== undefined) {\n                    fieldSchema.timeStats[unit] = timeSummary(unit, fieldSchema.stats);\n                }\n            }\n        }\n    }\n    var derivedTableSchema = __assign({}, tableSchema, { fields: fieldSchemas });\n    return new Schema(derivedTableSchema);\n}\nexports.build = build;\n// order the field schema when we construct a new Schema\n// this orders the fields in the UI\nvar order = {\n    'nominal': 0,\n    'key': 1,\n    'ordinal': 2,\n    'temporal': 3,\n    'quantitative': 4\n};\nvar Schema = /** @class */ (function () {\n    function Schema(tableSchema) {\n        this._tableSchema = tableSchema;\n        tableSchema.fields.sort(function (a, b) {\n            // first order by vlType: nominal < temporal < quantitative < ordinal\n            if (order[a.vlType] < order[b.vlType]) {\n                return -1;\n            }\n            else if (order[a.vlType] > order[b.vlType]) {\n                return 1;\n            }\n            else {\n                // then order by field (alphabetically)\n                return a.name.localeCompare(b.name);\n            }\n        });\n        // Add index for sorting\n        tableSchema.fields.forEach(function (fieldSchema, index) { return fieldSchema.index = index; });\n        this._fieldSchemaIndex = tableSchema.fields.reduce(function (m, fieldSchema) {\n            m[fieldSchema.name] = fieldSchema;\n            return m;\n        }, {});\n    }\n    /** @return a list of the field names (for enumerating). */\n    Schema.prototype.fieldNames = function () {\n        return this._tableSchema.fields.map(function (fieldSchema) { return fieldSchema.name; });\n    };\n    Object.defineProperty(Schema.prototype, \"fieldSchemas\", {\n        /** @return a list of FieldSchemas */\n        get: function () {\n            return this._tableSchema.fields;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Schema.prototype.fieldSchema = function (fieldName) {\n        return this._fieldSchemaIndex[fieldName];\n    };\n    Schema.prototype.tableSchema = function () {\n        // the fieldschemas are re-arranged\n        // but this is not allowed in table schema.\n        // so we will re-order based on original index.\n        var tableSchema = util_1.duplicate(this._tableSchema);\n        tableSchema.fields.sort(function (a, b) { return a.originalIndex - b.originalIndex; });\n        return tableSchema;\n    };\n    /**\n     * @return primitive type of the field if exist, otherwise return null\n     */\n    Schema.prototype.primitiveType = function (fieldName) {\n        return this._fieldSchemaIndex[fieldName] ? this._fieldSchemaIndex[fieldName].type : null;\n    };\n    /**\n     * @return vlType of measturement of the field if exist, otherwise return null\n     */\n    Schema.prototype.vlType = function (fieldName) {\n        return this._fieldSchemaIndex[fieldName] ? this._fieldSchemaIndex[fieldName].vlType : null;\n    };\n    /** @return cardinality of the field associated with encQ, null if it doesn't exist.\n     *  @param augmentTimeUnitDomain - TimeUnit field domains will not be augmented if explicitly set to false.\n     */\n    Schema.prototype.cardinality = function (fieldQ, augmentTimeUnitDomain, excludeInvalid) {\n        if (augmentTimeUnitDomain === void 0) { augmentTimeUnitDomain = true; }\n        if (excludeInvalid === void 0) { excludeInvalid = false; }\n        var fieldSchema = this._fieldSchemaIndex[fieldQ.field];\n        if (fieldQ.aggregate || (encoding_1.isAutoCountQuery(fieldQ) && fieldQ.autoCount)) {\n            return 1;\n        }\n        else if (fieldQ.bin) {\n            // encQ.bin will either be a boolean or a BinQuery\n            var bin = void 0;\n            if (typeof fieldQ.bin === 'boolean') {\n                // autoMaxBins defaults to 10 if channel is Wildcard\n                bin = {\n                    maxbins: bin_1.autoMaxBins(fieldQ.channel)\n                };\n            }\n            else if (fieldQ.bin === '?') {\n                bin = {\n                    enum: [true, false]\n                };\n            }\n            else {\n                bin = fieldQ.bin;\n            }\n            var maxbins = bin.maxbins;\n            if (!fieldSchema.binStats[maxbins]) {\n                // need to calculate\n                fieldSchema.binStats[maxbins] = binSummary(maxbins, fieldSchema.stats);\n            }\n            // don't need to worry about excludeInvalid here because invalid values don't affect linearly binned field's cardinality\n            return fieldSchema.binStats[maxbins].distinct;\n        }\n        else if (fieldQ.timeUnit) {\n            if (augmentTimeUnitDomain) {\n                switch (fieldQ.timeUnit) {\n                    // TODO: this should not always be the case once Vega-Lite supports turning off domain augmenting (VL issue #1385)\n                    case timeunit_1.TimeUnit.SECONDS: return 60;\n                    case timeunit_1.TimeUnit.MINUTES: return 60;\n                    case timeunit_1.TimeUnit.HOURS: return 24;\n                    case timeunit_1.TimeUnit.DAY: return 7;\n                    case timeunit_1.TimeUnit.DATE: return 31;\n                    case timeunit_1.TimeUnit.MONTH: return 12;\n                    case timeunit_1.TimeUnit.QUARTER: return 4;\n                    case timeunit_1.TimeUnit.MILLISECONDS: return 1000;\n                }\n            }\n            var unit = fieldQ.timeUnit;\n            var timeStats = fieldSchema.timeStats;\n            // if the cardinality for the timeUnit is not cached, calculate it\n            if (!timeStats || !timeStats[unit]) {\n                timeStats = __assign({}, timeStats, (_a = {}, _a[unit] = timeSummary(fieldQ.timeUnit, fieldSchema.stats), _a));\n            }\n            if (excludeInvalid) {\n                return timeStats[unit].distinct - invalidCount(timeStats[unit].unique, ['Invalid Date', null]);\n            }\n            else {\n                return timeStats[unit].distinct;\n            }\n        }\n        else {\n            if (fieldSchema) {\n                if (excludeInvalid) {\n                    return fieldSchema.stats.distinct - invalidCount(fieldSchema.stats.unique, [NaN, null]);\n                }\n                else {\n                    return fieldSchema.stats.distinct;\n                }\n            }\n            else {\n                return null;\n            }\n        }\n        var _a;\n    };\n    /**\n     * Given an EncodingQuery with a timeUnit, returns true if the date field\n     * has multiple distinct values for all parts of the timeUnit. Returns undefined\n     * if the timeUnit is undefined.\n     * i.e.\n     * ('yearmonth', [Jan 1 2000, Feb 2 2000] returns false)\n     * ('yearmonth', [Jan 1 2000, Feb 2 2001] returns true)\n     */\n    Schema.prototype.timeUnitHasVariation = function (fieldQ) {\n        if (!fieldQ.timeUnit) {\n            return;\n        }\n        // if there is no variation in `date`, there should not be variation in `day`\n        if (fieldQ.timeUnit === timeunit_1.TimeUnit.DAY) {\n            var dateEncQ = util_1.extend({}, fieldQ, { timeUnit: timeunit_1.TimeUnit.DATE });\n            if (this.cardinality(dateEncQ, false, true) <= 1) {\n                return false;\n            }\n        }\n        var fullTimeUnit = fieldQ.timeUnit;\n        for (var _i = 0, TIMEUNIT_PARTS_1 = timeunit_1.TIMEUNIT_PARTS; _i < TIMEUNIT_PARTS_1.length; _i++) {\n            var timeUnitPart = TIMEUNIT_PARTS_1[_i];\n            if (timeunit_1.containsTimeUnit(fullTimeUnit, timeUnitPart)) {\n                // Create a clone of encQ, but with singleTimeUnit\n                var singleUnitEncQ = util_1.extend({}, fieldQ, { timeUnit: timeUnitPart });\n                if (this.cardinality(singleUnitEncQ, false, true) <= 1) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    Schema.prototype.domain = function (fieldQueryParts) {\n        // TODO: differentiate for field with bin / timeUnit\n        var fieldSchema = this._fieldSchemaIndex[fieldQueryParts.field];\n        var domain = util_1.keys(fieldSchema.stats.unique);\n        if (fieldSchema.vlType === type_1.Type.QUANTITATIVE) {\n            // return [min, max], coerced into number types\n            return [+fieldSchema.stats.min, +fieldSchema.stats.max];\n        }\n        else if (fieldSchema.type === PrimitiveType.DATETIME) {\n            // return [min, max] dates\n            return [fieldSchema.stats.min, fieldSchema.stats.max];\n        }\n        else if (fieldSchema.type === PrimitiveType.INTEGER ||\n            fieldSchema.type === PrimitiveType.NUMBER) {\n            // coerce non-quantitative numerical data into number type\n            domain = domain.map(function (x) { return +x; });\n            return domain.sort(util_1.cmp);\n        }\n        else if ((fieldSchema.vlType === type_1.Type.ORDINAL) && fieldSchema.ordinalDomain) {\n            return fieldSchema.ordinalDomain;\n        }\n        return domain.map(function (x) {\n            // Convert 'null' to null as it is encoded similarly in datalib.\n            // This is wrong when it is a string 'null' but that rarely happens.\n            return x === 'null' ? null : x;\n        }).sort(util_1.cmp);\n    };\n    /**\n     * @return a Summary corresponding to the field of the given EncodingQuery\n     */\n    Schema.prototype.stats = function (fieldQ) {\n        // TODO: differentiate for field with bin / timeUnit vs without\n        var fieldSchema = this._fieldSchemaIndex[fieldQ.field];\n        return fieldSchema ? fieldSchema.stats : null;\n    };\n    return Schema;\n}());\nexports.Schema = Schema;\n/**\n * @return a summary of the binning scheme determined from the given max number of bins\n */\nfunction binSummary(maxbins, summary) {\n    var bin = dlBin({\n        min: summary.min,\n        max: summary.max,\n        maxbins: maxbins\n    });\n    // start with summary, pre-binning\n    var result = util_1.extend({}, summary);\n    result.unique = binUnique(bin, summary.unique);\n    result.distinct = (bin.stop - bin.start) / bin.step;\n    result.min = bin.start;\n    result.max = bin.stop;\n    return result;\n}\n/** @return a modified version of the passed summary with unique and distinct set according to the timeunit.\n *  Maps 'null' (string) keys to the null value and invalid dates to 'Invalid Date' in the unique dictionary.\n */\nfunction timeSummary(timeunit, summary) {\n    var result = util_1.extend({}, summary);\n    var unique = {};\n    util_1.keys(summary.unique).forEach(function (dateString) {\n        // don't convert null value because the Date constructor will actually convert it to a date\n        var date = (dateString === 'null') ? null : new Date(dateString);\n        // at this point, `date` is either the null value, a valid Date object, or \"Invalid Date\" which is a Date\n        var key;\n        if (date === null) {\n            key = null;\n        }\n        else if (isNaN(date.getTime())) {\n            key = 'Invalid Date';\n        }\n        else {\n            key = ((timeunit === timeunit_1.TimeUnit.DAY) ? date.getDay() : timeunit_1.convert(timeunit, date)).toString();\n        }\n        unique[key] = (unique[key] || 0) + summary.unique[dateString];\n    });\n    result.unique = unique;\n    result.distinct = util_1.keys(unique).length;\n    return result;\n}\n/**\n * @return a new unique object based off of the old unique count and a binning scheme\n */\nfunction binUnique(bin, oldUnique) {\n    var newUnique = {};\n    for (var value in oldUnique) {\n        var bucket = void 0;\n        if (value === null) {\n            bucket = null;\n        }\n        else if (isNaN(Number(value))) {\n            bucket = NaN;\n        }\n        else {\n            bucket = bin.value(Number(value));\n        }\n        newUnique[bucket] = (newUnique[bucket] || 0) + oldUnique[value];\n    }\n    return newUnique;\n}\n/** @return the number of items in list that occur as keys of unique */\nfunction invalidCount(unique, list) {\n    return list.reduce(function (prev, cur) {\n        return unique[cur] ? prev + 1 : prev;\n    }, 0);\n}\nvar PrimitiveType;\n(function (PrimitiveType) {\n    PrimitiveType[PrimitiveType[\"STRING\"] = 'string'] = \"STRING\";\n    PrimitiveType[PrimitiveType[\"NUMBER\"] = 'number'] = \"NUMBER\";\n    PrimitiveType[PrimitiveType[\"INTEGER\"] = 'integer'] = \"INTEGER\";\n    PrimitiveType[PrimitiveType[\"BOOLEAN\"] = 'boolean'] = \"BOOLEAN\";\n    PrimitiveType[PrimitiveType[\"DATETIME\"] = 'datetime'] = \"DATETIME\";\n})(PrimitiveType = exports.PrimitiveType || (exports.PrimitiveType = {}));\n//# sourceMappingURL=schema.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar property_1 = require(\"../property\");\nvar wildcard_1 = require(\"../wildcard\");\nvar util_1 = require(\"../util\");\n/**\n * Abstract model for a constraint.\n */\nvar AbstractConstraintModel = /** @class */ (function () {\n    function AbstractConstraintModel(constraint) {\n        this.constraint = constraint;\n    }\n    AbstractConstraintModel.prototype.name = function () {\n        return this.constraint.name;\n    };\n    AbstractConstraintModel.prototype.description = function () {\n        return this.constraint.description;\n    };\n    AbstractConstraintModel.prototype.properties = function () {\n        return this.constraint.properties;\n    };\n    AbstractConstraintModel.prototype.strict = function () {\n        return this.constraint.strict;\n    };\n    return AbstractConstraintModel;\n}());\nexports.AbstractConstraintModel = AbstractConstraintModel;\nvar EncodingConstraintModel = /** @class */ (function (_super) {\n    __extends(EncodingConstraintModel, _super);\n    function EncodingConstraintModel(constraint) {\n        return _super.call(this, constraint) || this;\n    }\n    EncodingConstraintModel.prototype.hasAllRequiredPropertiesSpecific = function (encQ) {\n        return util_1.every(this.constraint.properties, function (prop) {\n            if (property_1.isEncodingNestedProp(prop)) {\n                var parent_1 = prop.parent;\n                var child = prop.child;\n                if (!encQ[parent_1]) {\n                    return true;\n                }\n                return !wildcard_1.isWildcard(encQ[parent_1][child]);\n            }\n            if (!encQ[prop]) {\n                return true;\n            }\n            return !wildcard_1.isWildcard(encQ[prop]);\n        });\n    };\n    EncodingConstraintModel.prototype.satisfy = function (encQ, schema, encWildcardIndex, opt) {\n        // TODO: Re-order logic to optimize the \"allowWildcardForProperties\" check\n        if (!this.constraint.allowWildcardForProperties) {\n            // TODO: extract as a method and do unit test\n            if (!this.hasAllRequiredPropertiesSpecific(encQ)) {\n                return true;\n            }\n        }\n        return this.constraint.satisfy(encQ, schema, encWildcardIndex, opt);\n    };\n    return EncodingConstraintModel;\n}(AbstractConstraintModel));\nexports.EncodingConstraintModel = EncodingConstraintModel;\n//# sourceMappingURL=base.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar channel_1 = require(\"vega-lite/build/src/channel\");\nvar fielddef_1 = require(\"vega-lite/build/src/fielddef\");\nvar scale_1 = require(\"vega-lite/build/src/scale\");\nvar type_1 = require(\"vega-lite/build/src/type\");\nvar expandedtype_1 = require(\"../query/expandedtype\");\nvar property_1 = require(\"../property\");\nvar propindex_1 = require(\"../propindex\");\nvar wildcard_1 = require(\"../wildcard\");\nvar schema_1 = require(\"../schema\");\nvar util_1 = require(\"../util\");\nvar encoding_1 = require(\"../query/encoding\");\nvar base_1 = require(\"./base\");\nexports.FIELD_CONSTRAINTS = [\n    {\n        name: 'aggregateOpSupportedByType',\n        description: 'Aggregate function should be supported by data type.',\n        properties: [property_1.Property.TYPE, property_1.Property.AGGREGATE],\n        allowWildcardForProperties: false,\n        strict: true,\n        satisfy: function (fieldQ, _, __, ___) {\n            if (fieldQ.aggregate) {\n                return !expandedtype_1.isDiscrete(fieldQ.type);\n            }\n            // TODO: some aggregate function are actually supported by ordinal\n            return true; // no aggregate is okay with any type.\n        }\n    }, {\n        name: 'asteriskFieldWithCountOnly',\n        description: 'Field=\"*\" should be disallowed except aggregate=\"count\"',\n        properties: [property_1.Property.FIELD, property_1.Property.AGGREGATE],\n        allowWildcardForProperties: false,\n        strict: true,\n        satisfy: function (fieldQ, _, __, ___) {\n            return (fieldQ.field === '*') === (fieldQ.aggregate === 'count');\n        }\n    }, {\n        name: 'minCardinalityForBin',\n        description: 'binned quantitative field should not have too low cardinality',\n        properties: [property_1.Property.BIN, property_1.Property.FIELD, property_1.Property.TYPE],\n        allowWildcardForProperties: false,\n        strict: true,\n        satisfy: function (fieldQ, schema, _, opt) {\n            if (fieldQ.bin && fieldQ.type === type_1.Type.QUANTITATIVE) {\n                // We remove bin so schema can infer the raw unbinned cardinality.\n                var fieldQwithoutBin = { channel: fieldQ.channel, field: fieldQ.field, type: fieldQ.type };\n                return schema.cardinality(fieldQwithoutBin) >= opt.minCardinalityForBin;\n            }\n            return true;\n        }\n    }, {\n        name: 'binAppliedForQuantitative',\n        description: 'bin should be applied to quantitative field only.',\n        properties: [property_1.Property.TYPE, property_1.Property.BIN],\n        allowWildcardForProperties: false,\n        strict: true,\n        satisfy: function (fieldQ, _, __, ___) {\n            if (fieldQ.bin) {\n                // If binned, the type must be quantitative\n                return fieldQ.type === type_1.Type.QUANTITATIVE;\n            }\n            return true;\n        }\n    }, {\n        name: 'channelFieldCompatible',\n        description: \"encoding channel's range type be compatible with channel type.\",\n        properties: [property_1.Property.CHANNEL, property_1.Property.TYPE, property_1.Property.BIN, property_1.Property.TIMEUNIT],\n        allowWildcardForProperties: false,\n        strict: true,\n        satisfy: function (fieldQ, schema, encWildcardIndex, opt) {\n            var fieldDef = __assign({ field: 'f' }, encoding_1.toFieldDef(fieldQ, { schema: schema, props: ['bin', 'timeUnit', 'type'] }));\n            return fielddef_1.channelCompatibility(fieldDef, fieldQ.channel).compatible;\n        }\n    }, {\n        name: 'hasFn',\n        description: 'A field with as hasFn flag should have one of aggregate, timeUnit, or bin.',\n        properties: [property_1.Property.AGGREGATE, property_1.Property.BIN, property_1.Property.TIMEUNIT],\n        allowWildcardForProperties: true,\n        strict: true,\n        satisfy: function (fieldQ, _, __, ___) {\n            if (fieldQ.hasFn) {\n                return !!fieldQ.aggregate || !!fieldQ.bin || !!fieldQ.timeUnit;\n            }\n            return true;\n        }\n    }, {\n        name: 'omitScaleZeroWithBinnedField',\n        description: 'Do not use scale zero with binned field',\n        properties: [property_1.Property.SCALE, property_1.getEncodingNestedProp('scale', 'zero'), property_1.Property.BIN],\n        allowWildcardForProperties: false,\n        strict: true,\n        satisfy: function (fieldQ, _, __, ___) {\n            if (fieldQ.bin && fieldQ.scale) {\n                if (fieldQ.scale.zero === true) {\n                    return false;\n                }\n            }\n            return true;\n        }\n    }, {\n        name: 'onlyOneTypeOfFunction',\n        description: 'Only of of aggregate, autoCount, timeUnit, or bin should be applied at the same time.',\n        properties: [property_1.Property.AGGREGATE, property_1.Property.AUTOCOUNT, property_1.Property.TIMEUNIT, property_1.Property.BIN],\n        allowWildcardForProperties: true,\n        strict: true,\n        satisfy: function (fieldQ, _, __, ___) {\n            if (encoding_1.isFieldQuery(fieldQ)) {\n                var numFn = (!wildcard_1.isWildcard(fieldQ.aggregate) && !!fieldQ.aggregate ? 1 : 0) +\n                    (!wildcard_1.isWildcard(fieldQ.bin) && !!fieldQ.bin ? 1 : 0) +\n                    (!wildcard_1.isWildcard(fieldQ.timeUnit) && !!fieldQ.timeUnit ? 1 : 0);\n                return numFn <= 1;\n            }\n            // For autoCount there is always only one type of function\n            return true;\n        }\n    }, {\n        name: 'timeUnitAppliedForTemporal',\n        description: 'Time unit should be applied to temporal field only.',\n        properties: [property_1.Property.TYPE, property_1.Property.TIMEUNIT],\n        allowWildcardForProperties: false,\n        strict: true,\n        satisfy: function (fieldQ, _, __, ___) {\n            if (fieldQ.timeUnit && fieldQ.type !== type_1.Type.TEMPORAL) {\n                return false;\n            }\n            return true;\n        }\n    }, {\n        name: 'timeUnitShouldHaveVariation',\n        description: 'A particular time unit should be applied only if they produce unique values.',\n        properties: [property_1.Property.TIMEUNIT, property_1.Property.TYPE],\n        allowWildcardForProperties: false,\n        strict: false,\n        satisfy: function (fieldQ, schema, encWildcardIndex, opt) {\n            if (fieldQ.timeUnit && fieldQ.type === type_1.Type.TEMPORAL) {\n                if (!encWildcardIndex.has('timeUnit') && !opt.constraintManuallySpecifiedValue) {\n                    // Do not have to check this as this is manually specified by users.\n                    return true;\n                }\n                return schema.timeUnitHasVariation(fieldQ);\n            }\n            return true;\n        }\n    }, {\n        name: 'scalePropertiesSupportedByScaleType',\n        description: 'Scale properties must be supported by correct scale type',\n        properties: [].concat(property_1.SCALE_PROPS, [property_1.Property.SCALE, property_1.Property.TYPE]),\n        allowWildcardForProperties: true,\n        strict: true,\n        satisfy: function (fieldQ, _, __, ___) {\n            if (fieldQ.scale) {\n                var scale = fieldQ.scale;\n                //  If fieldQ.type is an Wildcard and scale.type is undefined, it is equivalent\n                //  to scale type is Wildcard. If scale type is an Wildcard, we do not yet know\n                //  what the scale type is, and thus can ignore the constraint.\n                var sType = encoding_1.scaleType(fieldQ);\n                if (sType === undefined || sType === null) {\n                    // If still ambiguous, doesn't check the constraint\n                    return true;\n                }\n                for (var scaleProp in scale) {\n                    if (scaleProp === 'type' || scaleProp === 'name' || scaleProp === 'enum') {\n                        // ignore type and properties of wildcards\n                        continue;\n                    }\n                    var sProp = scaleProp;\n                    if (sType === 'point') {\n                        // HACK: our current implementation of scaleType() can return point\n                        // when the scaleType is a band since we didn't pass all parameter to Vega-Lite's scale type method.\n                        if (!scale_1.scaleTypeSupportProperty('point', sProp) && !scale_1.scaleTypeSupportProperty('band', sProp)) {\n                            return false;\n                        }\n                    }\n                    else if (!scale_1.scaleTypeSupportProperty(sType, sProp)) {\n                        return false;\n                    }\n                }\n            }\n            return true;\n        }\n    }, {\n        name: 'scalePropertiesSupportedByChannel',\n        description: 'Not all scale properties are supported by all encoding channels',\n        properties: [].concat(property_1.SCALE_PROPS, [property_1.Property.SCALE, property_1.Property.CHANNEL]),\n        allowWildcardForProperties: true,\n        strict: true,\n        satisfy: function (fieldQ, _, __, ___) {\n            if (fieldQ) {\n                var channel = fieldQ.channel;\n                var scale = fieldQ.scale;\n                if (channel && !wildcard_1.isWildcard(channel) && scale) {\n                    if (channel === 'row' || channel === 'column') {\n                        // row / column do not have scale\n                        return false;\n                    }\n                    for (var scaleProp in scale) {\n                        if (!scale.hasOwnProperty(scaleProp))\n                            continue;\n                        if (scaleProp === 'type' || scaleProp === 'name' || scaleProp === 'enum') {\n                            // ignore type and properties of wildcards\n                            continue;\n                        }\n                        var isSupported = scale_1.channelScalePropertyIncompatability(channel, scaleProp) === undefined;\n                        if (!isSupported) {\n                            return false;\n                        }\n                    }\n                }\n            }\n            return true;\n        }\n    }, {\n        name: 'typeMatchesPrimitiveType',\n        description: 'Data type should be supported by field\\'s primitive type.',\n        properties: [property_1.Property.FIELD, property_1.Property.TYPE],\n        allowWildcardForProperties: false,\n        strict: true,\n        satisfy: function (fieldQ, schema, encWildcardIndex, opt) {\n            if (fieldQ.field === '*') {\n                return true;\n            }\n            var primitiveType = schema.primitiveType(fieldQ.field);\n            var type = fieldQ.type;\n            if (!encWildcardIndex.has('field') && !encWildcardIndex.has('type') && !opt.constraintManuallySpecifiedValue) {\n                // Do not have to check this as this is manually specified by users.\n                return true;\n            }\n            switch (primitiveType) {\n                case schema_1.PrimitiveType.BOOLEAN:\n                case schema_1.PrimitiveType.STRING:\n                    return type !== type_1.Type.QUANTITATIVE && type !== type_1.Type.TEMPORAL;\n                case schema_1.PrimitiveType.NUMBER:\n                case schema_1.PrimitiveType.INTEGER:\n                    return type !== type_1.Type.TEMPORAL;\n                case schema_1.PrimitiveType.DATETIME:\n                    // TODO: add NOMINAL, ORDINAL support after we support this in Vega-Lite\n                    return type === type_1.Type.TEMPORAL;\n                case null:\n                    // field does not exist in the schema\n                    return false;\n            }\n            throw new Error('Not implemented');\n        }\n    },\n    {\n        name: 'typeMatchesSchemaType',\n        description: 'Enumerated data type of a field should match the field\\'s type in the schema.',\n        properties: [property_1.Property.FIELD, property_1.Property.TYPE],\n        allowWildcardForProperties: false,\n        strict: false,\n        satisfy: function (fieldQ, schema, encWildcardIndex, opt) {\n            if (!encWildcardIndex.has('field') && !encWildcardIndex.has('type') && !opt.constraintManuallySpecifiedValue) {\n                // Do not have to check this as this is manually specified by users.\n                return true;\n            }\n            if (fieldQ.field === '*') {\n                return fieldQ.type === type_1.Type.QUANTITATIVE;\n            }\n            return schema.vlType(fieldQ.field) === fieldQ.type;\n        }\n    }, {\n        name: 'maxCardinalityForCategoricalColor',\n        description: 'Categorical channel should not have too high cardinality',\n        properties: [property_1.Property.CHANNEL, property_1.Property.FIELD],\n        allowWildcardForProperties: false,\n        strict: false,\n        satisfy: function (fieldQ, schema, _, opt) {\n            // TODO: missing case where ordinal / temporal use categorical color\n            // (once we do so, need to add Property.BIN, Property.TIMEUNIT)\n            if (fieldQ.channel === channel_1.Channel.COLOR && (fieldQ.type === type_1.Type.NOMINAL || fieldQ.type === expandedtype_1.ExpandedType.KEY)) {\n                return schema.cardinality(fieldQ) <= opt.maxCardinalityForCategoricalColor;\n            }\n            return true; // other channel is irrelevant to this constraint\n        }\n    }, {\n        name: 'maxCardinalityForFacet',\n        description: 'Row/column channel should not have too high cardinality',\n        properties: [property_1.Property.CHANNEL, property_1.Property.FIELD, property_1.Property.BIN, property_1.Property.TIMEUNIT],\n        allowWildcardForProperties: false,\n        strict: false,\n        satisfy: function (fieldQ, schema, _, opt) {\n            if (fieldQ.channel === channel_1.Channel.ROW || fieldQ.channel === channel_1.Channel.COLUMN) {\n                return schema.cardinality(fieldQ) <= opt.maxCardinalityForFacet;\n            }\n            return true; // other channel is irrelevant to this constraint\n        }\n    }, {\n        name: 'maxCardinalityForShape',\n        description: 'Shape channel should not have too high cardinality',\n        properties: [property_1.Property.CHANNEL, property_1.Property.FIELD, property_1.Property.BIN, property_1.Property.TIMEUNIT],\n        allowWildcardForProperties: false,\n        strict: false,\n        satisfy: function (fieldQ, schema, _, opt) {\n            if (fieldQ.channel === channel_1.Channel.SHAPE) {\n                return schema.cardinality(fieldQ) <= opt.maxCardinalityForShape;\n            }\n            return true; // other channel is irrelevant to this constraint\n        }\n    },\n    {\n        name: 'dataTypeAndFunctionMatchScaleType',\n        description: 'Scale type must match data type',\n        properties: [property_1.Property.TYPE, property_1.Property.SCALE, property_1.getEncodingNestedProp('scale', 'type'), property_1.Property.TIMEUNIT, property_1.Property.BIN],\n        allowWildcardForProperties: false,\n        strict: true,\n        satisfy: function (fieldQ, _, __, ___) {\n            if (fieldQ.scale) {\n                var type = fieldQ.type;\n                var sType = encoding_1.scaleType(fieldQ);\n                if (expandedtype_1.isDiscrete(type)) {\n                    return sType === undefined || scale_1.hasDiscreteDomain(sType);\n                }\n                else if (type === type_1.Type.TEMPORAL) {\n                    if (!fieldQ.timeUnit) {\n                        return util_1.contains([scale_1.ScaleType.TIME, scale_1.ScaleType.UTC, undefined], sType);\n                    }\n                    else {\n                        return util_1.contains([scale_1.ScaleType.TIME, scale_1.ScaleType.UTC, undefined], sType) || scale_1.hasDiscreteDomain(sType);\n                    }\n                }\n                else if (type === type_1.Type.QUANTITATIVE) {\n                    if (fieldQ.bin) {\n                        return util_1.contains([scale_1.ScaleType.LINEAR, undefined], sType);\n                    }\n                    else {\n                        return util_1.contains([scale_1.ScaleType.LOG, scale_1.ScaleType.POW, scale_1.ScaleType.SQRT, scale_1.ScaleType.QUANTILE, scale_1.ScaleType.QUANTIZE, scale_1.ScaleType.LINEAR, undefined], sType);\n                    }\n                }\n            }\n            return true;\n        }\n    },\n    {\n        name: 'stackIsOnlyUsedWithXY',\n        description: 'stack should only be allowed for x and y channels',\n        properties: [property_1.Property.STACK, property_1.Property.CHANNEL],\n        allowWildcardForProperties: false,\n        strict: true,\n        satisfy: function (fieldQ, _, __, ___) {\n            if (!!fieldQ.stack) {\n                return fieldQ.channel === channel_1.Channel.X || fieldQ.channel === channel_1.Channel.Y;\n            }\n            return true;\n        }\n    }\n].map(function (ec) { return new base_1.EncodingConstraintModel(ec); });\nexports.FIELD_CONSTRAINT_INDEX = exports.FIELD_CONSTRAINTS.reduce(function (m, ec) {\n    m[ec.name()] = ec;\n    return m;\n}, {});\nexports.FIELD_CONSTRAINTS_BY_PROPERTY = exports.FIELD_CONSTRAINTS.reduce(function (index, c) {\n    for (var _i = 0, _a = c.properties(); _i < _a.length; _i++) {\n        var prop = _a[_i];\n        // Initialize array and use it\n        index.set(prop, index.get(prop) || []);\n        index.get(prop).push(c);\n    }\n    return index;\n}, new propindex_1.PropIndex());\n//# sourceMappingURL=field.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar property_1 = require(\"../property\");\nvar propindex_1 = require(\"../propindex\");\nvar util_1 = require(\"../util\");\nvar base_1 = require(\"./base\");\nexports.VALUE_CONSTRAINTS = [\n    {\n        name: 'doesNotSupportConstantValue',\n        description: 'row, column, x, y, order, and detail should not work with constant values.',\n        properties: [property_1.Property.TYPE, property_1.Property.AGGREGATE],\n        allowWildcardForProperties: false,\n        strict: true,\n        satisfy: function (valueQ, _, __, ___) {\n            return !(util_1.contains(['row', 'column', 'x', 'y', 'detail', 'order'], valueQ.channel));\n        }\n    }\n].map(function (ec) { return new base_1.EncodingConstraintModel(ec); });\nexports.VALUE_CONSTRAINT_INDEX = exports.VALUE_CONSTRAINTS.reduce(function (m, ec) {\n    m[ec.name()] = ec;\n    return m;\n}, {});\nexports.VALUE_CONSTRAINTS_BY_PROPERTY = exports.VALUE_CONSTRAINTS.reduce(function (index, c) {\n    for (var _i = 0, _a = c.properties(); _i < _a.length; _i++) {\n        var prop = _a[_i];\n        index.set(prop, index.get(prop) || []);\n        index.get(prop).push(c);\n    }\n    return index;\n}, new propindex_1.PropIndex());\n//# sourceMappingURL=value.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar encoding_1 = require(\"../query/encoding\");\nvar field_1 = require(\"./field\");\nvar value_1 = require(\"./value\");\n/**\n * Check all encoding constraints for a particular property and index tuple\n */\nfunction checkEncoding(prop, wildcard, index, specM, schema, opt) {\n    // Check encoding constraint\n    var encodingConstraints = field_1.FIELD_CONSTRAINTS_BY_PROPERTY.get(prop) || [];\n    var encQ = specM.getEncodingQueryByIndex(index);\n    for (var _i = 0, encodingConstraints_1 = encodingConstraints; _i < encodingConstraints_1.length; _i++) {\n        var c = encodingConstraints_1[_i];\n        // Check if the constraint is enabled\n        if (c.strict() || !!opt[c.name()]) {\n            // For strict constraint, or enabled non-strict, check the constraints\n            var satisfy = c.satisfy(encQ, schema, specM.wildcardIndex.encodings[index], opt);\n            if (!satisfy) {\n                var violatedConstraint = '(enc) ' + c.name();\n                /* istanbul ignore if */\n                if (opt.verbose) {\n                    console.log(violatedConstraint + ' failed with ' + specM.toShorthand() + ' for ' + wildcard.name);\n                }\n                return violatedConstraint;\n            }\n        }\n    }\n    var valueContraints = value_1.VALUE_CONSTRAINTS_BY_PROPERTY.get(prop) || [];\n    for (var _a = 0, valueContraints_1 = valueContraints; _a < valueContraints_1.length; _a++) {\n        var c = valueContraints_1[_a];\n        // Check if the constraint is enabled\n        if ((c.strict() || !!opt[c.name()]) && encoding_1.isValueQuery(encQ)) {\n            // For strict constraint, or enabled non-strict, check the constraints\n            var satisfy = c.satisfy(encQ, schema, specM.wildcardIndex.encodings[index], opt);\n            if (!satisfy) {\n                var violatedConstraint = '(enc) ' + c.name();\n                /* istanbul ignore if */\n                if (opt.verbose) {\n                    console.log(violatedConstraint + ' failed with ' + specM.toShorthand() + ' for ' + wildcard.name);\n                }\n                return violatedConstraint;\n            }\n        }\n    }\n    return null;\n}\nexports.checkEncoding = checkEncoding;\n//# sourceMappingURL=encoding.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar aggregate_1 = require(\"vega-lite/build/src/aggregate\");\nvar channel_1 = require(\"vega-lite/build/src/channel\");\nvar mark_1 = require(\"vega-lite/build/src/mark\");\nvar scale_1 = require(\"vega-lite/build/src/scale\");\nvar type_1 = require(\"vega-lite/build/src/type\");\nvar expandedtype_1 = require(\"../query/expandedtype\");\nvar base_1 = require(\"./base\");\nvar wildcard_1 = require(\"../wildcard\");\nvar property_1 = require(\"../property\");\nvar propindex_1 = require(\"../propindex\");\nvar util_1 = require(\"../util\");\nvar encoding_1 = require(\"../query/encoding\");\nvar NONPOSITION_CHANNELS_INDEX = channel_1.NONPOSITION_CHANNELS.reduce(function (m, channel) {\n    m[channel] = true;\n    return m;\n}, {});\nvar SpecConstraintModel = /** @class */ (function (_super) {\n    __extends(SpecConstraintModel, _super);\n    function SpecConstraintModel(specConstraint) {\n        return _super.call(this, specConstraint) || this;\n    }\n    SpecConstraintModel.prototype.hasAllRequiredPropertiesSpecific = function (specM) {\n        return util_1.every(this.constraint.properties, function (prop) {\n            if (prop === property_1.Property.MARK) {\n                return !wildcard_1.isWildcard(specM.getMark());\n            }\n            // TODO: transform\n            if (property_1.isEncodingNestedProp(prop)) {\n                var parent_1 = prop.parent;\n                var child_1 = prop.child;\n                return util_1.every(specM.getEncodings(), function (encQ) {\n                    if (!encQ[parent_1]) {\n                        return true;\n                    }\n                    return !wildcard_1.isWildcard(encQ[parent_1][child_1]);\n                });\n            }\n            if (!property_1.isEncodingProperty(prop)) {\n                throw new Error('UNIMPLEMENTED');\n            }\n            return util_1.every(specM.getEncodings(), function (encQ) {\n                if (!encQ[prop]) {\n                    return true;\n                }\n                return !wildcard_1.isWildcard(encQ[prop]);\n            });\n        });\n    };\n    SpecConstraintModel.prototype.satisfy = function (specM, schema, opt) {\n        // TODO: Re-order logic to optimize the \"allowWildcardForProperties\" check\n        if (!this.constraint.allowWildcardForProperties) {\n            if (!this.hasAllRequiredPropertiesSpecific(specM)) {\n                return true;\n            }\n        }\n        return this.constraint.satisfy(specM, schema, opt);\n    };\n    return SpecConstraintModel;\n}(base_1.AbstractConstraintModel));\nexports.SpecConstraintModel = SpecConstraintModel;\nexports.SPEC_CONSTRAINTS = [\n    {\n        name: 'noRepeatedChannel',\n        description: 'Each encoding channel should only be used once.',\n        properties: [property_1.Property.CHANNEL],\n        allowWildcardForProperties: true,\n        strict: true,\n        satisfy: function (specM, _, __) {\n            var usedChannel = {};\n            // channel for all encodings should be valid\n            return util_1.every(specM.getEncodings(), function (encQ) {\n                if (!wildcard_1.isWildcard(encQ.channel)) {\n                    // If channel is specified, it should no be used already\n                    if (usedChannel[encQ.channel]) {\n                        return false;\n                    }\n                    usedChannel[encQ.channel] = true;\n                    return true;\n                }\n                return true; // unspecified channel is valid\n            });\n        }\n    },\n    {\n        name: 'alwaysIncludeZeroInScaleWithBarMark',\n        description: 'Do not recommend bar mark if scale does not start at zero',\n        properties: [property_1.Property.MARK, property_1.Property.SCALE, property_1.getEncodingNestedProp('scale', 'zero'), property_1.Property.CHANNEL, property_1.Property.TYPE],\n        allowWildcardForProperties: false,\n        strict: true,\n        satisfy: function (specM, _, __) {\n            var mark = specM.getMark();\n            var encodings = specM.getEncodings();\n            if (mark === mark_1.Mark.BAR) {\n                for (var _i = 0, encodings_1 = encodings; _i < encodings_1.length; _i++) {\n                    var encQ = encodings_1[_i];\n                    if (encoding_1.isFieldQuery(encQ) &&\n                        (encQ.channel === channel_1.Channel.X || encQ.channel === channel_1.Channel.Y) &&\n                        (encQ.type === type_1.Type.QUANTITATIVE) &&\n                        (encQ.scale && encQ.scale.zero === false)) {\n                        // TODO: zero shouldn't be manually specified\n                        return false;\n                    }\n                }\n            }\n            return true;\n        }\n    },\n    {\n        name: 'autoAddCount',\n        description: 'Automatically adding count only for plots with only ordinal, binned quantitative, or temporal with timeunit fields.',\n        properties: [property_1.Property.BIN, property_1.Property.TIMEUNIT, property_1.Property.TYPE, property_1.Property.AUTOCOUNT],\n        allowWildcardForProperties: true,\n        strict: false,\n        satisfy: function (specM, _, __) {\n            var hasAutoCount = util_1.some(specM.getEncodings(), function (encQ) { return encoding_1.isEnabledAutoCountQuery(encQ); });\n            if (hasAutoCount) {\n                // Auto count should only be applied if all fields are nominal, ordinal, temporal with timeUnit, binned quantitative, or autoCount\n                return util_1.every(specM.getEncodings(), function (encQ) {\n                    if (encoding_1.isValueQuery(encQ)) {\n                        return true;\n                    }\n                    if (encoding_1.isAutoCountQuery(encQ)) {\n                        return true;\n                    }\n                    switch (encQ.type) {\n                        case type_1.Type.QUANTITATIVE:\n                            return !!encQ.bin;\n                        case type_1.Type.TEMPORAL:\n                            return !!encQ.timeUnit;\n                        case type_1.Type.ORDINAL:\n                        case expandedtype_1.ExpandedType.KEY:\n                        case type_1.Type.NOMINAL:\n                            return true;\n                    }\n                    /* istanbul ignore next */\n                    throw new Error('Unsupported Type');\n                });\n            }\n            else {\n                var autoCountEncIndex = specM.wildcardIndex.encodingIndicesByProperty.get('autoCount') || [];\n                var neverHaveAutoCount = util_1.every(autoCountEncIndex, function (index) {\n                    var encQ = specM.getEncodingQueryByIndex(index);\n                    return encoding_1.isAutoCountQuery(encQ) && !wildcard_1.isWildcard(encQ.autoCount);\n                });\n                if (neverHaveAutoCount) {\n                    // If the query surely does not have autoCount\n                    // then one of the field should be\n                    // (1) unbinned quantitative\n                    // (2) temporal without time unit\n                    // (3) nominal or ordinal field\n                    // or at least have potential to be (still ambiguous).\n                    return util_1.some(specM.getEncodings(), function (encQ) {\n                        if ((encoding_1.isFieldQuery(encQ) || encoding_1.isAutoCountQuery(encQ)) && encQ.type === type_1.Type.QUANTITATIVE) {\n                            if (encoding_1.isDisabledAutoCountQuery(encQ)) {\n                                return false;\n                            }\n                            else {\n                                return encoding_1.isFieldQuery(encQ) && (!encQ.bin || wildcard_1.isWildcard(encQ.bin));\n                            }\n                        }\n                        else if (encoding_1.isFieldQuery(encQ) && encQ.type === type_1.Type.TEMPORAL) {\n                            return !encQ.timeUnit || wildcard_1.isWildcard(encQ.timeUnit);\n                        }\n                        return false; // nominal or ordinal\n                    });\n                }\n            }\n            return true; // no auto count, no constraint\n        }\n    },\n    {\n        name: 'channelPermittedByMarkType',\n        description: 'Each encoding channel should be supported by the mark type',\n        properties: [property_1.Property.CHANNEL, property_1.Property.MARK],\n        allowWildcardForProperties: true,\n        strict: true,\n        satisfy: function (specM, _, __) {\n            var mark = specM.getMark();\n            // if mark is unspecified, no need to check\n            if (wildcard_1.isWildcard(mark))\n                return true;\n            // TODO: can optimize this to detect only what's the changed property if needed.\n            return util_1.every(specM.getEncodings(), function (encQ) {\n                // channel unspecified, no need to check\n                if (wildcard_1.isWildcard(encQ.channel))\n                    return true;\n                return channel_1.supportMark(encQ.channel, mark);\n            });\n        }\n    },\n    {\n        name: 'hasAllRequiredChannelsForMark',\n        description: 'All required channels for the specified mark should be specified',\n        properties: [property_1.Property.CHANNEL, property_1.Property.MARK],\n        allowWildcardForProperties: false,\n        strict: true,\n        satisfy: function (specM, _, __) {\n            var mark = specM.getMark();\n            switch (mark) {\n                case mark_1.Mark.AREA:\n                case mark_1.Mark.LINE:\n                    return specM.channelUsed(channel_1.Channel.X) && specM.channelUsed(channel_1.Channel.Y);\n                case mark_1.Mark.TEXT:\n                    return specM.channelUsed(channel_1.Channel.TEXT);\n                case mark_1.Mark.BAR:\n                case mark_1.Mark.CIRCLE:\n                case mark_1.Mark.SQUARE:\n                case mark_1.Mark.TICK:\n                case mark_1.Mark.RULE:\n                case mark_1.Mark.RECT:\n                    return specM.channelUsed(channel_1.Channel.X) || specM.channelUsed(channel_1.Channel.Y);\n                case mark_1.Mark.POINT:\n                    // This allows generating a point plot if channel was not a wildcard.\n                    return !specM.wildcardIndex.hasProperty(property_1.Property.CHANNEL) ||\n                        specM.channelUsed(channel_1.Channel.X) || specM.channelUsed(channel_1.Channel.Y);\n            }\n            /* istanbul ignore next */\n            throw new Error('hasAllRequiredChannelsForMark not implemented for mark' + JSON.stringify(mark));\n        }\n    },\n    {\n        name: 'omitAggregate',\n        description: 'Omit aggregate plots.',\n        properties: [property_1.Property.AGGREGATE, property_1.Property.AUTOCOUNT],\n        allowWildcardForProperties: true,\n        strict: false,\n        satisfy: function (specM, _, __) {\n            if (specM.isAggregate()) {\n                return false;\n            }\n            return true;\n        }\n    },\n    {\n        name: 'omitAggregatePlotWithDimensionOnlyOnFacet',\n        description: 'Omit aggregate plots with dimensions only on facets as that leads to inefficient use of space.',\n        properties: [property_1.Property.CHANNEL, property_1.Property.AGGREGATE, property_1.Property.AUTOCOUNT],\n        allowWildcardForProperties: false,\n        strict: false,\n        satisfy: function (specM, _, opt) {\n            if (specM.isAggregate()) {\n                var hasNonFacetDim_1 = false, hasDim_1 = false, hasEnumeratedFacetDim_1 = false;\n                specM.specQuery.encodings.forEach(function (encQ, index) {\n                    if (encoding_1.isValueQuery(encQ) || (encoding_1.isDisabledAutoCountQuery(encQ)))\n                        return; // skip unused field\n                    // FieldQuery & !encQ.aggregate\n                    if (encoding_1.isFieldQuery(encQ) && !encQ.aggregate) {\n                        hasDim_1 = true;\n                        if (util_1.contains([channel_1.Channel.ROW, channel_1.Channel.COLUMN], encQ.channel)) {\n                            if (specM.wildcardIndex.hasEncodingProperty(index, property_1.Property.CHANNEL)) {\n                                hasEnumeratedFacetDim_1 = true;\n                            }\n                        }\n                        else {\n                            hasNonFacetDim_1 = true;\n                        }\n                    }\n                });\n                if (hasDim_1 && !hasNonFacetDim_1) {\n                    if (hasEnumeratedFacetDim_1 || opt.constraintManuallySpecifiedValue) {\n                        return false;\n                    }\n                }\n            }\n            return true;\n        }\n    },\n    {\n        name: 'omitAggregatePlotWithoutDimension',\n        description: 'Aggregate plots without dimension should be omitted',\n        properties: [property_1.Property.AGGREGATE, property_1.Property.AUTOCOUNT, property_1.Property.BIN, property_1.Property.TIMEUNIT, property_1.Property.TYPE],\n        allowWildcardForProperties: false,\n        strict: false,\n        satisfy: function (specM, _, __) {\n            if (specM.isAggregate()) {\n                // TODO relax\n                return util_1.some(specM.getEncodings(), function (encQ) {\n                    if (encoding_1.isDimension(encQ) || (encoding_1.isFieldQuery(encQ) && (encQ.type === 'temporal'))) {\n                        return true;\n                    }\n                    return false;\n                });\n            }\n            return true;\n        }\n    },\n    {\n        // TODO: we can be smarter and check if bar has occlusion based on profiling statistics\n        name: 'omitBarLineAreaWithOcclusion',\n        description: 'Don\\'t use bar, line or area to visualize raw plot as they often lead to occlusion.',\n        properties: [property_1.Property.MARK, property_1.Property.AGGREGATE, property_1.Property.AUTOCOUNT],\n        allowWildcardForProperties: false,\n        strict: false,\n        satisfy: function (specM, _, __) {\n            if (util_1.contains([mark_1.Mark.BAR, mark_1.Mark.LINE, mark_1.Mark.AREA], specM.getMark())) {\n                return specM.isAggregate();\n            }\n            return true;\n        }\n    },\n    {\n        name: 'omitBarTickWithSize',\n        description: 'Do not map field to size channel with bar and tick mark',\n        properties: [property_1.Property.CHANNEL, property_1.Property.MARK],\n        allowWildcardForProperties: true,\n        strict: false,\n        satisfy: function (specM, _, opt) {\n            var mark = specM.getMark();\n            if (util_1.contains([mark_1.Mark.TICK, mark_1.Mark.BAR], mark)) {\n                if (specM.channelEncodingField(channel_1.Channel.SIZE)) {\n                    if (opt.constraintManuallySpecifiedValue) {\n                        // If size is used and we constraintManuallySpecifiedValue,\n                        // then the spec violates this constraint.\n                        return false;\n                    }\n                    else {\n                        // Otherwise have to search for the size channel and check if it is enumerated\n                        var encodings = specM.specQuery.encodings;\n                        for (var i = 0; i < encodings.length; i++) {\n                            var encQ = encodings[i];\n                            if (encQ.channel === channel_1.Channel.SIZE) {\n                                if (specM.wildcardIndex.hasEncodingProperty(i, property_1.Property.CHANNEL)) {\n                                    // If enumerated, then this is bad\n                                    return false;\n                                }\n                                else {\n                                    // If it's manually specified, no need to continue searching, just return.\n                                    return true;\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            return true; // skip\n        }\n    },\n    {\n        name: 'omitBarAreaForLogScale',\n        description: 'Do not use bar and area mark for x and y\\'s log scale',\n        properties: [property_1.Property.MARK, property_1.Property.CHANNEL, property_1.Property.SCALE, property_1.getEncodingNestedProp('scale', 'type'), property_1.Property.TYPE],\n        allowWildcardForProperties: false,\n        strict: true,\n        satisfy: function (specM, _, __) {\n            var mark = specM.getMark();\n            var encodings = specM.getEncodings();\n            // TODO: mark or scale type should be enumerated\n            if (mark === mark_1.Mark.AREA || mark === mark_1.Mark.BAR) {\n                for (var _i = 0, encodings_2 = encodings; _i < encodings_2.length; _i++) {\n                    var encQ = encodings_2[_i];\n                    if (encoding_1.isFieldQuery(encQ) && ((encQ.channel === channel_1.Channel.X || encQ.channel === channel_1.Channel.Y) && encQ.scale)) {\n                        var sType = encoding_1.scaleType(encQ);\n                        if (sType === scale_1.ScaleType.LOG) {\n                            return false;\n                        }\n                    }\n                }\n            }\n            return true;\n        }\n    },\n    {\n        name: 'omitMultipleNonPositionalChannels',\n        description: 'Unless manually specified, do not use multiple non-positional encoding channel to avoid over-encoding.',\n        properties: [property_1.Property.CHANNEL],\n        allowWildcardForProperties: true,\n        strict: false,\n        satisfy: function (specM, _, opt) {\n            // have to use specM.specQuery.encodings insetad of specM.getEncodings()\n            // since specM.getEncodings() remove encQ with autoCount===false from the array\n            // and thus might shift the index\n            var encodings = specM.specQuery.encodings;\n            var nonPositionChannelCount = 0;\n            var hasEnumeratedNonPositionChannel = false;\n            for (var i = 0; i < encodings.length; i++) {\n                var encQ = encodings[i];\n                if (encoding_1.isValueQuery(encQ) || (encoding_1.isDisabledAutoCountQuery(encQ))) {\n                    continue; // ignore skipped encoding\n                }\n                var channel = encQ.channel;\n                if (!wildcard_1.isWildcard(channel)) {\n                    if (NONPOSITION_CHANNELS_INDEX[channel + '']) {\n                        nonPositionChannelCount += 1;\n                        if (specM.wildcardIndex.hasEncodingProperty(i, property_1.Property.CHANNEL)) {\n                            hasEnumeratedNonPositionChannel = true;\n                        }\n                        if (nonPositionChannelCount > 1 &&\n                            (hasEnumeratedNonPositionChannel || opt.constraintManuallySpecifiedValue)) {\n                            return false;\n                        }\n                    }\n                }\n            }\n            return true;\n        }\n    },\n    {\n        name: 'omitNonPositionalOrFacetOverPositionalChannels',\n        description: 'Do not use non-positional channels unless all positional channels are used',\n        properties: [property_1.Property.CHANNEL],\n        allowWildcardForProperties: false,\n        strict: false,\n        satisfy: function (specM, _, opt) {\n            var encodings = specM.specQuery.encodings;\n            var hasNonPositionalChannelOrFacet = false;\n            var hasEnumeratedNonPositionOrFacetChannel = false;\n            var hasX = false, hasY = false;\n            for (var i = 0; i < encodings.length; i++) {\n                var encQ = encodings[i];\n                if (encoding_1.isValueQuery(encQ) || (encoding_1.isDisabledAutoCountQuery(encQ))) {\n                    continue; // ignore skipped encoding\n                }\n                var channel = encQ.channel;\n                if (channel === channel_1.Channel.X) {\n                    hasX = true;\n                }\n                else if (channel === channel_1.Channel.Y) {\n                    hasY = true;\n                }\n                else if (!wildcard_1.isWildcard(channel)) {\n                    // All non positional channel / Facet\n                    hasNonPositionalChannelOrFacet = true;\n                    if (specM.wildcardIndex.hasEncodingProperty(i, property_1.Property.CHANNEL)) {\n                        hasEnumeratedNonPositionOrFacetChannel = true;\n                    }\n                }\n            }\n            if (hasEnumeratedNonPositionOrFacetChannel ||\n                (opt.constraintManuallySpecifiedValue && hasNonPositionalChannelOrFacet)) {\n                return hasX && hasY;\n            }\n            return true;\n        }\n    },\n    {\n        name: 'omitRaw',\n        description: 'Omit raw plots.',\n        properties: [property_1.Property.AGGREGATE, property_1.Property.AUTOCOUNT],\n        allowWildcardForProperties: false,\n        strict: false,\n        satisfy: function (specM, _, __) {\n            if (!specM.isAggregate()) {\n                return false;\n            }\n            return true;\n        }\n    },\n    {\n        name: 'omitRawContinuousFieldForAggregatePlot',\n        description: 'Aggregate plot should not use raw continuous field as group by values. ' +\n            '(Quantitative should be binned. Temporal should have time unit.)',\n        properties: [property_1.Property.AGGREGATE, property_1.Property.AUTOCOUNT, property_1.Property.TIMEUNIT, property_1.Property.BIN, property_1.Property.TYPE],\n        allowWildcardForProperties: true,\n        strict: false,\n        satisfy: function (specM, _, opt) {\n            if (specM.isAggregate()) {\n                var encodings = specM.specQuery.encodings;\n                for (var i = 0; i < encodings.length; i++) {\n                    var encQ = encodings[i];\n                    if (encoding_1.isValueQuery(encQ) || (encoding_1.isDisabledAutoCountQuery(encQ)))\n                        continue; // skip unused encoding\n                    // TODO: aggregate for ordinal and temporal\n                    if (encoding_1.isFieldQuery(encQ) && encQ.type === type_1.Type.TEMPORAL) {\n                        // Temporal fields should have timeUnit or is still a wildcard\n                        if (!encQ.timeUnit && (specM.wildcardIndex.hasEncodingProperty(i, property_1.Property.TIMEUNIT) ||\n                            opt.constraintManuallySpecifiedValue)) {\n                            return false;\n                        }\n                    }\n                    if (encQ.type === type_1.Type.QUANTITATIVE) {\n                        if (encoding_1.isFieldQuery(encQ) && !encQ.bin && !encQ.aggregate) {\n                            // If Raw Q\n                            if (specM.wildcardIndex.hasEncodingProperty(i, property_1.Property.BIN) ||\n                                specM.wildcardIndex.hasEncodingProperty(i, property_1.Property.AGGREGATE) ||\n                                specM.wildcardIndex.hasEncodingProperty(i, property_1.Property.AUTOCOUNT)) {\n                                // and it's raw from enumeration\n                                return false;\n                            }\n                            if (opt.constraintManuallySpecifiedValue) {\n                                // or if we constraintManuallySpecifiedValue\n                                return false;\n                            }\n                        }\n                    }\n                }\n            }\n            return true;\n        }\n    },\n    {\n        name: 'omitRawDetail',\n        description: 'Do not use detail channel with raw plot.',\n        properties: [property_1.Property.CHANNEL, property_1.Property.AGGREGATE, property_1.Property.AUTOCOUNT],\n        allowWildcardForProperties: false,\n        strict: true,\n        satisfy: function (specM, _, opt) {\n            if (specM.isAggregate()) {\n                return true;\n            }\n            return util_1.every(specM.specQuery.encodings, function (encQ, index) {\n                if (encoding_1.isValueQuery(encQ) || (encoding_1.isDisabledAutoCountQuery(encQ)))\n                    return true; // ignore autoCount field\n                if (encQ.channel === channel_1.Channel.DETAIL) {\n                    // Detail channel for raw plot is not good, except when its enumerated\n                    // or when it's manually specified but we constraintManuallySpecifiedValue.\n                    if (specM.wildcardIndex.hasEncodingProperty(index, property_1.Property.CHANNEL) ||\n                        opt.constraintManuallySpecifiedValue) {\n                        return false;\n                    }\n                }\n                return true;\n            });\n        }\n    },\n    {\n        name: 'omitRepeatedField',\n        description: 'Each field should be mapped to only one channel',\n        properties: [property_1.Property.FIELD],\n        allowWildcardForProperties: true,\n        strict: false,\n        satisfy: function (specM, _, opt) {\n            var fieldUsed = {};\n            var fieldEnumerated = {};\n            var encodings = specM.specQuery.encodings;\n            for (var i = 0; i < encodings.length; i++) {\n                var encQ = encodings[i];\n                if (encoding_1.isValueQuery(encQ) || encoding_1.isAutoCountQuery(encQ))\n                    continue;\n                var field = void 0;\n                if (encQ.field && !wildcard_1.isWildcard(encQ.field)) {\n                    field = encQ.field;\n                }\n                if (encoding_1.isAutoCountQuery(encQ) && !wildcard_1.isWildcard(encQ.autoCount)) {\n                    field = 'count_*';\n                }\n                if (field) {\n                    if (specM.wildcardIndex.hasEncodingProperty(i, property_1.Property.FIELD)) {\n                        fieldEnumerated[field] = true;\n                    }\n                    // When the field is specified previously,\n                    // if it is enumerated (either previously or in this encQ)\n                    // or if the opt.constraintManuallySpecifiedValue is true,\n                    // then it violates the constraint.\n                    if (fieldUsed[field]) {\n                        if (fieldEnumerated[field] || opt.constraintManuallySpecifiedValue) {\n                            return false;\n                        }\n                    }\n                    fieldUsed[field] = true;\n                }\n            }\n            return true;\n        }\n    },\n    // TODO: omitShapeWithBin\n    {\n        name: 'omitVerticalDotPlot',\n        description: 'Do not output vertical dot plot.',\n        properties: [property_1.Property.CHANNEL],\n        allowWildcardForProperties: true,\n        strict: false,\n        satisfy: function (specM, _, __) {\n            var encodings = specM.getEncodings();\n            if (encodings.length === 1 && encodings[0].channel === channel_1.Channel.Y) {\n                return false;\n            }\n            return true;\n        }\n    },\n    // EXPENSIVE CONSTRAINTS -- check them later!\n    {\n        name: 'hasAppropriateGraphicTypeForMark',\n        description: 'Has appropriate graphic type for mark',\n        properties: [property_1.Property.CHANNEL, property_1.Property.MARK, property_1.Property.TYPE, property_1.Property.TIMEUNIT, property_1.Property.BIN, property_1.Property.AGGREGATE, property_1.Property.AUTOCOUNT],\n        allowWildcardForProperties: false,\n        strict: false,\n        satisfy: function (specM, _, __) {\n            var mark = specM.getMark();\n            switch (mark) {\n                case mark_1.Mark.AREA:\n                case mark_1.Mark.LINE:\n                    if (specM.isAggregate()) {\n                        var xEncQ_1 = specM.getEncodingQueryByChannel(channel_1.Channel.X);\n                        var yEncQ_1 = specM.getEncodingQueryByChannel(channel_1.Channel.Y);\n                        var xIsMeasure = encoding_1.isMeasure(xEncQ_1);\n                        var yIsMeasure = encoding_1.isMeasure(yEncQ_1);\n                        // for aggregate line / area, we need at least one group-by axis and one measure axis.\n                        return xEncQ_1 && yEncQ_1 && (xIsMeasure !== yIsMeasure) &&\n                            // and the dimension axis should not be nominal\n                            // TODO: make this clause optional\n                            !(encoding_1.isFieldQuery(xEncQ_1) && !xIsMeasure && util_1.contains(['nominal', 'key'], xEncQ_1.type)) &&\n                            !(encoding_1.isFieldQuery(yEncQ_1) && !yIsMeasure && util_1.contains(['nominal', 'key'], yEncQ_1.type));\n                        // TODO: allow connected scatterplot\n                    }\n                    return true;\n                case mark_1.Mark.TEXT:\n                    // FIXME correctly when we add text\n                    return true;\n                case mark_1.Mark.BAR:\n                case mark_1.Mark.TICK:\n                    // Bar and tick should not use size.\n                    if (specM.channelEncodingField(channel_1.Channel.SIZE)) {\n                        return false;\n                    }\n                    else {\n                        // Tick and Bar should have one and only one measure\n                        var xEncQ_2 = specM.getEncodingQueryByChannel(channel_1.Channel.X);\n                        var yEncQ_2 = specM.getEncodingQueryByChannel(channel_1.Channel.Y);\n                        var xIsMeasure = encoding_1.isMeasure(xEncQ_2);\n                        var yIsMeasure = encoding_1.isMeasure(yEncQ_2);\n                        if (xIsMeasure !== yIsMeasure) {\n                            return true;\n                        }\n                        return false;\n                    }\n                case mark_1.Mark.RECT:\n                    // Until CompassQL supports layering, it only makes sense for\n                    // rect to encode DxD or 1xD (otherwise just use bar).\n                    // Furthermore, color should only be used in a 'heatmap' fashion\n                    // (with a measure field).\n                    var xEncQ = specM.getEncodingQueryByChannel(channel_1.Channel.X);\n                    var yEncQ = specM.getEncodingQueryByChannel(channel_1.Channel.Y);\n                    var xIsDimension = encoding_1.isDimension(xEncQ);\n                    var yIsDimension = encoding_1.isDimension(yEncQ);\n                    var colorEncQ = specM.getEncodingQueryByChannel(channel_1.Channel.COLOR);\n                    var colorIsQuantitative = encoding_1.isMeasure(colorEncQ);\n                    var colorIsOrdinal = encoding_1.isFieldQuery(colorEncQ) ?\n                        colorEncQ.type === type_1.Type.ORDINAL : false;\n                    var correctChannels = (xIsDimension && yIsDimension) ||\n                        (xIsDimension && !specM.channelUsed(channel_1.Channel.Y)) ||\n                        (yIsDimension && !specM.channelUsed(channel_1.Channel.X));\n                    var correctColor = !colorEncQ ||\n                        (colorEncQ && (colorIsQuantitative || colorIsOrdinal));\n                    return correctChannels && correctColor;\n                case mark_1.Mark.CIRCLE:\n                case mark_1.Mark.POINT:\n                case mark_1.Mark.SQUARE:\n                case mark_1.Mark.RULE:\n                    return true;\n            }\n            /* istanbul ignore next */\n            throw new Error('hasAllRequiredChannelsForMark not implemented for mark' + mark);\n        }\n    },\n    {\n        name: 'omitInvalidStackSpec',\n        description: 'If stack is specified, must follow Vega-Lite stack rules',\n        properties: [property_1.Property.STACK, property_1.Property.FIELD, property_1.Property.CHANNEL, property_1.Property.MARK, property_1.Property.AGGREGATE, property_1.Property.AUTOCOUNT, property_1.Property.SCALE, property_1.getEncodingNestedProp('scale', 'type'), property_1.Property.TYPE],\n        allowWildcardForProperties: false,\n        strict: true,\n        satisfy: function (specM, _, __) {\n            if (!specM.wildcardIndex.hasProperty(property_1.Property.STACK)) {\n                return true;\n            }\n            var stackProps = specM.getVlStack();\n            if (stackProps === null && specM.getStackOffset() !== null) {\n                return false;\n            }\n            if (stackProps.fieldChannel !== specM.getStackChannel()) {\n                return false;\n            }\n            return true;\n        }\n    },\n    {\n        name: 'omitNonSumStack',\n        description: 'Stack specifications that use non-summative aggregates should be omitted (even implicit ones)',\n        properties: [property_1.Property.CHANNEL, property_1.Property.MARK, property_1.Property.AGGREGATE, property_1.Property.AUTOCOUNT, property_1.Property.SCALE, property_1.getEncodingNestedProp('scale', 'type'), property_1.Property.TYPE],\n        allowWildcardForProperties: false,\n        strict: true,\n        satisfy: function (specM, _, __) {\n            var specStack = specM.getVlStack();\n            if (specStack != null) {\n                var stackParentEncQ = specM.getEncodingQueryByChannel(specStack.fieldChannel);\n                if (!util_1.contains(aggregate_1.SUM_OPS, stackParentEncQ.aggregate)) {\n                    return false;\n                }\n            }\n            return true;\n        }\n    },\n    {\n        name: 'omitTableWithOcclusionIfAutoAddCount',\n        description: 'Plots without aggregation or autocount where x and y are both discrete should be omitted if autoAddCount is enabled as they often lead to occlusion',\n        properties: [property_1.Property.CHANNEL, property_1.Property.TYPE, property_1.Property.TIMEUNIT, property_1.Property.BIN, property_1.Property.AGGREGATE, property_1.Property.AUTOCOUNT],\n        allowWildcardForProperties: false,\n        strict: false,\n        satisfy: function (specM, _, opt) {\n            if (opt.autoAddCount) {\n                var xEncQ = specM.getEncodingQueryByChannel('x');\n                var yEncQ = specM.getEncodingQueryByChannel('y');\n                if ((!encoding_1.isFieldQuery(xEncQ) || encoding_1.isDimension(xEncQ)) &&\n                    (!encoding_1.isFieldQuery(yEncQ) || encoding_1.isDimension(yEncQ))) {\n                    if (!specM.isAggregate()) {\n                        return false;\n                    }\n                    else {\n                        return util_1.every(specM.getEncodings(), function (encQ) {\n                            var channel = encQ.channel;\n                            if (channel !== channel_1.Channel.X && channel !== channel_1.Channel.Y &&\n                                channel !== channel_1.Channel.ROW && channel !== channel_1.Channel.COLUMN) {\n                                // Non-position fields should not be unaggreated fields\n                                if (encoding_1.isFieldQuery(encQ) && !encQ.aggregate) {\n                                    return false;\n                                }\n                            }\n                            return true;\n                        });\n                    }\n                }\n            }\n            return true;\n        }\n    }\n].map(function (sc) { return new SpecConstraintModel(sc); });\n// For testing\nexports.SPEC_CONSTRAINT_INDEX = exports.SPEC_CONSTRAINTS.reduce(function (m, c) {\n    m[c.name()] = c;\n    return m;\n}, {});\nvar SPEC_CONSTRAINTS_BY_PROPERTY = exports.SPEC_CONSTRAINTS.reduce(function (index, c) {\n    for (var _i = 0, _a = c.properties(); _i < _a.length; _i++) {\n        var prop = _a[_i];\n        // Initialize array and use it\n        index.set(prop, index.get(prop) || []);\n        index.get(prop).push(c);\n    }\n    return index;\n}, new propindex_1.PropIndex());\n/**\n * Check all encoding constraints for a particular property and index tuple\n */\nfunction checkSpec(prop, wildcard, specM, schema, opt) {\n    // Check encoding constraint\n    var specConstraints = SPEC_CONSTRAINTS_BY_PROPERTY.get(prop) || [];\n    for (var _i = 0, specConstraints_1 = specConstraints; _i < specConstraints_1.length; _i++) {\n        var c = specConstraints_1[_i];\n        // Check if the constraint is enabled\n        if (c.strict() || !!opt[c.name()]) {\n            // For strict constraint, or enabled non-strict, check the constraints\n            var satisfy = c.satisfy(specM, schema, opt);\n            if (!satisfy) {\n                var violatedConstraint = '(spec) ' + c.name();\n                /* istanbul ignore if */\n                if (opt.verbose) {\n                    console.log(violatedConstraint + ' failed with ' + specM.toShorthand() + ' for ' + wildcard.name);\n                }\n                return violatedConstraint;\n            }\n        }\n    }\n    return null;\n}\nexports.checkSpec = checkSpec;\n//# sourceMappingURL=spec.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar encoding = require(\"./encoding\");\nexports.encoding = encoding;\nvar spec = require(\"./spec\");\nexports.spec = spec;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar encoding_1 = require(\"./constraint/encoding\");\nvar spec_1 = require(\"./constraint/spec\");\nvar property_1 = require(\"./property\");\nvar propindex_1 = require(\"./propindex\");\nvar encoding_2 = require(\"./query/encoding\");\nvar ENUMERATOR_INDEX = new propindex_1.PropIndex();\nfunction getEnumerator(prop) {\n    return ENUMERATOR_INDEX.get(prop);\n}\nexports.getEnumerator = getEnumerator;\nENUMERATOR_INDEX.set('mark', function (wildcardIndex, schema, opt) {\n    return function (answerSet, specM) {\n        var markWildcard = specM.getMark();\n        // enumerate the value\n        markWildcard.enum.forEach(function (mark) {\n            specM.setMark(mark);\n            // Check spec constraint\n            var violatedSpecConstraint = spec_1.checkSpec('mark', wildcardIndex.mark, specM, schema, opt);\n            if (!violatedSpecConstraint) {\n                // emit\n                answerSet.push(specM.duplicate());\n            }\n        });\n        // Reset to avoid side effect\n        specM.resetMark();\n        return answerSet;\n    };\n});\nproperty_1.ENCODING_TOPLEVEL_PROPS.forEach(function (prop) {\n    ENUMERATOR_INDEX.set(prop, EncodingPropertyGeneratorFactory(prop));\n});\nproperty_1.ENCODING_NESTED_PROPS.forEach(function (nestedProp) {\n    ENUMERATOR_INDEX.set(nestedProp, EncodingPropertyGeneratorFactory(nestedProp));\n});\n/**\n * @param prop property type.\n * @return an answer set reducer factory for the given prop.\n */\nfunction EncodingPropertyGeneratorFactory(prop) {\n    /**\n     * @return as reducer that takes a specQueryModel as input and output an answer set array.\n     */\n    return function (wildcardIndex, schema, opt) {\n        return function (answerSet, specM) {\n            // index of encoding mappings that require enumeration\n            var indices = wildcardIndex.encodingIndicesByProperty.get(prop);\n            function enumerate(jobIndex) {\n                if (jobIndex === indices.length) {\n                    // emit and terminate\n                    answerSet.push(specM.duplicate());\n                    return;\n                }\n                var index = indices[jobIndex];\n                var wildcard = wildcardIndex.encodings[index].get(prop);\n                var encQ = specM.getEncodingQueryByIndex(index);\n                var propWildcard = specM.getEncodingProperty(index, prop);\n                if (encoding_2.isValueQuery(encQ) || (\n                // TODO: encQ.exclude\n                // If this encoding query is an excluded autoCount, there is no point enumerating other properties\n                // for this encoding query because they will be excluded anyway.\n                // Thus, we can just move on to the next encoding to enumerate.\n                (encoding_2.isDisabledAutoCountQuery(encQ)) ||\n                    // nested encoding property might have its parent set to false\n                    // therefore, we no longer have to enumerate them\n                    !propWildcard)) {\n                    enumerate(jobIndex + 1);\n                }\n                else {\n                    wildcard.enum.forEach(function (propVal) {\n                        if (propVal === null) {\n                            // our duplicate() method use JSON.stringify, parse and thus can accidentally\n                            // convert undefined in an array into null\n                            propVal = undefined;\n                        }\n                        specM.setEncodingProperty(index, prop, propVal, wildcard);\n                        // Check encoding constraint\n                        var violatedEncodingConstraint = encoding_1.checkEncoding(prop, wildcard, index, specM, schema, opt);\n                        if (violatedEncodingConstraint) {\n                            return; // do not keep searching\n                        }\n                        // Check spec constraint\n                        var violatedSpecConstraint = spec_1.checkSpec(prop, wildcard, specM, schema, opt);\n                        if (violatedSpecConstraint) {\n                            return; // do not keep searching\n                        }\n                        // If qualify all of the constraints, keep enumerating\n                        enumerate(jobIndex + 1);\n                    });\n                    // Reset to avoid side effect\n                    specM.resetEncodingProperty(index, prop, wildcard);\n                }\n            }\n            // start enumerating from 0\n            enumerate(0);\n            return answerSet;\n        };\n    };\n}\nexports.EncodingPropertyGeneratorFactory = EncodingPropertyGeneratorFactory;\n//# sourceMappingURL=enumerator.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar property_1 = require(\"./property\");\nvar propindex_1 = require(\"./propindex\");\nvar WildcardIndex = /** @class */ (function () {\n    function WildcardIndex() {\n        this._mark = undefined;\n        this._encodings = {};\n        this._encodingIndicesByProperty = new propindex_1.PropIndex();\n    }\n    WildcardIndex.prototype.setEncodingProperty = function (index, prop, wildcard) {\n        var encodingsIndex = this._encodings;\n        // Init encoding index and set prop\n        var encIndex = encodingsIndex[index] = encodingsIndex[index] || new propindex_1.PropIndex();\n        encIndex.set(prop, wildcard);\n        // Initialize indicesByProperty[prop] and add index\n        var indicesByProp = this._encodingIndicesByProperty;\n        indicesByProp.set(prop, (indicesByProp.get(prop) || []));\n        indicesByProp.get(prop).push(index);\n        return this;\n    };\n    WildcardIndex.prototype.hasEncodingProperty = function (index, prop) {\n        return !!this._encodings[index] && this._encodings[index].has(prop);\n    };\n    WildcardIndex.prototype.hasProperty = function (prop) {\n        if (property_1.isEncodingProperty(prop)) {\n            return this.encodingIndicesByProperty.has(prop);\n        }\n        else if (prop === 'mark') {\n            return !!this.mark;\n        }\n        /* istanbul ignore next */\n        throw new Error('Unimplemented for property ' + prop);\n    };\n    WildcardIndex.prototype.isEmpty = function () {\n        return !this.mark && this.encodingIndicesByProperty.size() === 0;\n    };\n    WildcardIndex.prototype.setMark = function (mark) {\n        this._mark = mark;\n        return this;\n    };\n    Object.defineProperty(WildcardIndex.prototype, \"mark\", {\n        get: function () {\n            return this._mark;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(WildcardIndex.prototype, \"encodings\", {\n        get: function () {\n            return this._encodings;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(WildcardIndex.prototype, \"encodingIndicesByProperty\", {\n        get: function () {\n            return this._encodingIndicesByProperty;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return WildcardIndex;\n}());\nexports.WildcardIndex = WildcardIndex;\n//# sourceMappingURL=wildcardindex.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"datalib/src/util\");\nvar shorthand_1 = require(\"./shorthand\");\nvar property_1 = require(\"../property\");\nvar propindex_1 = require(\"../propindex\");\nvar util_2 = require(\"../util\");\nexports.REPLACE_BLANK_FIELDS = { '*': '' };\nexports.REPLACE_XY_CHANNELS = { x: 'xy', y: 'xy' };\nexports.REPLACE_FACET_CHANNELS = { row: 'facet', column: 'facet' };\nexports.REPLACE_MARK_STYLE_CHANNELS = { color: 'style', opacity: 'style', shape: 'style', size: 'style' };\nfunction isExtendedGroupBy(g) {\n    return util_1.isObject(g) && !!g['property'];\n}\nexports.isExtendedGroupBy = isExtendedGroupBy;\nfunction parseGroupBy(groupBy, include, replaceIndex) {\n    include = include || new propindex_1.PropIndex();\n    replaceIndex = replaceIndex || new propindex_1.PropIndex();\n    groupBy.forEach(function (grpBy) {\n        if (isExtendedGroupBy(grpBy)) {\n            include.setByKey(grpBy.property, true);\n            replaceIndex.setByKey(grpBy.property, grpBy.replace);\n        }\n        else {\n            include.setByKey(grpBy, true);\n        }\n    });\n    return {\n        include: include,\n        replaceIndex: replaceIndex,\n        replacer: shorthand_1.getReplacerIndex(replaceIndex)\n    };\n}\nexports.parseGroupBy = parseGroupBy;\nfunction toString(groupBy) {\n    if (util_1.isArray(groupBy)) {\n        return groupBy.map(function (g) {\n            if (isExtendedGroupBy(g)) {\n                if (g.replace) {\n                    var replaceIndex_1 = util_2.keys(g.replace).reduce(function (index, valFrom) {\n                        var valTo = g.replace[valFrom];\n                        (index[valTo] = index[valTo] || []).push(valFrom);\n                        return index;\n                    }, {});\n                    return g.property + '[' + util_2.keys(replaceIndex_1).map(function (valTo) {\n                        var valsFrom = replaceIndex_1[valTo].sort();\n                        return valsFrom.join(',') + '=>' + valTo;\n                    }).join(';') + ']';\n                }\n                return g.property;\n            }\n            return g;\n        }).join(',');\n    }\n    else {\n        return groupBy;\n    }\n}\nexports.toString = toString;\nexports.GROUP_BY_FIELD_TRANSFORM = [\n    property_1.Property.FIELD, property_1.Property.TYPE,\n    property_1.Property.AGGREGATE, property_1.Property.BIN, property_1.Property.TIMEUNIT, property_1.Property.STACK\n];\nexports.GROUP_BY_ENCODING = exports.GROUP_BY_FIELD_TRANSFORM.concat([\n    {\n        property: property_1.Property.CHANNEL,\n        replace: {\n            'x': 'xy', 'y': 'xy',\n            'color': 'style', 'size': 'style', 'shape': 'style', 'opacity': 'style',\n            'row': 'facet', 'column': 'facet'\n        }\n    }\n]);\n//# sourceMappingURL=groupby.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"datalib/src/util\");\nvar property_1 = require(\"./property\");\nvar propindex_1 = require(\"./propindex\");\nvar groupby_1 = require(\"./query/groupby\");\nvar shorthand_1 = require(\"./query/shorthand\");\n/**\n * Registry for all possible grouping key functions.\n */\nvar groupRegistry = {};\n/**\n * Add a grouping function to the registry.\n */\nfunction registerKeyFn(name, keyFn) {\n    groupRegistry[name] = keyFn;\n}\nexports.registerKeyFn = registerKeyFn;\nexports.FIELD = 'field';\nexports.FIELD_TRANSFORM = 'fieldTransform';\nexports.ENCODING = 'encoding';\nexports.SPEC = 'spec';\n/**\n * Group the input spec query model by a key function registered in the group registry\n * @return\n */\nfunction nest(specModels, queryNest) {\n    if (queryNest) {\n        var rootGroup_1 = {\n            name: '',\n            path: '',\n            items: [],\n        };\n        var groupIndex_1 = {};\n        // global `includes` and `replaces` will get augmented by each level's groupBy.\n        // Upper level's `groupBy` will get cascaded to lower-level groupBy.\n        // `replace` can be overriden in a lower-level to support different grouping.\n        var includes_1 = [];\n        var replaces = [];\n        var replacers_1 = [];\n        for (var l = 0; l < queryNest.length; l++) {\n            includes_1.push(l > 0 ? includes_1[l - 1].duplicate() : new propindex_1.PropIndex());\n            replaces.push(l > 0 ? replaces[l - 1].duplicate() : new propindex_1.PropIndex());\n            var groupBy = queryNest[l].groupBy;\n            if (util_1.isArray(groupBy)) {\n                // If group is array, it's an array of extended group by that need to be parsed\n                var parsedGroupBy = groupby_1.parseGroupBy(groupBy, includes_1[l], replaces[l]);\n                replacers_1.push(parsedGroupBy.replacer);\n            }\n        }\n        // With includes and replacers, now we can construct the nesting tree\n        specModels.forEach(function (specM) {\n            var path = '';\n            var group = rootGroup_1;\n            for (var l = 0; l < queryNest.length; l++) {\n                var groupBy = group.groupBy = queryNest[l].groupBy;\n                group.orderGroupBy = queryNest[l].orderGroupBy;\n                var key = util_1.isArray(groupBy) ?\n                    shorthand_1.spec(specM.specQuery, includes_1[l], replacers_1[l]) :\n                    groupRegistry[groupBy](specM.specQuery);\n                path += '/' + key;\n                if (!groupIndex_1[path]) {\n                    groupIndex_1[path] = {\n                        name: key,\n                        path: path,\n                        items: [],\n                    };\n                    group.items.push(groupIndex_1[path]);\n                }\n                group = groupIndex_1[path];\n            }\n            group.items.push(specM);\n        });\n        return rootGroup_1;\n    }\n    else {\n        // no nesting, just return a flat group\n        return {\n            name: '',\n            path: '',\n            items: specModels,\n        };\n    }\n}\nexports.nest = nest;\n// TODO: move this to groupBy, rename properly, and export\nvar GROUP_BY_FIELD = [property_1.Property.FIELD];\nvar PARSED_GROUP_BY_FIELD = groupby_1.parseGroupBy(GROUP_BY_FIELD);\nfunction getGroupByKey(specM, groupBy) {\n    return groupRegistry[groupBy](specM);\n}\nexports.getGroupByKey = getGroupByKey;\nregisterKeyFn(exports.FIELD, function (specQ) {\n    return shorthand_1.spec(specQ, PARSED_GROUP_BY_FIELD.include, PARSED_GROUP_BY_FIELD.replacer);\n});\nexports.PARSED_GROUP_BY_FIELD_TRANSFORM = groupby_1.parseGroupBy(groupby_1.GROUP_BY_FIELD_TRANSFORM);\nregisterKeyFn(exports.FIELD_TRANSFORM, function (specQ) {\n    return shorthand_1.spec(specQ, exports.PARSED_GROUP_BY_FIELD_TRANSFORM.include, exports.PARSED_GROUP_BY_FIELD_TRANSFORM.replacer);\n});\nexports.PARSED_GROUP_BY_ENCODING = groupby_1.parseGroupBy(groupby_1.GROUP_BY_ENCODING);\nregisterKeyFn(exports.ENCODING, function (specQ) {\n    return shorthand_1.spec(specQ, exports.PARSED_GROUP_BY_ENCODING.include, exports.PARSED_GROUP_BY_ENCODING.replacer);\n});\nregisterKeyFn(exports.SPEC, function (specQ) { return JSON.stringify(specQ); });\n//# sourceMappingURL=nest.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar type_1 = require(\"vega-lite/build/src/type\");\nvar property_1 = require(\"./property\");\nvar wildcard_1 = require(\"./wildcard\");\nvar wildcardindex_1 = require(\"./wildcardindex\");\nvar spec_1 = require(\"./query/spec\");\nvar encoding_1 = require(\"./query/encoding\");\nvar groupby_1 = require(\"./query/groupby\");\nvar shorthand_1 = require(\"./query/shorthand\");\nvar util_1 = require(\"./util\");\nvar util_2 = require(\"datalib/src/util\");\nvar nest_1 = require(\"./nest\");\n/**\n * Internal class for specQuery that provides helper for the enumeration process.\n */\nvar SpecQueryModel = /** @class */ (function () {\n    function SpecQueryModel(spec, wildcardIndex, schema, opt, wildcardAssignment) {\n        this._rankingScore = {};\n        this._spec = spec;\n        this._channelFieldCount = spec.encodings.reduce(function (m, encQ) {\n            if (!wildcard_1.isWildcard(encQ.channel) && (!encoding_1.isAutoCountQuery(encQ) || encQ.autoCount !== false)) {\n                m[encQ.channel + ''] = 1;\n            }\n            return m;\n        }, {});\n        this._wildcardIndex = wildcardIndex;\n        this._assignedWildcardIndex = wildcardAssignment;\n        this._opt = opt;\n        this._schema = schema;\n    }\n    /**\n     * Build a WildcardIndex by detecting wildcards\n     * in the input specQuery and replacing short wildcards (\"?\")\n     * with full ones (objects with `name` and `enum` values).\n     *\n     * @return a SpecQueryModel that wraps the specQuery and the WildcardIndex.\n     */\n    SpecQueryModel.build = function (specQ, schema, opt) {\n        var wildcardIndex = new wildcardindex_1.WildcardIndex();\n        // mark\n        if (wildcard_1.isWildcard(specQ.mark)) {\n            var name_1 = wildcard_1.getDefaultName(property_1.Property.MARK);\n            specQ.mark = wildcard_1.initWildcard(specQ.mark, name_1, opt.enum.mark);\n            wildcardIndex.setMark(specQ.mark);\n        }\n        // TODO: transform\n        // encodings\n        specQ.encodings.forEach(function (encQ, index) {\n            if (encoding_1.isAutoCountQuery(encQ)) {\n                // This is only for testing purpose\n                console.warn('A field with autoCount should not be included as autoCount meant to be an internal object.');\n                encQ.type = type_1.Type.QUANTITATIVE; // autoCount is always quantitative\n            }\n            if (encoding_1.isFieldQuery(encQ) && encQ.type === undefined) {\n                // type is optional -- we automatically augment wildcard if not specified\n                encQ.type = wildcard_1.SHORT_WILDCARD;\n            }\n            // For each property of the encodingQuery, enumerate\n            property_1.ENCODING_TOPLEVEL_PROPS.forEach(function (prop) {\n                if (wildcard_1.isWildcard(encQ[prop])) {\n                    // Assign default wildcard name and enum values.\n                    var defaultWildcardName = wildcard_1.getDefaultName(prop) + index;\n                    var defaultEnumValues = wildcard_1.getDefaultEnumValues(prop, schema, opt);\n                    var wildcard = encQ[prop] = wildcard_1.initWildcard(encQ[prop], defaultWildcardName, defaultEnumValues);\n                    // Add index of the encoding mapping to the property's wildcard index.\n                    wildcardIndex.setEncodingProperty(index, prop, wildcard);\n                }\n            });\n            // For each nested property of the encoding query  (e.g., encQ.bin.maxbins)\n            property_1.ENCODING_NESTED_PROPS.forEach(function (prop) {\n                var propObj = encQ[prop.parent]; // the property object e.g., encQ.bin\n                if (propObj) {\n                    var child = prop.child;\n                    if (wildcard_1.isWildcard(propObj[child])) {\n                        // Assign default wildcard name and enum values.\n                        var defaultWildcardName = wildcard_1.getDefaultName(prop) + index;\n                        var defaultEnumValues = wildcard_1.getDefaultEnumValues(prop, schema, opt);\n                        var wildcard = propObj[child] = wildcard_1.initWildcard(propObj[child], defaultWildcardName, defaultEnumValues);\n                        // Add index of the encoding mapping to the property's wildcard index.\n                        wildcardIndex.setEncodingProperty(index, prop, wildcard);\n                    }\n                }\n            });\n        });\n        // AUTO COUNT\n        // Add Auto Count Field\n        if (opt.autoAddCount) {\n            var channel = {\n                name: wildcard_1.getDefaultName(property_1.Property.CHANNEL) + specQ.encodings.length,\n                enum: wildcard_1.getDefaultEnumValues(property_1.Property.CHANNEL, schema, opt)\n            };\n            var autoCount = {\n                name: wildcard_1.getDefaultName(property_1.Property.AUTOCOUNT) + specQ.encodings.length,\n                enum: [false, true]\n            };\n            var countEncQ = {\n                channel: channel,\n                autoCount: autoCount,\n                type: type_1.Type.QUANTITATIVE\n            };\n            specQ.encodings.push(countEncQ);\n            var index = specQ.encodings.length - 1;\n            // Add index of the encoding mapping to the property's wildcard index.\n            wildcardIndex.setEncodingProperty(index, property_1.Property.CHANNEL, channel);\n            wildcardIndex.setEncodingProperty(index, property_1.Property.AUTOCOUNT, autoCount);\n        }\n        return new SpecQueryModel(specQ, wildcardIndex, schema, opt, {});\n    };\n    Object.defineProperty(SpecQueryModel.prototype, \"wildcardIndex\", {\n        get: function () {\n            return this._wildcardIndex;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SpecQueryModel.prototype, \"schema\", {\n        get: function () {\n            return this._schema;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SpecQueryModel.prototype, \"specQuery\", {\n        get: function () {\n            return this._spec;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SpecQueryModel.prototype.duplicate = function () {\n        return new SpecQueryModel(util_1.duplicate(this._spec), this._wildcardIndex, this._schema, this._opt, util_1.duplicate(this._assignedWildcardIndex));\n    };\n    SpecQueryModel.prototype.setMark = function (mark) {\n        var name = this._wildcardIndex.mark.name;\n        this._assignedWildcardIndex[name] = this._spec.mark = mark;\n    };\n    SpecQueryModel.prototype.resetMark = function () {\n        var wildcard = this._spec.mark = this._wildcardIndex.mark;\n        delete this._assignedWildcardIndex[wildcard.name];\n    };\n    SpecQueryModel.prototype.getMark = function () {\n        return this._spec.mark;\n    };\n    SpecQueryModel.prototype.getEncodingProperty = function (index, prop) {\n        var encQ = this._spec.encodings[index];\n        if (property_1.isEncodingNestedProp(prop)) {\n            return encQ[prop.parent][prop.child];\n        }\n        return encQ[prop]; // encoding property (non-nested)\n    };\n    SpecQueryModel.prototype.setEncodingProperty = function (index, prop, value, wildcard) {\n        var encQ = this._spec.encodings[index];\n        if (prop === property_1.Property.CHANNEL && encQ.channel && !wildcard_1.isWildcard(encQ.channel)) {\n            // If there is an old channel\n            this._channelFieldCount[encQ.channel]--;\n        }\n        if (property_1.isEncodingNestedProp(prop)) {\n            encQ[prop.parent][prop.child] = value;\n        }\n        else if (property_1.isEncodingNestedParent(prop) && value === true) {\n            encQ[prop] = util_1.extend({}, encQ[prop], // copy all existing properties\n            { enum: undefined, name: undefined } // except name and values to it no longer an wildcard\n            );\n        }\n        else {\n            encQ[prop] = value;\n        }\n        this._assignedWildcardIndex[wildcard.name] = value;\n        if (prop === property_1.Property.CHANNEL) {\n            // If there is a new channel, make sure it exists and add it to the count.\n            this._channelFieldCount[value] = (this._channelFieldCount[value] || 0) + 1;\n        }\n    };\n    SpecQueryModel.prototype.resetEncodingProperty = function (index, prop, wildcard) {\n        var encQ = this._spec.encodings[index];\n        if (prop === property_1.Property.CHANNEL) {\n            this._channelFieldCount[encQ.channel]--;\n        }\n        // reset it to wildcard\n        if (property_1.isEncodingNestedProp(prop)) {\n            encQ[prop.parent][prop.child] = wildcard;\n        }\n        else {\n            encQ[prop] = wildcard;\n        }\n        // add remove value that is reset from the assignment map\n        delete this._assignedWildcardIndex[wildcard.name];\n    };\n    SpecQueryModel.prototype.channelUsed = function (channel) {\n        // do not include encoding that has autoCount = false because it is not a part of the output spec.\n        return this._channelFieldCount[channel] > 0;\n    };\n    SpecQueryModel.prototype.channelEncodingField = function (channel) {\n        var encodingQuery = this.getEncodingQueryByChannel(channel);\n        return encoding_1.isFieldQuery(encodingQuery);\n    };\n    SpecQueryModel.prototype.getEncodings = function () {\n        // do not include encoding that has autoCount = false because it is not a part of the output spec.\n        return this._spec.encodings.filter(function (encQ) { return !encoding_1.isDisabledAutoCountQuery(encQ); });\n    };\n    SpecQueryModel.prototype.getEncodingQueryByChannel = function (channel) {\n        for (var _i = 0, _a = this._spec.encodings; _i < _a.length; _i++) {\n            var specEncoding = _a[_i];\n            if (specEncoding.channel === channel) {\n                return specEncoding;\n            }\n        }\n        return undefined;\n    };\n    SpecQueryModel.prototype.getEncodingQueryByIndex = function (i) {\n        return this._spec.encodings[i];\n    };\n    SpecQueryModel.prototype.isAggregate = function () {\n        return spec_1.isAggregate(this._spec);\n    };\n    /**\n     * @return The Vega-Lite `StackProperties` object that describes the stack\n     * configuration of `this`. Returns `null` if this is not stackable.\n     */\n    SpecQueryModel.prototype.getVlStack = function () {\n        return spec_1.getVlStack(this._spec);\n    };\n    /**\n     * @return The `StackOffset` specified in `this`, `undefined` if none\n     * is specified.\n     */\n    SpecQueryModel.prototype.getStackOffset = function () {\n        return spec_1.getStackOffset(this._spec);\n    };\n    /**\n     * @return The `Channel` in which `stack` is specified in `this`, or\n     * `null` if none is specified.\n     */\n    SpecQueryModel.prototype.getStackChannel = function () {\n        return spec_1.getStackChannel(this._spec);\n    };\n    SpecQueryModel.prototype.toShorthand = function (groupBy) {\n        if (groupBy) {\n            if (util_2.isString(groupBy)) {\n                return nest_1.getGroupByKey(this.specQuery, groupBy);\n            }\n            var parsedGroupBy = groupby_1.parseGroupBy(groupBy);\n            return shorthand_1.spec(this._spec, parsedGroupBy.include, parsedGroupBy.replacer);\n        }\n        return shorthand_1.spec(this._spec);\n    };\n    /**\n     * Convert a query to a Vega-Lite spec if it is completed.\n     * @return a Vega-Lite spec if completed, null otherwise.\n     */\n    SpecQueryModel.prototype.toSpec = function (data) {\n        if (wildcard_1.isWildcard(this._spec.mark))\n            return null;\n        var spec = {};\n        data = data || this._spec.data;\n        if (data) {\n            spec.data = data;\n        }\n        if (this._spec.transform) {\n            spec.transform = this._spec.transform;\n        }\n        spec.mark = this._spec.mark;\n        spec.encoding = encoding_1.toEncoding(this.specQuery.encodings, { schema: this._schema, wildcardMode: 'null' });\n        if (this._spec.width) {\n            spec.width = this._spec.width;\n        }\n        if (this._spec.height) {\n            spec.height = this._spec.height;\n        }\n        if (this._spec.background) {\n            spec.background = this._spec.background;\n        }\n        if (this._spec.padding) {\n            spec.padding = this._spec.padding;\n        }\n        if (this._spec.title) {\n            spec.title = this._spec.title;\n        }\n        if (spec.encoding === null) {\n            return null;\n        }\n        if (this._spec.config || this._opt.defaultSpecConfig)\n            spec.config = util_1.extend({}, this._opt.defaultSpecConfig, this._spec.config);\n        return spec;\n    };\n    SpecQueryModel.prototype.getRankingScore = function (rankingName) {\n        return this._rankingScore[rankingName];\n    };\n    SpecQueryModel.prototype.setRankingScore = function (rankingName, score) {\n        this._rankingScore[rankingName] = score;\n    };\n    return SpecQueryModel;\n}());\nexports.SpecQueryModel = SpecQueryModel;\n//# sourceMappingURL=model.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=transform.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"../util\");\n/**\n * Normalize the non-nested version of the query\n * (basically when you have a `groupBy`)\n * to a standardize nested.\n */\nfunction normalize(q) {\n    if (q.groupBy) {\n        var nest = {\n            groupBy: q.groupBy\n        };\n        if (q.orderBy) {\n            nest.orderGroupBy = q.orderBy;\n        }\n        var normalizedQ = {\n            spec: util_1.duplicate(q.spec),\n            nest: [nest],\n        };\n        if (q.chooseBy) {\n            normalizedQ.chooseBy = q.chooseBy;\n        }\n        if (q.config) {\n            normalizedQ.config = q.config;\n        }\n        return normalizedQ;\n    }\n    return util_1.duplicate(q); // We will cause side effect to q.spec in SpecQueryModel.build\n}\nexports.normalize = normalize;\n//# sourceMappingURL=normalize.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar encoding = require(\"./encoding\");\nexports.encoding = encoding;\nvar groupBy = require(\"./groupby\");\nexports.groupBy = groupBy;\nvar shorthand = require(\"./shorthand\");\nexports.shorthand = shorthand;\nvar spec = require(\"./spec\");\nexports.spec = spec;\nvar transform = require(\"./transform\");\nexports.transform = transform;\nvar normalize_1 = require(\"./normalize\");\nexports.normalize = normalize_1.normalize;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isResultTree(item) {\n    return item.items !== undefined;\n}\nexports.isResultTree = isResultTree;\nfunction getTopResultTreeItem(specQuery) {\n    var topItem = specQuery.items[0];\n    while (topItem && isResultTree(topItem)) {\n        topItem = topItem.items[0];\n    }\n    return topItem;\n}\nexports.getTopResultTreeItem = getTopResultTreeItem;\nfunction mapLeaves(group, f) {\n    return __assign({}, group, { items: group.items.map(function (item) { return (isResultTree(item) ? mapLeaves(item, f) : f(item)); }) });\n}\nexports.mapLeaves = mapLeaves;\n//# sourceMappingURL=result.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar scale_1 = require(\"vega-lite/build/src/scale\");\nvar type_1 = require(\"vega-lite/build/src/type\");\nvar encoding_1 = require(\"../../query/encoding\");\nvar expandedtype_1 = require(\"../../query/expandedtype\");\n/**\n * Finer grained data types that takes binning and timeUnit into account.\n */\nvar ExtendedType;\n(function (ExtendedType) {\n    ExtendedType[ExtendedType[\"Q\"] = type_1.Type.QUANTITATIVE] = \"Q\";\n    ExtendedType[ExtendedType[\"BIN_Q\"] = 'bin_' + type_1.Type.QUANTITATIVE] = \"BIN_Q\";\n    ExtendedType[ExtendedType[\"T\"] = type_1.Type.TEMPORAL] = \"T\";\n    /**\n     * Time Unit Temporal Field with time scale.\n     */\n    ExtendedType[ExtendedType[\"TIMEUNIT_T\"] = 'timeUnit_time'] = \"TIMEUNIT_T\";\n    /**\n     * Time Unit Temporal Field with ordinal scale.\n     */\n    ExtendedType[ExtendedType[\"TIMEUNIT_O\"] = 'timeUnit_' + type_1.Type.ORDINAL] = \"TIMEUNIT_O\";\n    ExtendedType[ExtendedType[\"O\"] = type_1.Type.ORDINAL] = \"O\";\n    ExtendedType[ExtendedType[\"N\"] = type_1.Type.NOMINAL] = \"N\";\n    ExtendedType[ExtendedType[\"K\"] = expandedtype_1.ExpandedType.KEY] = \"K\";\n    ExtendedType[ExtendedType[\"NONE\"] = '-'] = \"NONE\";\n})(ExtendedType = exports.ExtendedType || (exports.ExtendedType = {}));\nexports.Q = ExtendedType.Q;\nexports.BIN_Q = ExtendedType.BIN_Q;\nexports.T = ExtendedType.T;\nexports.TIMEUNIT_T = ExtendedType.TIMEUNIT_T;\nexports.TIMEUNIT_O = ExtendedType.TIMEUNIT_O;\nexports.O = ExtendedType.O;\nexports.N = ExtendedType.N;\nexports.K = ExtendedType.K;\nexports.NONE = ExtendedType.NONE;\nfunction getExtendedType(fieldQ) {\n    if (fieldQ.bin) {\n        return ExtendedType.BIN_Q;\n    }\n    else if (fieldQ.timeUnit) {\n        var sType = encoding_1.scaleType(fieldQ);\n        return scale_1.hasDiscreteDomain(sType) ? ExtendedType.TIMEUNIT_O : ExtendedType.TIMEUNIT_T;\n    }\n    return fieldQ.type;\n}\nexports.getExtendedType = getExtendedType;\n//# sourceMappingURL=type.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Scorer = /** @class */ (function () {\n    function Scorer(type) {\n        this.type = type;\n        this.scoreIndex = this.initScore();\n    }\n    Scorer.prototype.getFeatureScore = function (feature) {\n        var type = this.type;\n        var score = this.scoreIndex[feature];\n        if (score !== undefined) {\n            return { type: type, feature: feature, score: score };\n        }\n        return undefined;\n    };\n    return Scorer;\n}());\nexports.Scorer = Scorer;\n//# sourceMappingURL=base.js.map","\"use strict\";\n/**\n * Field Type (with Bin and TimeUnit) and Channel Score (Cleveland / Mackinlay based)\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar channel_1 = require(\"vega-lite/build/src/channel\");\nvar config_1 = require(\"../../config\");\nvar encoding_1 = require(\"../../query/encoding\");\nvar type_1 = require(\"./type\");\nvar base_1 = require(\"./base\");\n/**\n * Effectiveness Score for preferred axis.\n */\nvar AxisScorer = /** @class */ (function (_super) {\n    __extends(AxisScorer, _super);\n    function AxisScorer() {\n        return _super.call(this, 'Axis') || this;\n    }\n    AxisScorer.prototype.initScore = function (opt) {\n        if (opt === void 0) { opt = {}; }\n        opt = __assign({}, config_1.DEFAULT_QUERY_CONFIG, opt);\n        var score = {};\n        var preferredAxes = [{\n                feature: type_1.BIN_Q,\n                opt: 'preferredBinAxis'\n            }, {\n                feature: type_1.T,\n                opt: 'preferredTemporalAxis'\n            }, {\n                feature: type_1.TIMEUNIT_T,\n                opt: 'preferredTemporalAxis'\n            }, {\n                feature: type_1.TIMEUNIT_O,\n                opt: 'preferredTemporalAxis'\n            }, {\n                feature: type_1.O,\n                opt: 'preferredOrdinalAxis'\n            }, {\n                feature: type_1.N,\n                opt: 'preferredNominalAxis'\n            }];\n        preferredAxes.forEach(function (pAxis) {\n            if (opt[pAxis.opt] === channel_1.Channel.X) {\n                // penalize the other axis\n                score[pAxis.feature + '_' + channel_1.Channel.Y] = -0.01;\n            }\n            else if (opt[pAxis.opt] === channel_1.Channel.Y) {\n                // penalize the other axis\n                score[pAxis.feature + '_' + channel_1.Channel.X] = -0.01;\n            }\n        });\n        return score;\n    };\n    AxisScorer.prototype.featurize = function (type, channel) {\n        return type + '_' + channel;\n    };\n    AxisScorer.prototype.getScore = function (specM, _, __) {\n        var _this = this;\n        return specM.getEncodings().reduce(function (features, encQ) {\n            if (encoding_1.isFieldQuery(encQ) || encoding_1.isAutoCountQuery(encQ)) {\n                var type = type_1.getExtendedType(encQ);\n                var feature = _this.featurize(type, encQ.channel);\n                var featureScore = _this.getFeatureScore(feature);\n                if (featureScore) {\n                    features.push(featureScore);\n                }\n            }\n            return features;\n        }, []);\n    };\n    return AxisScorer;\n}(base_1.Scorer));\nexports.AxisScorer = AxisScorer;\n//# sourceMappingURL=axis.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar base_1 = require(\"./base\");\nvar encoding_1 = require(\"../../query/encoding\");\n/**\n * Penalize if facet channels are the only dimensions\n */\nvar DimensionScorer = /** @class */ (function (_super) {\n    __extends(DimensionScorer, _super);\n    function DimensionScorer() {\n        return _super.call(this, 'Dimension') || this;\n    }\n    DimensionScorer.prototype.initScore = function () {\n        return {\n            row: -2,\n            column: -2,\n            color: 0,\n            opacity: 0,\n            size: 0,\n            shape: 0\n        };\n    };\n    DimensionScorer.prototype.getScore = function (specM, _, __) {\n        var _this = this;\n        if (specM.isAggregate()) {\n            specM.getEncodings().reduce(function (maxFScore, encQ) {\n                if (encoding_1.isAutoCountQuery(encQ) || (encoding_1.isFieldQuery(encQ) && !encQ.aggregate)) {\n                    var featureScore = _this.getFeatureScore(encQ.channel + '');\n                    if (featureScore && featureScore.score > maxFScore.score) {\n                        return featureScore;\n                    }\n                }\n                return maxFScore;\n            }, { type: 'Dimension', feature: 'No Dimension', score: -5 });\n        }\n        return [];\n    };\n    return DimensionScorer;\n}(base_1.Scorer));\nexports.DimensionScorer = DimensionScorer;\n//# sourceMappingURL=dimension.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar base_1 = require(\"./base\");\nvar config_1 = require(\"../../config\");\nvar encoding_1 = require(\"../../query/encoding\");\nvar channel_1 = require(\"vega-lite/build/src/channel\");\n/**\n * Effective Score for preferred facet\n */\nvar FacetScorer = /** @class */ (function (_super) {\n    __extends(FacetScorer, _super);\n    function FacetScorer() {\n        return _super.call(this, 'Facet') || this;\n    }\n    FacetScorer.prototype.initScore = function (opt) {\n        opt = __assign({}, config_1.DEFAULT_QUERY_CONFIG, opt);\n        var score = {};\n        if (opt.preferredFacet === channel_1.Channel.ROW) {\n            // penalize the other axis\n            score[channel_1.Channel.COLUMN] = -0.01;\n        }\n        else if (opt.preferredFacet === channel_1.Channel.COLUMN) {\n            // penalize the other axis\n            score[channel_1.Channel.ROW] = -0.01;\n        }\n        return score;\n    };\n    FacetScorer.prototype.getScore = function (specM, _, __) {\n        var _this = this;\n        return specM.getEncodings().reduce(function (features, encQ) {\n            if (encoding_1.isFieldQuery(encQ) || encoding_1.isAutoCountQuery(encQ)) {\n                var featureScore = _this.getFeatureScore(encQ.channel);\n                if (featureScore) {\n                    features.push(featureScore);\n                }\n            }\n            return features;\n        }, []);\n    };\n    return FacetScorer;\n}(base_1.Scorer));\nexports.FacetScorer = FacetScorer;\n;\n//# sourceMappingURL=facet.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar base_1 = require(\"./base\");\nvar encoding_1 = require(\"../../query/encoding\");\n/**\n * Effectivenss score that penalize size for bar and tick\n */\nvar SizeChannelScorer = /** @class */ (function (_super) {\n    __extends(SizeChannelScorer, _super);\n    function SizeChannelScorer() {\n        return _super.call(this, 'SizeChannel') || this;\n    }\n    SizeChannelScorer.prototype.initScore = function () {\n        return {\n            bar_size: -2,\n            tick_size: -2\n        };\n    };\n    SizeChannelScorer.prototype.getScore = function (specM, _, __) {\n        var _this = this;\n        var mark = specM.getMark();\n        return specM.getEncodings().reduce(function (featureScores, encQ) {\n            if (encoding_1.isFieldQuery(encQ) || encoding_1.isAutoCountQuery(encQ)) {\n                var feature = mark + '_' + encQ.channel;\n                var featureScore = _this.getFeatureScore(feature);\n                if (featureScore) {\n                    featureScores.push(featureScore);\n                }\n            }\n            return featureScores;\n        }, []);\n    };\n    return SizeChannelScorer;\n}(base_1.Scorer));\nexports.SizeChannelScorer = SizeChannelScorer;\n//# sourceMappingURL=sizechannel.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar shorthand_1 = require(\"../../query/shorthand\");\nvar encoding_1 = require(\"../../query/encoding\");\nvar util_1 = require(\"../../util\");\nvar type_1 = require(\"./type\");\nvar base_1 = require(\"./base\");\nexports.TERRIBLE = -10;\n/**\n * Effectiveness score for relationship between\n * Field Type (with Bin and TimeUnit) and Channel Score (Cleveland / Mackinlay based)\n */\nvar TypeChannelScorer = /** @class */ (function (_super) {\n    __extends(TypeChannelScorer, _super);\n    function TypeChannelScorer() {\n        return _super.call(this, 'TypeChannel') || this;\n    }\n    TypeChannelScorer.prototype.initScore = function () {\n        var _this = this;\n        var SCORE = {};\n        // Continuous Quantitative / Temporal Fields\n        var CONTINUOUS_TYPE_CHANNEL_SCORE = {\n            x: 0,\n            y: 0,\n            size: -0.575,\n            color: -0.725,\n            text: -2,\n            opacity: -3,\n            shape: exports.TERRIBLE,\n            row: exports.TERRIBLE,\n            column: exports.TERRIBLE,\n            detail: 2 * exports.TERRIBLE\n        };\n        [type_1.Q, type_1.T, type_1.TIMEUNIT_T].forEach(function (type) {\n            util_1.keys(CONTINUOUS_TYPE_CHANNEL_SCORE).forEach(function (channel) {\n                SCORE[_this.featurize(type, channel)] = CONTINUOUS_TYPE_CHANNEL_SCORE[channel];\n            });\n        });\n        // Discretized Quantitative / Temporal Fields / Ordinal\n        var ORDERED_TYPE_CHANNEL_SCORE = util_1.extend({}, CONTINUOUS_TYPE_CHANNEL_SCORE, {\n            row: -0.75,\n            column: -0.75,\n            shape: -3.1,\n            text: -3.2,\n            detail: -4\n        });\n        [type_1.BIN_Q, type_1.TIMEUNIT_O, type_1.O].forEach(function (type) {\n            util_1.keys(ORDERED_TYPE_CHANNEL_SCORE).forEach(function (channel) {\n                SCORE[_this.featurize(type, channel)] = ORDERED_TYPE_CHANNEL_SCORE[channel];\n            });\n        });\n        var NOMINAL_TYPE_CHANNEL_SCORE = {\n            x: 0,\n            y: 0,\n            color: -0.6,\n            shape: -0.65,\n            row: -0.7,\n            column: -0.7,\n            text: -0.8,\n            detail: -2,\n            size: -3,\n            opacity: -3.1,\n        };\n        util_1.keys(NOMINAL_TYPE_CHANNEL_SCORE).forEach(function (channel) {\n            SCORE[_this.featurize(type_1.N, channel)] = NOMINAL_TYPE_CHANNEL_SCORE[channel];\n            SCORE[_this.featurize(type_1.K, channel)] =\n                // Putting key on position or detail isn't terrible\n                util_1.contains(['x', 'y', 'detail'], channel) ? -1 :\n                    NOMINAL_TYPE_CHANNEL_SCORE[channel] - 2;\n        });\n        return SCORE;\n    };\n    TypeChannelScorer.prototype.featurize = function (type, channel) {\n        return type + '_' + channel;\n    };\n    TypeChannelScorer.prototype.getScore = function (specM, schema, opt) {\n        var _this = this;\n        var encodingQueryByField = specM.getEncodings().reduce(function (m, encQ) {\n            if (encoding_1.isFieldQuery(encQ) || encoding_1.isAutoCountQuery(encQ)) {\n                var fieldKey = shorthand_1.fieldDef(encQ);\n                (m[fieldKey] = m[fieldKey] || []).push(encQ);\n            }\n            return m;\n        }, {});\n        var features = [];\n        util_1.forEach(encodingQueryByField, function (encQs) {\n            var bestFieldFeature = encQs.reduce(function (best, encQ) {\n                if (encoding_1.isFieldQuery(encQ) || encoding_1.isAutoCountQuery(encQ)) {\n                    var type = type_1.getExtendedType(encQ);\n                    var feature = _this.featurize(type, encQ.channel);\n                    var featureScore = _this.getFeatureScore(feature);\n                    if (best === null || featureScore.score > best.score) {\n                        return featureScore;\n                    }\n                }\n                return best;\n            }, null);\n            features.push(bestFieldFeature);\n            // TODO: add plus for over-encoding of one field\n        });\n        return features;\n    };\n    return TypeChannelScorer;\n}(base_1.Scorer));\nexports.TypeChannelScorer = TypeChannelScorer;\n//# sourceMappingURL=typechannel.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar channel_1 = require(\"vega-lite/build/src/channel\");\nvar mark_1 = require(\"vega-lite/build/src/mark\");\nvar util_1 = require(\"../../util\");\nvar type_1 = require(\"./type\");\nvar base_1 = require(\"./base\");\nvar MarkScorer = /** @class */ (function (_super) {\n    __extends(MarkScorer, _super);\n    function MarkScorer() {\n        return _super.call(this, 'Mark') || this;\n    }\n    MarkScorer.prototype.initScore = function () {\n        return init();\n    };\n    MarkScorer.prototype.getScore = function (specM, _, __) {\n        var mark = specM.getMark();\n        if (mark === mark_1.Mark.CIRCLE || mark === mark_1.Mark.SQUARE) {\n            mark = mark_1.Mark.POINT;\n        }\n        var xEncQ = specM.getEncodingQueryByChannel(channel_1.Channel.X);\n        var xType = xEncQ ? type_1.getExtendedType(xEncQ) : type_1.NONE;\n        var yEncQ = specM.getEncodingQueryByChannel(channel_1.Channel.Y);\n        var yType = yEncQ ? type_1.getExtendedType(yEncQ) : type_1.NONE;\n        var isOccluded = !specM.isAggregate(); // FIXME\n        var feature = xType + '_' + yType + '_' + isOccluded + '_' + mark;\n        var featureScore = this.getFeatureScore(feature);\n        return [featureScore];\n    };\n    return MarkScorer;\n}(base_1.Scorer));\nexports.MarkScorer = MarkScorer;\nfunction featurize(xType, yType, hasOcclusion, mark) {\n    return xType + '_' + yType + '_' + hasOcclusion + '_' + mark;\n}\nexports.featurize = featurize;\nfunction init() {\n    var MEASURES = [type_1.Q, type_1.T];\n    var DISCRETE = [type_1.BIN_Q, type_1.TIMEUNIT_O, type_1.O, type_1.N, type_1.K];\n    var DISCRETE_OR_NONE = DISCRETE.concat([type_1.NONE]);\n    var SCORE = {};\n    // QxQ\n    MEASURES.forEach(function (xType) {\n        MEASURES.forEach(function (yType) {\n            // has occlusion\n            var occludedQQMark = {\n                point: 0,\n                text: -0.2,\n                tick: -0.5,\n                rect: -1,\n                bar: -2,\n                line: -2,\n                area: -2,\n                rule: -2.5\n            };\n            util_1.forEach(occludedQQMark, function (score, mark) {\n                var feature = featurize(xType, yType, true, mark);\n                SCORE[feature] = score;\n            });\n            // no occlusion\n            // TODO: possible to use connected scatter plot\n            var noOccludedQQMark = {\n                point: 0,\n                text: -0.2,\n                tick: -0.5,\n                bar: -2,\n                line: -2,\n                area: -2,\n                rule: -2.5\n            };\n            util_1.forEach(noOccludedQQMark, function (score, mark) {\n                var feature = featurize(xType, yType, false, mark);\n                SCORE[feature] = score;\n            });\n        });\n    });\n    // DxQ, QxD\n    MEASURES.forEach(function (xType) {\n        // HAS OCCLUSION\n        DISCRETE_OR_NONE.forEach(function (yType) {\n            var occludedDimensionMeasureMark = {\n                tick: 0,\n                point: -0.2,\n                text: -0.5,\n                bar: -2,\n                line: -2,\n                area: -2,\n                rule: -2.5\n            };\n            util_1.forEach(occludedDimensionMeasureMark, function (score, mark) {\n                var feature = featurize(xType, yType, true, mark);\n                SCORE[feature] = score;\n                // also do the inverse\n                var feature2 = featurize(yType, xType, true, mark);\n                SCORE[feature2] = score;\n            });\n        });\n        [type_1.TIMEUNIT_T].forEach(function (yType) {\n            var occludedDimensionMeasureMark = {\n                // For Time Dimension with time scale, tick is not good\n                point: 0,\n                text: -0.5,\n                tick: -1,\n                bar: -2,\n                line: -2,\n                area: -2,\n                rule: -2.5\n            };\n            util_1.forEach(occludedDimensionMeasureMark, function (score, mark) {\n                var feature = featurize(xType, yType, true, mark);\n                SCORE[feature] = score;\n                // also do the inverse\n                var feature2 = featurize(yType, xType, true, mark);\n                SCORE[feature2] = score;\n            });\n        });\n        // NO OCCLUSION\n        [type_1.NONE, type_1.N, type_1.O, type_1.K].forEach(function (yType) {\n            var noOccludedQxN = {\n                bar: 0,\n                point: -0.2,\n                tick: -0.25,\n                text: -0.3,\n                // Line / Area can mislead trend for N\n                line: -2,\n                area: -2,\n                // Non-sense to use rule here\n                rule: -2.5\n            };\n            util_1.forEach(noOccludedQxN, function (score, mark) {\n                var feature = featurize(xType, yType, false, mark);\n                SCORE[feature] = score;\n                // also do the inverse\n                var feature2 = featurize(yType, xType, false, mark);\n                SCORE[feature2] = score;\n            });\n        });\n        [type_1.BIN_Q].forEach(function (yType) {\n            var noOccludedQxBinQ = {\n                bar: 0,\n                point: -0.2,\n                tick: -0.25,\n                text: -0.3,\n                // Line / Area isn't the best fit for bin\n                line: -0.5,\n                area: -0.5,\n                // Non-sense to use rule here\n                rule: -2.5\n            };\n            util_1.forEach(noOccludedQxBinQ, function (score, mark) {\n                var feature = featurize(xType, yType, false, mark);\n                SCORE[feature] = score;\n                // also do the inverse\n                var feature2 = featurize(yType, xType, false, mark);\n                SCORE[feature2] = score;\n            });\n        });\n        [type_1.TIMEUNIT_T, type_1.TIMEUNIT_O].forEach(function (yType) {\n            // For aggregate / surely no occlusion plot, Temporal with time or ordinal\n            // are not that different.\n            var noOccludedQxBinQ = {\n                line: 0,\n                area: -0.1,\n                bar: -0.2,\n                point: -0.3,\n                tick: -0.35,\n                text: -0.4,\n                // Non-sense to use rule here\n                rule: -2.5\n            };\n            util_1.forEach(noOccludedQxBinQ, function (score, mark) {\n                var feature = featurize(xType, yType, false, mark);\n                SCORE[feature] = score;\n                // also do the inverse\n                var feature2 = featurize(yType, xType, false, mark);\n                SCORE[feature2] = score;\n            });\n        });\n    });\n    [type_1.TIMEUNIT_T].forEach(function (xType) {\n        [type_1.TIMEUNIT_T].forEach(function (yType) {\n            // has occlusion\n            var ttMark = {\n                point: 0,\n                rect: -0.1,\n                text: -0.5,\n                tick: -1,\n                bar: -2,\n                line: -2,\n                area: -2,\n                rule: -2.5\n            };\n            // No difference between has occlusion and no occlusion\n            // as most of the time, it will be the occluded case.\n            util_1.forEach(ttMark, function (score, mark) {\n                var feature = featurize(xType, yType, true, mark);\n                SCORE[feature] = score;\n            });\n            util_1.forEach(ttMark, function (score, mark) {\n                var feature = featurize(xType, yType, false, mark);\n                SCORE[feature] = score;\n            });\n        });\n        DISCRETE_OR_NONE.forEach(function (yType) {\n            // has occlusion\n            var tdMark = {\n                tick: 0,\n                point: -0.2,\n                text: -0.5,\n                rect: -1,\n                bar: -2,\n                line: -2,\n                area: -2,\n                rule: -2.5\n            };\n            // No difference between has occlusion and no occlusion\n            // as most of the time, it will be the occluded case.\n            util_1.forEach(tdMark, function (score, mark) {\n                var feature = featurize(xType, yType, true, mark);\n                SCORE[feature] = score;\n            });\n            util_1.forEach(tdMark, function (score, mark) {\n                var feature = featurize(yType, xType, true, mark);\n                SCORE[feature] = score;\n            });\n            util_1.forEach(tdMark, function (score, mark) {\n                var feature = featurize(xType, yType, false, mark);\n                SCORE[feature] = score;\n            });\n            util_1.forEach(tdMark, function (score, mark) {\n                var feature = featurize(yType, xType, false, mark);\n                SCORE[feature] = score;\n            });\n        });\n    });\n    // DxD\n    DISCRETE_OR_NONE.forEach(function (xType) {\n        DISCRETE_OR_NONE.forEach(function (yType) {\n            // has occlusion\n            var ddMark = {\n                point: 0,\n                rect: 0,\n                text: -0.1,\n                tick: -1,\n                bar: -2,\n                line: -2,\n                area: -2,\n                rule: -2.5\n            };\n            util_1.forEach(ddMark, function (score, mark) {\n                var feature = featurize(xType, yType, true, mark);\n                SCORE[feature] = score;\n            });\n            // same for no occlusion.\n            util_1.forEach(ddMark, function (score, mark) {\n                var feature = featurize(xType, yType, false, mark);\n                SCORE[feature] = score;\n            });\n        });\n    });\n    return SCORE;\n}\n//# sourceMappingURL=mark.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar axis_1 = require(\"./axis\");\nvar dimension_1 = require(\"./dimension\");\nvar facet_1 = require(\"./facet\");\nvar sizechannel_1 = require(\"./sizechannel\");\nvar typechannel_1 = require(\"./typechannel\");\nvar mark_1 = require(\"./mark\");\nvar SCORERS = [\n    new axis_1.AxisScorer(),\n    new dimension_1.DimensionScorer(),\n    new facet_1.FacetScorer(),\n    new mark_1.MarkScorer(),\n    new sizechannel_1.SizeChannelScorer(),\n    new typechannel_1.TypeChannelScorer()\n];\n// TODO: x/y, row/column preference\n// TODO: stacking\n// TODO: Channel, Cardinality\n// TODO: Penalize over encoding\nfunction effectiveness(specM, schema, opt) {\n    var features = SCORERS.reduce(function (f, scorer) {\n        var scores = scorer.getScore(specM, schema, opt);\n        return f.concat(scores);\n    }, []);\n    return {\n        score: features.reduce(function (s, f) {\n            return s + f.score;\n        }, 0),\n        features: features\n    };\n}\nexports.effectiveness = effectiveness;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar type_1 = require(\"vega-lite/build/src/type\");\nvar util_1 = require(\"../util\");\nvar encoding_1 = require(\"../query/encoding\");\nexports.name = 'aggregationQuality';\nfunction score(specM, schema, opt) {\n    var feature = aggregationQualityFeature(specM, schema, opt);\n    return {\n        score: feature.score,\n        features: [feature]\n    };\n}\nexports.score = score;\nfunction aggregationQualityFeature(specM, _, __) {\n    var encodings = specM.getEncodings();\n    if (specM.isAggregate()) {\n        var isRawContinuous = function (encQ) {\n            return encoding_1.isFieldQuery(encQ) && ((encQ.type === type_1.Type.QUANTITATIVE && !encQ.bin && !encQ.aggregate) ||\n                (encQ.type === type_1.Type.TEMPORAL && !encQ.timeUnit));\n        };\n        if (util_1.some(encodings, isRawContinuous)) {\n            // These are plots that pollute continuous fields as dimension.\n            // They are often intermediate visualizations rather than what users actually want.\n            return {\n                type: exports.name,\n                score: 0.1,\n                feature: 'Aggregate with raw continuous'\n            };\n        }\n        if (util_1.some(encodings, function (encQ) { return encoding_1.isFieldQuery(encQ) && encoding_1.isDimension(encQ); })) {\n            var hasCount = util_1.some(encodings, function (encQ) {\n                return (encoding_1.isFieldQuery(encQ) && encQ.aggregate === 'count') || encoding_1.isEnabledAutoCountQuery(encQ);\n            });\n            var hasBin = util_1.some(encodings, function (encQ) {\n                return encoding_1.isFieldQuery(encQ) && !!encQ.bin;\n            });\n            if (hasCount) {\n                // If there is count, we might add additional count field, making it a little less simple\n                // then when we just apply aggregate to Q field\n                return {\n                    type: exports.name,\n                    score: 0.8,\n                    feature: 'Aggregate with count'\n                };\n            }\n            else if (hasBin) {\n                // This is not as good as binning all the Q and show heatmap\n                return {\n                    type: exports.name,\n                    score: 0.7,\n                    feature: 'Aggregate with bin but without count'\n                };\n            }\n            else {\n                return {\n                    type: exports.name,\n                    score: 0.9,\n                    feature: 'Aggregate without count and without bin'\n                };\n            }\n        }\n        // no dimension -- often not very useful\n        return {\n            type: exports.name,\n            score: 0.3,\n            feature: 'Aggregate without dimension'\n        };\n    }\n    else {\n        if (util_1.some(encodings, function (encQ) { return encoding_1.isFieldQuery(encQ) && !encoding_1.isDimension(encQ); })) {\n            // raw plots with measure -- simplest of all!\n            return {\n                type: exports.name,\n                score: 1,\n                feature: 'Raw with measure'\n            };\n        }\n        // raw plots with no measure -- often a lot of occlusion\n        return {\n            type: exports.name,\n            score: 0.2,\n            feature: 'Raw without measure'\n        };\n    }\n}\n//# sourceMappingURL=aggregation.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar encoding_1 = require(\"../query/encoding\");\nexports.name = 'fieldOrder';\n/**\n * Return ranking score based on indices of encoded fields in the schema.\n * If there are multiple fields, prioritize field on the lower indices of encodings.\n *\n * For example, to compare two specs with two encodings each,\n * first we compare the field on the 0-th index\n * and only compare the field on the 1-th index only if the fields on the 0-th index are the same.\n */\nfunction score(specM, schema, _) {\n    var fieldWildcardIndices = specM.wildcardIndex.encodingIndicesByProperty.get('field');\n    if (!fieldWildcardIndices) {\n        return {\n            score: 0,\n            features: []\n        };\n    }\n    var encodings = specM.specQuery.encodings;\n    var numFields = schema.fieldSchemas.length;\n    var features = [];\n    var totalScore = 0, base = 1;\n    for (var i = fieldWildcardIndices.length - 1; i >= 0; i--) {\n        var index = fieldWildcardIndices[i];\n        var encoding = encodings[index];\n        // Skip ValueQuery as we only care about order of fields.\n        var field = void 0;\n        if (encoding_1.isFieldQuery(encoding)) {\n            field = encoding.field;\n        }\n        else {\n            continue;\n        }\n        var fieldWildcard = specM.wildcardIndex.encodings[index].get('field');\n        var fieldIndex = schema.fieldSchema(field).index;\n        // reverse order field with lower index should get higher score and come first\n        var score_1 = -fieldIndex * base;\n        totalScore += score_1;\n        features.push({\n            score: score_1,\n            type: 'fieldOrder',\n            feature: \"field \" + fieldWildcard.name + \" is \" + field + \" (#\" + fieldIndex + \" in the schema)\"\n        });\n        base *= numFields;\n    }\n    return {\n        score: totalScore,\n        features: features\n    };\n}\nexports.score = score;\n//# sourceMappingURL=fieldorder.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar result_1 = require(\"../result\");\nvar effectiveness_1 = require(\"./effectiveness\");\n__export(require(\"./effectiveness\"));\nvar aggregation = require(\"./aggregation\");\nexports.aggregation = aggregation;\nvar fieldOrder = require(\"./fieldorder\");\nexports.fieldOrder = fieldOrder;\n/**\n * Registry for all encoding ranking functions\n */\nvar rankingRegistry = {};\n/**\n * Add an ordering function to the registry.\n */\nfunction register(name, keyFn) {\n    rankingRegistry[name] = keyFn;\n}\nexports.register = register;\nfunction get(name) {\n    return rankingRegistry[name];\n}\nexports.get = get;\nfunction rank(group, query, schema, level) {\n    if (!query.nest || level === query.nest.length) {\n        if (query.orderBy || query.chooseBy) {\n            group.items.sort(comparatorFactory(query.orderBy || query.chooseBy, schema, query.config));\n            if (query.chooseBy) {\n                if (group.items.length > 0) {\n                    // for chooseBy -- only keep the top-item\n                    group.items.splice(1);\n                }\n            }\n        }\n    }\n    else {\n        // sort lower-level nodes first because our ranking takes top-item in the subgroup\n        group.items.forEach(function (subgroup) {\n            rank(subgroup, query, schema, level + 1);\n        });\n        if (query.nest[level].orderGroupBy) {\n            group.items.sort(groupComparatorFactory(query.nest[level].orderGroupBy, schema, query.config));\n        }\n    }\n    return group;\n}\nexports.rank = rank;\nfunction comparatorFactory(name, schema, opt) {\n    return function (m1, m2) {\n        if (name instanceof Array) {\n            return getScoreDifference(name, m1, m2, schema, opt);\n        }\n        else {\n            return getScoreDifference([name], m1, m2, schema, opt);\n        }\n    };\n}\nexports.comparatorFactory = comparatorFactory;\nfunction groupComparatorFactory(name, schema, opt) {\n    return function (g1, g2) {\n        var m1 = result_1.getTopResultTreeItem(g1);\n        var m2 = result_1.getTopResultTreeItem(g2);\n        if (name instanceof Array) {\n            return getScoreDifference(name, m1, m2, schema, opt);\n        }\n        else {\n            return getScoreDifference([name], m1, m2, schema, opt);\n        }\n    };\n}\nexports.groupComparatorFactory = groupComparatorFactory;\nfunction getScoreDifference(name, m1, m2, schema, opt) {\n    for (var _i = 0, name_1 = name; _i < name_1.length; _i++) {\n        var rankingName = name_1[_i];\n        var scoreDifference = getScore(m2, rankingName, schema, opt).score - getScore(m1, rankingName, schema, opt).score;\n        if (scoreDifference !== 0) {\n            return scoreDifference;\n        }\n    }\n    return 0;\n}\nfunction getScore(model, rankingName, schema, opt) {\n    if (model.getRankingScore(rankingName) !== undefined) {\n        return model.getRankingScore(rankingName);\n    }\n    var fn = get(rankingName);\n    var score = fn(model, schema, opt);\n    model.setRankingScore(rankingName, score);\n    return score;\n}\nexports.getScore = getScore;\nexports.EFFECTIVENESS = 'effectiveness';\nregister(exports.EFFECTIVENESS, effectiveness_1.effectiveness);\nregister(aggregation.name, aggregation.score);\nregister(fieldOrder.name, fieldOrder.score);\n//# sourceMappingURL=ranking.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar channel_1 = require(\"vega-lite/build/src/channel\");\nvar scale_1 = require(\"vega-lite/build/src/scale\");\nvar type_1 = require(\"vega-lite/build/src/type\");\nvar encoding_1 = require(\"./query/encoding\");\nvar expandedtype_1 = require(\"./query/expandedtype\");\nfunction stylize(answerSet, schema, opt) {\n    var encQIndex = {};\n    answerSet = answerSet.map(function (specM) {\n        if (opt.smallRangeStepForHighCardinalityOrFacet) {\n            specM = smallRangeStepForHighCardinalityOrFacet(specM, schema, encQIndex, opt);\n        }\n        if (opt.nominalColorScaleForHighCardinality) {\n            specM = nominalColorScaleForHighCardinality(specM, schema, encQIndex, opt);\n        }\n        if (opt.xAxisOnTopForHighYCardinalityWithoutColumn) {\n            specM = xAxisOnTopForHighYCardinalityWithoutColumn(specM, schema, encQIndex, opt);\n        }\n        return specM;\n    });\n    return answerSet;\n}\nexports.stylize = stylize;\nfunction smallRangeStepForHighCardinalityOrFacet(specM, schema, encQIndex, opt) {\n    [channel_1.Channel.ROW, channel_1.Channel.Y, channel_1.Channel.COLUMN, channel_1.Channel.X].forEach(function (channel) {\n        encQIndex[channel] = specM.getEncodingQueryByChannel(channel);\n    });\n    var yEncQ = encQIndex[channel_1.Channel.Y];\n    if (yEncQ !== undefined && encoding_1.isFieldQuery(yEncQ)) {\n        if (encQIndex[channel_1.Channel.ROW] ||\n            schema.cardinality(yEncQ) > opt.smallRangeStepForHighCardinalityOrFacet.maxCardinality) {\n            // We check for undefined rather than\n            // yEncQ.scale = yEncQ.scale || {} to cover the case where\n            // yEncQ.scale has been set to false/null.\n            // This prevents us from incorrectly overriding scale and\n            // assigning a rangeStep when scale is set to false.\n            if (yEncQ.scale === undefined) {\n                yEncQ.scale = {};\n            }\n            // We do not want to assign a rangeStep if scale is set to false\n            // and we only apply this if the scale is (or can be) an ordinal scale.\n            var yScaleType = encoding_1.scaleType(yEncQ);\n            if (yEncQ.scale && (yScaleType === undefined || scale_1.hasDiscreteDomain(yScaleType))) {\n                if (!yEncQ.scale.rangeStep) {\n                    yEncQ.scale.rangeStep = 12;\n                }\n            }\n        }\n    }\n    var xEncQ = encQIndex[channel_1.Channel.X];\n    if (encoding_1.isFieldQuery(xEncQ)) {\n        if (encQIndex[channel_1.Channel.COLUMN] ||\n            schema.cardinality(xEncQ) > opt.smallRangeStepForHighCardinalityOrFacet.maxCardinality) {\n            // Just like y, we don't want to do this if scale is null/false\n            if (xEncQ.scale === undefined) {\n                xEncQ.scale = {};\n            }\n            // We do not want to assign a rangeStep if scale is set to false\n            // and we only apply this if the scale is (or can be) an ordinal scale.\n            var xScaleType = encoding_1.scaleType(xEncQ);\n            if (xEncQ.scale && (xScaleType === undefined || scale_1.hasDiscreteDomain(xScaleType))) {\n                if (!xEncQ.scale.rangeStep) {\n                    xEncQ.scale.rangeStep = 12;\n                }\n            }\n        }\n    }\n    return specM;\n}\nexports.smallRangeStepForHighCardinalityOrFacet = smallRangeStepForHighCardinalityOrFacet;\nfunction nominalColorScaleForHighCardinality(specM, schema, encQIndex, opt) {\n    encQIndex[channel_1.Channel.COLOR] = specM.getEncodingQueryByChannel(channel_1.Channel.COLOR);\n    var colorEncQ = encQIndex[channel_1.Channel.COLOR];\n    if (encoding_1.isFieldQuery(colorEncQ) && (colorEncQ !== undefined) && (colorEncQ.type === type_1.Type.NOMINAL || colorEncQ.type === expandedtype_1.ExpandedType.KEY) &&\n        (schema.cardinality(colorEncQ) > opt.nominalColorScaleForHighCardinality.maxCardinality)) {\n        if (colorEncQ.scale === undefined) {\n            colorEncQ.scale = {};\n        }\n        if (colorEncQ.scale) {\n            if (!colorEncQ.scale.range) {\n                colorEncQ.scale.scheme = opt.nominalColorScaleForHighCardinality.palette;\n            }\n        }\n    }\n    return specM;\n}\nexports.nominalColorScaleForHighCardinality = nominalColorScaleForHighCardinality;\nfunction xAxisOnTopForHighYCardinalityWithoutColumn(specM, schema, encQIndex, opt) {\n    [channel_1.Channel.COLUMN, channel_1.Channel.X, channel_1.Channel.Y].forEach(function (channel) {\n        encQIndex[channel] = specM.getEncodingQueryByChannel(channel);\n    });\n    if (encQIndex[channel_1.Channel.COLUMN] === undefined) {\n        var xEncQ = encQIndex[channel_1.Channel.X];\n        var yEncQ = encQIndex[channel_1.Channel.Y];\n        if (encoding_1.isFieldQuery(xEncQ) && encoding_1.isFieldQuery(yEncQ) && yEncQ !== undefined && yEncQ.field && scale_1.hasDiscreteDomain(encoding_1.scaleType(yEncQ))) {\n            if (xEncQ !== undefined) {\n                if (schema.cardinality(yEncQ) > opt.xAxisOnTopForHighYCardinalityWithoutColumn.maxCardinality) {\n                    if (xEncQ.axis === undefined) {\n                        xEncQ.axis = {};\n                    }\n                    if (xEncQ.axis && !xEncQ.axis.orient) {\n                        xEncQ.axis.orient = 'top';\n                    }\n                }\n            }\n        }\n    }\n    return specM;\n}\nexports.xAxisOnTopForHighYCardinalityWithoutColumn = xAxisOnTopForHighYCardinalityWithoutColumn;\n//# sourceMappingURL=stylize.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar config_1 = require(\"./config\");\nvar enumerator_1 = require(\"./enumerator\");\nvar model_1 = require(\"./model\");\nvar property_1 = require(\"./property\");\nvar stylize_1 = require(\"./stylize\");\nfunction generate(specQ, schema, opt) {\n    if (opt === void 0) { opt = config_1.DEFAULT_QUERY_CONFIG; }\n    // 1. Build a SpecQueryModel, which also contains wildcardIndex\n    var specM = model_1.SpecQueryModel.build(specQ, schema, opt);\n    var wildcardIndex = specM.wildcardIndex;\n    // 2. Enumerate each of the properties based on propPrecedence.\n    var answerSet = [specM]; // Initialize Answer Set with only the input spec query.\n    opt.propertyPrecedence.forEach(function (propKey) {\n        var prop = property_1.fromKey(propKey);\n        // If the original specQuery contains wildcard for this prop\n        if (wildcardIndex.hasProperty(prop)) {\n            // update answerset\n            var enumerator = enumerator_1.getEnumerator(prop);\n            var reducer = enumerator(wildcardIndex, schema, opt);\n            answerSet = answerSet.reduce(reducer, []);\n        }\n    });\n    if (opt.stylize) {\n        if ((opt.nominalColorScaleForHighCardinality !== null) ||\n            (opt.smallRangeStepForHighCardinalityOrFacet !== null) ||\n            (opt.xAxisOnTopForHighYCardinalityWithoutColumn !== null)) {\n            return stylize_1.stylize(answerSet, schema, opt);\n        }\n    }\n    return answerSet;\n}\nexports.generate = generate;\n//# sourceMappingURL=generate.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar config_1 = require(\"./config\");\nvar generate_1 = require(\"./generate\");\nvar nest_1 = require(\"./nest\");\nvar normalize_1 = require(\"./query/normalize\");\nvar ranking_1 = require(\"./ranking/ranking\");\nfunction recommend(q, schema, config) {\n    // 1. Normalize non-nested `groupBy` to always have `groupBy` inside `nest`\n    //    and merge config with the following precedence\n    //    query.config > config > DEFAULT_QUERY_CONFIG\n    q = __assign({}, normalize_1.normalize(q), { config: __assign({}, config_1.DEFAULT_QUERY_CONFIG, config, q.config) });\n    // 2. Generate\n    var answerSet = generate_1.generate(q.spec, schema, q.config);\n    var nestedAnswerSet = nest_1.nest(answerSet, q.nest);\n    var result = ranking_1.rank(nestedAnswerSet, q, schema, 0);\n    return {\n        query: q,\n        result: result\n    };\n}\nexports.recommend = recommend;\n//# sourceMappingURL=recommend.js.map","\"use strict\";\n/// <reference path=\"../typings/json.d.ts\" />\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar config = require(\"./config\");\nexports.config = config;\nvar constraint = require(\"./constraint\");\nexports.constraint = constraint;\nvar enumerate = require(\"./enumerator\");\nexports.enumerate = enumerate;\nvar wildcard = require(\"./wildcard\");\nexports.wildcard = wildcard;\nvar model = require(\"./model\");\nexports.model = model;\nvar nest = require(\"./nest\");\nexports.nest = nest;\nvar property = require(\"./property\");\nexports.property = property;\nvar query = require(\"./query\");\nexports.query = query;\nvar ranking = require(\"./ranking/ranking\");\nexports.ranking = ranking;\nvar result = require(\"./result\");\nexports.result = result;\nvar schema = require(\"./schema\");\nexports.schema = schema;\nvar util = require(\"./util\");\nexports.util = util;\nvar generate_1 = require(\"./generate\");\nexports.generate = generate_1.generate;\nvar recommend_1 = require(\"./recommend\");\nexports.recommend = recommend_1.recommend;\nvar package_json_1 = require(\"./package.json\");\nexports.version = package_json_1.version;\n//# sourceMappingURL=index.js.map"],"names":["value","require$$0","error","isArray","stringValue","Error","log","array","logical_1","util_1","channel_1","scale_1","axis_1","legend_1","datetime_1","property_1","mark_1","timeunit_1","type_1","this","wildcard_1","bin_1","aggregate_1","util","fielddef_1","encoding_1","stack_1","util_2","propindex_1","spec_1","shorthand_1","vlFieldDef","expandedtype_1","type_2","type","time","config_1","stats_1","schema_1","base_1","field_1","value_1","encoding","spec","encoding_2","groupBy","groupby_1","wildcardindex_1","nest_1","shorthand","transform","normalize_1","dimension_1","facet_1","sizechannel_1","typechannel_1","effectiveness_1","aggregation","result_1","model_1","enumerator_1","stylize_1","generate_1","ranking_1","config","constraint","enumerate","wildcard","model","nest","property","query","ranking","result","schema","recommend_1"],"mappings":"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"}